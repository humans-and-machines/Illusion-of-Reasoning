<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="src.analysis.common package" href="src.analysis.common.html"><link rel="prev" title="src package" href="src.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>src.analysis package - Illusion-of-Reasoning documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Illusion-of-Reasoning  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">Illusion-of-Reasoning  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">src</a><input aria-label="Toggle navigation of src" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="src.html">src package</a><input aria-label="Toggle navigation of src package" checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l3 current has-children current-page"><a class="current reference internal" href="#">src.analysis package</a><input aria-label="Toggle navigation of src.analysis package" checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html">src.analysis.common package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html">src.analysis.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.figures.html">src.analysis.figures package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html">src.analysis.h3_uncertainty package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="src.annotate.html">src.annotate package</a><input aria-label="Toggle navigation of src.annotate package" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="src.annotate.backcompat.html">src.annotate.backcompat package</a><input aria-label="Toggle navigation of src.annotate.backcompat package" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="src.annotate.backcompat.tasks.html">src.annotate.backcompat.tasks package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="src.annotate.cli.html">src.annotate.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.annotate.core.html">src.annotate.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.annotate.infra.html">src.annotate.infra package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.annotate.tasks.html">src.annotate.tasks package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.common.html">src.common package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="src.inference.html">src.inference package</a><input aria-label="Toggle navigation of src.inference package" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="src.inference.backends.html">src.inference.backends package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.inference.cli.html">src.inference.cli package</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="src.inference.domains.html">src.inference.domains package</a><input aria-label="Toggle navigation of src.inference.domains package" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="src.inference.domains.carpark.html">src.inference.domains.carpark package</a></li>
<li class="toctree-l5"><a class="reference internal" href="src.inference.domains.crossword.html">src.inference.domains.crossword package</a></li>
<li class="toctree-l5"><a class="reference internal" href="src.inference.domains.math.html">src.inference.domains.math package</a></li>
<li class="toctree-l5"><a class="reference internal" href="src.inference.domains.summarize.html">src.inference.domains.summarize package</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="src.inference.gateways.html">src.inference.gateways package</a><input aria-label="Toggle navigation of src.inference.gateways package" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l5"><a class="reference internal" href="src.inference.gateways.providers.html">src.inference.gateways.providers package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="src.inference.runners.html">src.inference.runners package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.inference.utils.html">src.inference.utils package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="src.training.html">src.training package</a><input aria-label="Toggle navigation of src.training package" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="src.training.cli.html">src.training.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.training.runtime.html">src.training.runtime package</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.training.utils.html">src.training.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/api/src.analysis.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="src-analysis-package">
<h1>src.analysis package<a class="headerlink" href="#src-analysis-package" title="Link to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src.analysis.common.html">src.analysis.common package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common.model_utils">src.analysis.common.model_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.model_utils.detect_domain"><code class="docutils literal notranslate"><span class="pre">detect_domain()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.model_utils.detect_model_key"><code class="docutils literal notranslate"><span class="pre">detect_model_key()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.model_utils.detect_temperature"><code class="docutils literal notranslate"><span class="pre">detect_temperature()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common.mpl_stub_helpers">src.analysis.common.mpl_stub_helpers module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.axhline"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.axhline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.fill_between"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.fill_between()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.get_legend_handles_labels"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.get_legend_handles_labels()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.grid"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.grid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.legend"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.legend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.plot"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.set_title"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.set_title()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.set_xlabel"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.set_xlabel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.set_xticklabels"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.set_xticklabels()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.set_xticks"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.set_xticks()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.AxisSettersMixin.set_ylabel"><code class="docutils literal notranslate"><span class="pre">AxisSettersMixin.set_ylabel()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.coerce_axes_sequence"><code class="docutils literal notranslate"><span class="pre">coerce_axes_sequence()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.mpl_stub_helpers.ensure_switch_backend"><code class="docutils literal notranslate"><span class="pre">ensure_switch_backend()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common.parser_helpers">src.analysis.common.parser_helpers module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.parser_helpers.add_binning_argument"><code class="docutils literal notranslate"><span class="pre">add_binning_argument()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.parser_helpers.add_carpark_softscore_args"><code class="docutils literal notranslate"><span class="pre">add_carpark_softscore_args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.parser_helpers.add_entropy_range_args"><code class="docutils literal notranslate"><span class="pre">add_entropy_range_args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.parser_helpers.standard_results_parser"><code class="docutils literal notranslate"><span class="pre">standard_results_parser()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common.pass_extraction">src.analysis.common.pass_extraction module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.pass_extraction.extract_pass_answer"><code class="docutils literal notranslate"><span class="pre">extract_pass_answer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.pass_extraction.extract_pass_text"><code class="docutils literal notranslate"><span class="pre">extract_pass_text()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common.problem_utils">src.analysis.common.problem_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.problem_utils.resolve_problem_identifier"><code class="docutils literal notranslate"><span class="pre">resolve_problem_identifier()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common.uncertainty">src.analysis.common.uncertainty module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.uncertainty.standardize_uncertainty"><code class="docutils literal notranslate"><span class="pre">standardize_uncertainty()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.common.html#src.analysis.common.uncertainty.standardize_uncertainty_with_stats"><code class="docutils literal notranslate"><span class="pre">standardize_uncertainty_with_stats()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.common.html#module-src.analysis.common">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.analysis.core.html">src.analysis.core package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_components">src.analysis.core.figure_1_components module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DeltaGrid"><code class="docutils literal notranslate"><span class="pre">DeltaGrid</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DeltaGrid.delta1"><code class="docutils literal notranslate"><span class="pre">DeltaGrid.delta1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DeltaGrid.delta2"><code class="docutils literal notranslate"><span class="pre">DeltaGrid.delta2</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DomainBootstrapResult"><code class="docutils literal notranslate"><span class="pre">DomainBootstrapResult</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DomainBootstrapResult.formal"><code class="docutils literal notranslate"><span class="pre">DomainBootstrapResult.formal</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DomainBootstrapResult.gpt"><code class="docutils literal notranslate"><span class="pre">DomainBootstrapResult.gpt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DomainBootstrapResult.highlights"><code class="docutils literal notranslate"><span class="pre">DomainBootstrapResult.highlights</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.DomainBootstrapResult.native"><code class="docutils literal notranslate"><span class="pre">DomainBootstrapResult.native</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context"><code class="docutils literal notranslate"><span class="pre">Figure1Context</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.args"><code class="docutils literal notranslate"><span class="pre">Figure1Context.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.domain_colors"><code class="docutils literal notranslate"><span class="pre">Figure1Context.domain_colors</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.files_by_domain"><code class="docutils literal notranslate"><span class="pre">Figure1Context.files_by_domain</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.gpt_keys"><code class="docutils literal notranslate"><span class="pre">Figure1Context.gpt_keys</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.gpt_subset_native"><code class="docutils literal notranslate"><span class="pre">Figure1Context.gpt_subset_native</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.out_dir"><code class="docutils literal notranslate"><span class="pre">Figure1Context.out_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.Figure1Context.slug"><code class="docutils literal notranslate"><span class="pre">Figure1Context.slug</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.denom_note"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.denom_note</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.main_outputs"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.main_outputs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.main_pdf"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.main_pdf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.main_png"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.main_png</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.ratios_csv"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.ratios_csv</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.sweep_csv"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.sweep_csv</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.sweep_outputs"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.sweep_outputs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.sweep_pdf"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.sweep_pdf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.sweep_png"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.sweep_png</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.SummaryArtifacts.trend_csv"><code class="docutils literal notranslate"><span class="pre">SummaryArtifacts.trend_csv</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_components.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_data">src.analysis.core.figure_1_data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.bootstrap_problem_ratio"><code class="docutils literal notranslate"><span class="pre">bootstrap_problem_ratio()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.build_positive_delta_flags"><code class="docutils literal notranslate"><span class="pre">build_positive_delta_flags()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.build_problem_step"><code class="docutils literal notranslate"><span class="pre">build_problem_step()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.coerce_bool"><code class="docutils literal notranslate"><span class="pre">coerce_bool()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.fit_trend_wls"><code class="docutils literal notranslate"><span class="pre">fit_trend_wls()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.load_pass1_samples_multi"><code class="docutils literal notranslate"><span class="pre">load_pass1_samples_multi()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.mark_formal_pairs"><code class="docutils literal notranslate"><span class="pre">mark_formal_pairs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.nat_step_from_path"><code class="docutils literal notranslate"><span class="pre">nat_step_from_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.parse_float_list"><code class="docutils literal notranslate"><span class="pre">parse_float_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.scan_files"><code class="docutils literal notranslate"><span class="pre">scan_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_data.slugify"><code class="docutils literal notranslate"><span class="pre">slugify()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_export">src.analysis.core.figure_1_export module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.ExportDestinations"><code class="docutils literal notranslate"><span class="pre">ExportDestinations</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.ExportDestinations.out_dir"><code class="docutils literal notranslate"><span class="pre">ExportDestinations.out_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.ExportDestinations.slug"><code class="docutils literal notranslate"><span class="pre">ExportDestinations.slug</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig.dataset"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig.dataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig.destinations"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig.destinations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig.gpt_filter"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig.gpt_filter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig.max_chars"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig.max_chars</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig.model"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalExportConfig.thresholds"><code class="docutils literal notranslate"><span class="pre">FormalExportConfig.thresholds</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalThresholds"><code class="docutils literal notranslate"><span class="pre">FormalThresholds</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalThresholds.delta1"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.delta1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalThresholds.delta2"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.delta2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalThresholds.delta3"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.delta3</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.FormalThresholds.min_prior_steps"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.min_prior_steps</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.GptFilterConfig"><code class="docutils literal notranslate"><span class="pre">GptFilterConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.GptFilterConfig.keys"><code class="docutils literal notranslate"><span class="pre">GptFilterConfig.keys</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.GptFilterConfig.subset_native"><code class="docutils literal notranslate"><span class="pre">GptFilterConfig.subset_native</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_export.export_formal_aha_json_with_text"><code class="docutils literal notranslate"><span class="pre">export_formal_aha_json_with_text()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_helpers">src.analysis.core.figure_1_helpers module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.gpt_keys"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.gpt_keys</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.gpt_subset_native"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.gpt_subset_native</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.max_chars"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.max_chars</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.meta"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.meta</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.out_dir"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.out_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.slug"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.slug</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalAhaExportConfig.thresholds"><code class="docutils literal notranslate"><span class="pre">FormalAhaExportConfig.thresholds</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalExportMeta"><code class="docutils literal notranslate"><span class="pre">FormalExportMeta</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalExportMeta.dataset"><code class="docutils literal notranslate"><span class="pre">FormalExportMeta.dataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.FormalExportMeta.model"><code class="docutils literal notranslate"><span class="pre">FormalExportMeta.model</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.bootstrap_problem_ratio"><code class="docutils literal notranslate"><span class="pre">bootstrap_problem_ratio()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.build_formal_thresholds_from_args"><code class="docutils literal notranslate"><span class="pre">build_formal_thresholds_from_args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.build_positive_delta_flags"><code class="docutils literal notranslate"><span class="pre">build_positive_delta_flags()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.export_formal_aha_json_with_text"><code class="docutils literal notranslate"><span class="pre">export_formal_aha_json_with_text()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.make_formal_thresholds"><code class="docutils literal notranslate"><span class="pre">make_formal_thresholds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_helpers.mark_formal_pairs"><code class="docutils literal notranslate"><span class="pre">mark_formal_pairs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_plotting">src.analysis.core.figure_1_plotting module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.a4_pdf"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.a4_pdf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.alpha_ci"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.alpha_ci</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.ci_color"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.ci_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.dataset"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.dataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.delta3"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.delta3</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.line_width"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.line_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.marker_size"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.marker_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.min_prior_steps"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.min_prior_steps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.model"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.n_bootstrap"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.n_bootstrap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.orientation"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.orientation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.out_pdf"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.out_pdf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.out_png"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.out_png</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.primary_color"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.primary_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.seed"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.seed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.FormalSweepPlotConfig.ymax"><code class="docutils literal notranslate"><span class="pre">FormalSweepPlotConfig.ymax</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.plot_formal_sweep_grid"><code class="docutils literal notranslate"><span class="pre">plot_formal_sweep_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_plotting.plot_three_ratios_shared_axes_multi"><code class="docutils literal notranslate"><span class="pre">plot_three_ratios_shared_axes_multi()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_style">src.analysis.core.figure_1_style module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_style.a4_size_inches"><code class="docutils literal notranslate"><span class="pre">a4_size_inches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_style.lighten_hex"><code class="docutils literal notranslate"><span class="pre">lighten_hex()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_1_style.set_global_fonts"><code class="docutils literal notranslate"><span class="pre">set_global_fonts()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_2_plotting_base">src.analysis.core.figure_2_plotting_base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.FigureSaveConfig"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.FigureSaveConfig.a4_orientation"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.a4_orientation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.FigureSaveConfig.a4_pdf"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.a4_pdf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.FigureSaveConfig.out_pdf"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.out_pdf</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.FigureSaveConfig.out_png"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.out_png</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.FigureSaveConfig.title_suffix"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.title_suffix</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.add_lower_center_legend"><code class="docutils literal notranslate"><span class="pre">add_lower_center_legend()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.figure_2_plotting_base.save_figure_outputs"><code class="docutils literal notranslate"><span class="pre">save_figure_outputs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.h2_uncertainty_helpers">src.analysis.core.h2_uncertainty_helpers module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.get_aha_gpt_flag"><code class="docutils literal notranslate"><span class="pre">get_aha_gpt_flag()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.label_formal_samples"><code class="docutils literal notranslate"><span class="pre">label_formal_samples()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.load_all_defs_for_buckets"><code class="docutils literal notranslate"><span class="pre">load_all_defs_for_buckets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.make_all3_uncertainty_buckets_figure"><code class="docutils literal notranslate"><span class="pre">make_all3_uncertainty_buckets_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.mark_formal_pairs"><code class="docutils literal notranslate"><span class="pre">mark_formal_pairs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.plot_uncertainty_buckets_three"><code class="docutils literal notranslate"><span class="pre">plot_uncertainty_buckets_three()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.plot_uncertainty_hist_100bins"><code class="docutils literal notranslate"><span class="pre">plot_uncertainty_hist_100bins()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.h2_uncertainty_helpers.style_ame_axis"><code class="docutils literal notranslate"><span class="pre">style_ame_axis()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.plotting_helpers">src.analysis.core.plotting_helpers module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.plotting_helpers.aha_histogram_legend_handles"><code class="docutils literal notranslate"><span class="pre">aha_histogram_legend_handles()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.plotting_helpers.compute_effective_max_step"><code class="docutils literal notranslate"><span class="pre">compute_effective_max_step()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.plotting_helpers.create_a4_figure"><code class="docutils literal notranslate"><span class="pre">create_a4_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.plotting_helpers.set_global_fonts"><code class="docutils literal notranslate"><span class="pre">set_global_fonts()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.core.html#module-src.analysis.core">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.add_formal_flags_column"><code class="docutils literal notranslate"><span class="pre">add_formal_flags_column()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.aha_series_for_group"><code class="docutils literal notranslate"><span class="pre">aha_series_for_group()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.build_formal_thresholds_from_args"><code class="docutils literal notranslate"><span class="pre">build_formal_thresholds_from_args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.build_problem_step_for_formal"><code class="docutils literal notranslate"><span class="pre">build_problem_step_for_formal()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.build_problem_step_from_samples"><code class="docutils literal notranslate"><span class="pre">build_problem_step_from_samples()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.compute_correct_and_shift"><code class="docutils literal notranslate"><span class="pre">compute_correct_and_shift()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.compute_formal_flags_for_group"><code class="docutils literal notranslate"><span class="pre">compute_formal_flags_for_group()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.discover_roots_by_temp"><code class="docutils literal notranslate"><span class="pre">discover_roots_by_temp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.discover_roots_for_temp_args"><code class="docutils literal notranslate"><span class="pre">discover_roots_for_temp_args()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.core.html#src.analysis.core.iter_pass1_records"><code class="docutils literal notranslate"><span class="pre">iter_pass1_records()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.analysis.figures.html">src.analysis.figures package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.figures.html#module-src.analysis.figures">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.analysis.h3_uncertainty.html">src.analysis.h3_uncertainty package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#module-src.analysis.h3_uncertainty.glm">src.analysis.h3_uncertainty.glm module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.glm.bucket_group_accuracy"><code class="docutils literal notranslate"><span class="pre">bucket_group_accuracy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.glm.fit_glm_bucket_interaction"><code class="docutils literal notranslate"><span class="pre">fit_glm_bucket_interaction()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#module-src.analysis.h3_uncertainty.ingest">src.analysis.h3_uncertainty.ingest module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.AhaContext"><code class="docutils literal notranslate"><span class="pre">AhaContext</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.AhaContext.gate_by_words"><code class="docutils literal notranslate"><span class="pre">AhaContext.gate_by_words</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.AhaContext.gpt_fn"><code class="docutils literal notranslate"><span class="pre">AhaContext.gpt_fn</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.AhaContext.include_forced_flag"><code class="docutils literal notranslate"><span class="pre">AhaContext.include_forced_flag</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext"><code class="docutils literal notranslate"><span class="pre">PassRowContext</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext.aha"><code class="docutils literal notranslate"><span class="pre">PassRowContext.aha</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext.pair_id"><code class="docutils literal notranslate"><span class="pre">PassRowContext.pair_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext.pass_id"><code class="docutils literal notranslate"><span class="pre">PassRowContext.pass_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext.problem"><code class="docutils literal notranslate"><span class="pre">PassRowContext.problem</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext.step"><code class="docutils literal notranslate"><span class="pre">PassRowContext.step</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.PassRowContext.uncertainty"><code class="docutils literal notranslate"><span class="pre">PassRowContext.uncertainty</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.RowBuilderContext"><code class="docutils literal notranslate"><span class="pre">RowBuilderContext</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.RowBuilderContext.pass1_aha"><code class="docutils literal notranslate"><span class="pre">RowBuilderContext.pass1_aha</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.RowBuilderContext.pass2_aha"><code class="docutils literal notranslate"><span class="pre">RowBuilderContext.pass2_aha</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.RowBuilderContext.uncertainty"><code class="docutils literal notranslate"><span class="pre">RowBuilderContext.uncertainty</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.UncertaintyContext"><code class="docutils literal notranslate"><span class="pre">UncertaintyContext</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.UncertaintyContext.field"><code class="docutils literal notranslate"><span class="pre">UncertaintyContext.field</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.UncertaintyContext.measure"><code class="docutils literal notranslate"><span class="pre">UncertaintyContext.measure</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.add_perplexity_buckets"><code class="docutils literal notranslate"><span class="pre">add_perplexity_buckets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.extract_uncertainty_or_ppx"><code class="docutils literal notranslate"><span class="pre">extract_uncertainty_or_ppx()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.ingest.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#module-src.analysis.h3_uncertainty.plotting">src.analysis.h3_uncertainty.plotting module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.BarSeries"><code class="docutils literal notranslate"><span class="pre">BarSeries</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.BarSeries.label"><code class="docutils literal notranslate"><span class="pre">BarSeries.label</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.BarSeries.lower"><code class="docutils literal notranslate"><span class="pre">BarSeries.lower</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.BarSeries.upper"><code class="docutils literal notranslate"><span class="pre">BarSeries.upper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.BarSeries.values"><code class="docutils literal notranslate"><span class="pre">BarSeries.values</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot.axis"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot.axis</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot.labels"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot.labels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot.num_series"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot.num_series()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot.series"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot.series</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot.title"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot.title</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.PairedBarPlot.ylabel"><code class="docutils literal notranslate"><span class="pre">PairedBarPlot.ylabel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_prompt_by_bucket_ci"><code class="docutils literal notranslate"><span class="pre">plot_prompt_by_bucket_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_prompt_by_step_ci"><code class="docutils literal notranslate"><span class="pre">plot_prompt_by_step_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_prompt_level_deltas"><code class="docutils literal notranslate"><span class="pre">plot_prompt_level_deltas()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_prompt_overall_ci"><code class="docutils literal notranslate"><span class="pre">plot_prompt_overall_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_question_by_bucket_ci"><code class="docutils literal notranslate"><span class="pre">plot_question_by_bucket_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_question_by_step_ci"><code class="docutils literal notranslate"><span class="pre">plot_question_by_step_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.plotting.plot_question_overall_ci"><code class="docutils literal notranslate"><span class="pre">plot_question_overall_ci()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#module-src.analysis.h3_uncertainty.reasking">src.analysis.h3_uncertainty.reasking module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.AccuracyGroupSpec"><code class="docutils literal notranslate"><span class="pre">AccuracyGroupSpec</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.AccuracyGroupSpec.pass1_col"><code class="docutils literal notranslate"><span class="pre">AccuracyGroupSpec.pass1_col</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.AccuracyGroupSpec.pass2_col"><code class="docutils literal notranslate"><span class="pre">AccuracyGroupSpec.pass2_col</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.AccuracyGroupSpec.size_col"><code class="docutils literal notranslate"><span class="pre">AccuracyGroupSpec.size_col</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.compute_reasking_tables"><code class="docutils literal notranslate"><span class="pre">compute_reasking_tables()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.prompt_level_acc_with_ci"><code class="docutils literal notranslate"><span class="pre">prompt_level_acc_with_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.question_level_any_with_ci"><code class="docutils literal notranslate"><span class="pre">question_level_any_with_ci()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.split_reasking_by_aha"><code class="docutils literal notranslate"><span class="pre">split_reasking_by_aha()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reasking.wilson_ci"><code class="docutils literal notranslate"><span class="pre">wilson_ci()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#module-src.analysis.h3_uncertainty.reporting">src.analysis.h3_uncertainty.reporting module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables"><code class="docutils literal notranslate"><span class="pre">AnswersTables</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.cond"><code class="docutils literal notranslate"><span class="pre">AnswersTables.cond</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.p_by_bucket"><code class="docutils literal notranslate"><span class="pre">AnswersTables.p_by_bucket</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.p_by_step"><code class="docutils literal notranslate"><span class="pre">AnswersTables.p_by_step</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.p_overall"><code class="docutils literal notranslate"><span class="pre">AnswersTables.p_overall</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.q_by_bucket"><code class="docutils literal notranslate"><span class="pre">AnswersTables.q_by_bucket</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.q_by_step"><code class="docutils literal notranslate"><span class="pre">AnswersTables.q_by_step</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.AnswersTables.q_overall"><code class="docutils literal notranslate"><span class="pre">AnswersTables.q_overall</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.PdfSummaryConfig"><code class="docutils literal notranslate"><span class="pre">PdfSummaryConfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.PdfSummaryConfig.dataset"><code class="docutils literal notranslate"><span class="pre">PdfSummaryConfig.dataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.PdfSummaryConfig.font_family"><code class="docutils literal notranslate"><span class="pre">PdfSummaryConfig.font_family</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.PdfSummaryConfig.font_size"><code class="docutils literal notranslate"><span class="pre">PdfSummaryConfig.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.PdfSummaryConfig.model"><code class="docutils literal notranslate"><span class="pre">PdfSummaryConfig.model</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.write_a4_summary_pdf"><code class="docutils literal notranslate"><span class="pre">write_a4_summary_pdf()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="src.analysis.h3_uncertainty.html#src.analysis.h3_uncertainty.reporting.write_answers_txt"><code class="docutils literal notranslate"><span class="pre">write_answers_txt()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.analysis.h3_uncertainty.html#module-src.analysis.h3_uncertainty">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-src.analysis.aha_utils">
<span id="src-analysis-aha-utils-module"></span><h2>src.analysis.aha_utils module<a class="headerlink" href="#module-src.analysis.aha_utils" title="Link to this heading">¶</a></h2>
<p>Shared helpers for Aha cue detection and gating logic.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.aha_utils.aha_native">
<span class="sig-prename descclassname"><span class="pre">src.analysis.aha_utils.</span></span><span class="sig-name descname"><span class="pre">aha_native</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/aha_utils.html#aha_native"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.aha_utils.aha_native" title="Link to this definition">¶</a></dt>
<dd><p>A native reconsider cue (<code class="docutils literal notranslate"><span class="pre">has_reconsider_cue</span></code>) that ignores injected cues.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.aha_utils.any_keys_true">
<span class="sig-prename descclassname"><span class="pre">src.analysis.aha_utils.</span></span><span class="sig-name descname"><span class="pre">any_keys_true</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/aha_utils.html#any_keys_true"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.aha_utils.any_keys_true" title="Link to this definition">¶</a></dt>
<dd><p>Return 1 if any of the provided keys coerce to True, else 0.</p>
<p><code class="docutils literal notranslate"><span class="pre">both_get</span></code> is used so callers can provide fields that exist either in the
PASS-1 block or at the top of the record.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.aha_utils.cue_gate_for_llm">
<span class="sig-prename descclassname"><span class="pre">src.analysis.aha_utils.</span></span><span class="sig-name descname"><span class="pre">cue_gate_for_llm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_judge_non_xword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/aha_utils.html#cue_gate_for_llm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.aha_utils.cue_gate_for_llm" title="Link to this definition">¶</a></dt>
<dd><p>Native cue gate used when gating GPT-detected shifts.</p>
</dd></dl>

</section>
<section id="module-src.analysis.annotate_progress">
<span id="src-analysis-annotate-progress-module"></span><h2>src.analysis.annotate_progress module<a class="headerlink" href="#module-src.analysis.annotate_progress" title="Link to this heading">¶</a></h2>
<p>Backwards-compatible CLI wrapper for <code class="docutils literal notranslate"><span class="pre">src.annotate.core.progress</span></code>.</p>
<p>This module used to live under <a class="reference internal" href="#module-src.analysis" title="src.analysis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">src.analysis</span></code></a>; it now simply re-exports
the implementation from <a class="reference internal" href="src.annotate.core.html#module-src.annotate.core.progress" title="src.annotate.core.progress"><code class="xref py py-mod docutils literal notranslate"><span class="pre">src.annotate.core.progress</span></code></a> so existing scripts
can keep invoking <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">src.analysis.annotate_progress</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.annotate_progress.count_progress">
<span class="sig-prename descclassname"><span class="pre">src.analysis.annotate_progress.</span></span><span class="sig-name descname"><span class="pre">count_progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_shift_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/annotate/core/progress.html#count_progress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.annotate_progress.count_progress" title="Link to this definition">¶</a></dt>
<dd><p>Count total rows and rows with completed GPT-4o annotation.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">require_shift_flag</span></code> is True, only rows where any pass2 section
already has <code class="docutils literal notranslate"><span class="pre">shift_in_reasoning_v1</span></code> are counted as annotated.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.annotate_progress.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.annotate_progress.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/annotate/core/progress.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.annotate_progress.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point: print total, processed, and pending row counts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.annotate_progress.parse_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.annotate_progress.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Namespace</span></span></span><a class="reference internal" href="../_modules/src/annotate/core/progress.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.annotate_progress.parse_args" title="Link to this definition">¶</a></dt>
<dd><p>Parse CLI arguments for reporting annotation coverage.</p>
</dd></dl>

</section>
<section id="module-src.analysis.cue_delta_accuracy">
<span id="src-analysis-cue-delta-accuracy-module"></span><h2>src.analysis.cue_delta_accuracy module<a class="headerlink" href="#module-src.analysis.cue_delta_accuracy" title="Link to this heading">¶</a></h2>
<p>Summarize cue-specific accuracy gains and entropy-quartile effects.</p>
<p>This script reads the flattened cue data produced by
<code class="docutils literal notranslate"><span class="pre">src.annotate.tasks.math_cue_variants</span></code> and reports</p>
<blockquote>
<div><ul class="simple">
<li><p>overall Δ accuracy (cue - baseline),</p></li>
<li><p>Δ accuracy per entropy quartile,</p></li>
<li><p>average output length/tokens per cue (optional).</p></li>
</ul>
</div></blockquote>
<p>Typical usage:</p>
<blockquote>
<div><dl class="simple">
<dt>python -m src.analysis.cue_delta_accuracy </dt><dd><p>–input-jsonl artifacts/results/…/step0950_test.jsonl</p>
</dd>
</dl>
</div></blockquote>
<p>If you already ran <code class="docutils literal notranslate"><span class="pre">math_cue_variants</span></code> manually, point at the flattened
file with <code class="docutils literal notranslate"><span class="pre">--flat-jsonl</span></code> instead.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.cue_delta_accuracy.cue_delta_accuracy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.cue_delta_accuracy.</span></span><span class="sig-name descname"><span class="pre">cue_delta_accuracy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#src.analysis.cue_delta_accuracy.cue_delta_accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Entry point: load rows, aggregate cue stats, and print summaries.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.cue_delta_accuracy.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.cue_delta_accuracy.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/cue_delta_accuracy.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.cue_delta_accuracy.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point: load rows, aggregate cue stats, and print summaries.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.cue_delta_accuracy.parse_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.cue_delta_accuracy.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Namespace</span></span></span><a class="reference internal" href="../_modules/src/analysis/cue_delta_accuracy.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.cue_delta_accuracy.parse_args" title="Link to this definition">¶</a></dt>
<dd><p>Build and parse command-line arguments for cue analysis.</p>
</dd></dl>

</section>
<section id="module-src.analysis.cue_entropy_regression">
<span id="src-analysis-cue-entropy-regression-module"></span><h2>src.analysis.cue_entropy_regression module<a class="headerlink" href="#module-src.analysis.cue_entropy_regression" title="Link to this heading">¶</a></h2>
<p>Fit per-cue penalized logistic regressions of correctness on entropy and baseline status.</p>
<p>This script relies on the flattened cue CSV/JSON produced by
<code class="docutils literal notranslate"><span class="pre">src.annotate.tasks.math_cue_variants</span></code> and runs logistic regressions such
as <code class="docutils literal notranslate"><span class="pre">intervention_correct</span> <span class="pre">~</span> <span class="pre">entropy</span> <span class="pre">+</span> <span class="pre">baseline_correct</span></code> for each cue variant.</p>
<p>Because per-cue splits often exhibit (quasi-)complete separation,
unpenalized MLE-based logistic regression (e.g., statsmodels.Logit) is not
well-defined: coefficients diverge and exp(X beta) overflows. To obtain stable,
finite estimates and approximate inference, we instead use L2-regularized
logistic regression via scikit-learn:</p>
<blockquote>
<div><ul class="simple">
<li><p>Features are standardized per cue using StandardScaler
(see <a class="reference external" href="https://scikit-learn.org/stable/modules/preprocessing.html">https://scikit-learn.org/stable/modules/preprocessing.html</a>).</p></li>
<li><p>We fit LogisticRegression with an L2 penalty:
<a class="reference external" href="https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression">https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression</a></p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>For each cue, we report:</dt><dd><ul class="simple">
<li><p>entropy_coef: coefficient on standardized entropy (effect per 1 SD of raw entropy).</p></li>
<li><p>entropy_se: standard error of that coefficient (Wald).</p></li>
<li><p>entropy_ci_low / entropy_ci_high: 95% CI for the standardized coefficient.</p></li>
<li><p>entropy_pvalue: Wald p-value for the entropy coefficient (standardized scale).</p></li>
<li><p>entropy_sd: raw standard deviation of entropy within that cue.</p></li>
<li><p>entropy_odds_ratio: odds ratio for a 1-unit increase in raw entropy.</p></li>
<li><p>entropy_or_unit_ci_low / entropy_or_unit_ci_high: 95% CI for that odds ratio.</p></li>
<li><p>entropy_odds_ratio_1sd: odds ratio for a 1-SD increase in raw entropy.</p></li>
<li><p>entropy_or_1sd_ci_low / entropy_or_1sd_ci_high: 95% CI for that odds ratio.</p></li>
</ul>
</dd>
</dl>
<p>Optional CSV output records the summary rows for downstream plotting.</p>
<p>NOTE: Because we are using penalized logistic regression, these p-values and
CIs reflect the curvature of the penalized likelihood and should be interpreted
as approximate rather than classical MLE-based tests.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.cue_entropy_regression.cleanup_temp_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.cue_entropy_regression.</span></span><span class="sig-name descname"><span class="pre">cleanup_temp_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cleanup_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/cue_entropy_regression.html#cleanup_temp_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.cue_entropy_regression.cleanup_temp_path" title="Link to this definition">¶</a></dt>
<dd><p>Remove a temporary file created by flattening, if present.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.cue_entropy_regression.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.cue_entropy_regression.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/cue_entropy_regression.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.cue_entropy_regression.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point: fit cue entropy regressions and summarize results.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.cue_entropy_regression.parse_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.cue_entropy_regression.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Namespace</span></span></span><a class="reference internal" href="../_modules/src/analysis/cue_entropy_regression.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.cue_entropy_regression.parse_args" title="Link to this definition">¶</a></dt>
<dd><p>Construct CLI arguments for the cue entropy regression tool.</p>
</dd></dl>

</section>
<section id="module-src.analysis.entropy">
<span id="src-analysis-entropy-module"></span><h2>src.analysis.entropy module<a class="headerlink" href="#module-src.analysis.entropy" title="Link to this heading">¶</a></h2>
<p>Entropy vs re-check exploratory analyses and plotting helpers.</p>
<p>This module provides a small command-line style entrypoint that is exercised
in tests via <code class="docutils literal notranslate"><span class="pre">runpy.run_module(&quot;src.analysis.entropy&quot;,</span> <span class="pre">run_name=&quot;__main__&quot;)</span></code>.
It is intentionally lightweight so that environments without full SciPy /
statsmodels installs can still run the analyses using test stubs.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy.main" title="Link to this definition">¶</a></dt>
<dd><p>Run the entropy vs. re-check exploratory analyses and plots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy.ttest_ind">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy.</span></span><span class="sig-name descname"><span class="pre">ttest_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_b</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">_args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy.html#ttest_ind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy.ttest_ind" title="Link to this definition">¶</a></dt>
<dd><p>Fallback t-test stub returning a neutral statistic and p-value.</p>
</dd></dl>

</section>
<section id="module-src.analysis.entropy_bin_regression">
<span id="src-analysis-entropy-bin-regression-module"></span><h2>src.analysis.entropy_bin_regression module<a class="headerlink" href="#module-src.analysis.entropy_bin_regression" title="Link to this heading">¶</a></h2>
<p>Entropy bin regression (per-domain GLM + optional plots/tables).</p>
<p>Builds rows with domain, problem, step, sample, shift_at_1, correct_at_1,
entropy_at_1, entropy_bin_at_1, entropy_bin_label, correct_at_2.</p>
<dl class="simple">
<dt>Per-domain regressions (run twice): correct_at_2 ~ correct_at_1 +</dt><dd><p>C(entropy_bin_label) + C(problem). Uses cluster-robust SEs; HC1 fallback.</p>
</dd>
<dt>Binning options: –fixed_bins takes precedence; otherwise –binning</dt><dd><p>{uniform,quantile} with –bins K, or –equal_n_bins with bin_scope, tie_break,
random_seed controls.</p>
</dd>
</dl>
<p>Entropy modes: sum (think+answer), think, answer, combined.</p>
<dl class="simple">
<dt>Outputs per domain/mode: rows__&lt;slug&gt;__&lt;domain&gt;__&lt;mode&gt;.csv,</dt><dd><p>model_{none|false}__&lt;slug&gt;__&lt;domain&gt;__&lt;mode&gt;.txt,
bin_contrasts__{none|false}__&lt;slug&gt;__&lt;domain&gt;__&lt;mode&gt;.csv,
bin_contrasts__&lt;slug&gt;__&lt;domain&gt;__&lt;mode&gt;.{png,pdf}</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.BinContrastPlotInputs">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">BinContrastPlotInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ame_none</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ame_false</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#BinContrastPlotInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container for per-domain AME data and plot destinations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.BinContrastPlotInputs.ame_false">
<span class="sig-name descname"><span class="pre">ame_false</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.ame_false" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.BinContrastPlotInputs.ame_none">
<span class="sig-name descname"><span class="pre">ame_none</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.ame_none" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.BinContrastPlotInputs.out_pdf">
<span class="sig-name descname"><span class="pre">out_pdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.out_pdf" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.BinContrastPlotInputs.out_png">
<span class="sig-name descname"><span class="pre">out_png</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.out_png" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.BinContrastPlotInputs.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.title" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.DomainRunContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">DomainRunContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#DomainRunContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.DomainRunContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Metadata for per-domain runs within a particular entropy mode.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.DomainRunContext.domain">
<span class="sig-name descname"><span class="pre">domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.DomainRunContext.domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.DomainRunContext.entropy_mode">
<span class="sig-name descname"><span class="pre">entropy_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.DomainRunContext.entropy_mode" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.DomainRunContext.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.DomainRunContext.out_dir" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.DomainRunContext.slug_mode">
<span class="sig-name descname"><span class="pre">slug_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.DomainRunContext.slug_mode" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.RowBuildConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">RowBuildConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">carpark_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_thr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#RowBuildConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.RowBuildConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration governing how we assemble the modeling rows.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.RowBuildConfig.carpark_op">
<span class="sig-name descname"><span class="pre">carpark_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.RowBuildConfig.carpark_op" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.RowBuildConfig.carpark_thr">
<span class="sig-name descname"><span class="pre">carpark_thr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.RowBuildConfig.carpark_thr" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.RowBuildConfig.gpt_mode">
<span class="sig-name descname"><span class="pre">gpt_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.RowBuildConfig.gpt_mode" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.RowBuildConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.RowBuildConfig.max_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.RowBuildConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.entropy_bin_regression.RowBuildConfig.min_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.apply_binning_cut">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">apply_binning_cut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'global'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#apply_binning_cut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.apply_binning_cut" title="Link to this definition">¶</a></dt>
<dd><p>Apply pandas.cut binning globally or per-domain and label categories.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.apply_equal_n_binning">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">apply_equal_n_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'global'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tie_break</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'stable'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#apply_equal_n_binning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.apply_equal_n_binning" title="Link to this definition">¶</a></dt>
<dd><p>Assign equal-count bins either globally or per-domain with tie-breaking.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.both_get">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">both_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#both_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.both_get" title="Link to this definition">¶</a></dt>
<dd><p>Return a value from the pass dict if present, otherwise fall back to rec.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Return the CLI argument parser for entropy-bin regression analyses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.build_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">build_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig" title="src.analysis.entropy_bin_regression.RowBuildConfig"><span class="pre">RowBuildConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#build_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.build_rows" title="Link to this definition">¶</a></dt>
<dd><p>Build the per-row dataset used by the downstream binning and regressions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.compute_bin_ame">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">compute_bin_ame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#compute_bin_ame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.compute_bin_ame" title="Link to this definition">¶</a></dt>
<dd><p>Compute average marginal effects for each bin relative to baseline.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.compute_edges">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">compute_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binning</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#compute_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.compute_edges" title="Link to this definition">¶</a></dt>
<dd><p>Return bin edges using uniform/quantile logic or user-specified edges.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.compute_shift_at_1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">compute_shift_at_1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'canonical'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#compute_shift_at_1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.compute_shift_at_1" title="Link to this definition">¶</a></dt>
<dd><p>Return 1/0/None according to GPT shift flags for the requested mode.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.domain_from_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">domain_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#domain_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.domain_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Return a coarse domain label inferred from a file path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.entropy_from_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">entropy_from_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_one</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sum'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#entropy_from_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.entropy_from_pass1" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute entropy_at_1 from pass-1:</dt><dd><ul class="simple">
<li><p>sum      : entropy_think + entropy_answer (parts first; else fallback to ‘entropy’)</p></li>
<li><p>think    : entropy_think (fallback to ‘entropy’)</p></li>
<li><p>answer   : entropy_answer (fallback to ‘entropy’)</p></li>
<li><p>combined : ‘entropy’ as-is (fallback to avg(parts) if both available)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.fit_clustered_glm">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">fit_clustered_glm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formula</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#fit_clustered_glm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.fit_clustered_glm" title="Link to this definition">¶</a></dt>
<dd><p>Fit a GLM with cluster-robust SEs and fallback to HC1 if needed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.get_problem">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">get_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#get_problem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.get_problem" title="Link to this definition">¶</a></dt>
<dd><p>Return a stable problem identifier string for logging/aggregation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.get_sample">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">get_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#get_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.get_sample" title="Link to this definition">¶</a></dt>
<dd><p>Return a short sample identifier (if present).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.label_interval">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">label_interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#label_interval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.label_interval" title="Link to this definition">¶</a></dt>
<dd><p>Return a string label for a pandas Interval or propagate NaN.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entrypoint for entropy-bin regression analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.parse_comma_list">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">parse_comma_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#parse_comma_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.parse_comma_list" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of trimmed tokens from a comma-separated string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.parse_fixed_bins">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">parse_fixed_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#parse_fixed_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.parse_fixed_bins" title="Link to this definition">¶</a></dt>
<dd><p>Return explicit bin edges parsed from the CLI string or None when unset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.plot_bin_contrasts">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">plot_bin_contrasts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs" title="src.analysis.entropy_bin_regression.BinContrastPlotInputs"><span class="pre">BinContrastPlotInputs</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#plot_bin_contrasts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.plot_bin_contrasts" title="Link to this definition">¶</a></dt>
<dd><p>Render AME bar plots comparing bin contrasts for two shift subsets.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.prune_subset">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">prune_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_rows_per_problem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#prune_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.prune_subset" title="Link to this definition">¶</a></dt>
<dd><p>Remove problems lacking sufficient rows or outcome variation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.entropy_bin_regression.scan_files">
<span class="sig-prename descclassname"><span class="pre">src.analysis.entropy_bin_regression.</span></span><span class="sig-name descname"><span class="pre">scan_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_substrings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/entropy_bin_regression.html#scan_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.entropy_bin_regression.scan_files" title="Link to this definition">¶</a></dt>
<dd><p>Proxy to the shared scan function so callers retain the same signature.</p>
</dd></dl>

</section>
<section id="module-src.analysis.export_cue_variants">
<span id="src-analysis-export-cue-variants-module"></span><h2>src.analysis.export_cue_variants module<a class="headerlink" href="#module-src.analysis.export_cue_variants" title="Link to this heading">¶</a></h2>
<p>Export a flat CSV with one row per (sample, cue_variant) from JSONL results.</p>
<dl class="simple">
<dt>This is useful for ad-hoc analysis in pandas/R when you want to compare:</dt><dd><ul class="simple">
<li><p>pass1 (baseline)</p></li>
<li><p>pass2 (main reconsideration)</p></li>
<li><p>pass2a / pass2b / pass2c (per-cue reconsiderations, if present)</p></li>
</ul>
</dd>
</dl>
<p>The script makes no assumptions about the domain beyond the standard fields
emitted by the math/carpark/crossword cores:</p>
<blockquote>
<div><ul class="simple">
<li><p>top-level: problem, step, split, sample_idx</p></li>
<li><dl class="simple">
<dt>per-pass: is_correct_pred, is_correct_after_reconsideration, entropy*,</dt><dd><p>has_reconsider_cue, reconsider_markers, tokens_*, valid_tag_structure,
shift_in_reasoning_v1 (optional, if gpt_eval was run).</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.export_cue_variants.build_argparser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.export_cue_variants.</span></span><span class="sig-name descname"><span class="pre">build_argparser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/export_cue_variants.html#build_argparser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.export_cue_variants.build_argparser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the CLI argument parser for this script.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.export_cue_variants.export_cue_variants">
<span class="sig-prename descclassname"><span class="pre">src.analysis.export_cue_variants.</span></span><span class="sig-name descname"><span class="pre">export_cue_variants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/export_cue_variants.html#export_cue_variants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.export_cue_variants.export_cue_variants" title="Link to this definition">¶</a></dt>
<dd><p>Scan a results root and write a flat CSV with one row per (sample, pass_key).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.export_cue_variants.iter_flat_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.export_cue_variants.</span></span><span class="sig-name descname"><span class="pre">iter_flat_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/export_cue_variants.html#iter_flat_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.export_cue_variants.iter_flat_rows" title="Link to this definition">¶</a></dt>
<dd><p>Yield flattened rows for each (record, pass_key) combination.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.export_cue_variants.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.export_cue_variants.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/export_cue_variants.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.export_cue_variants.main" title="Link to this definition">¶</a></dt>
<dd><p>Parse arguments and run the cue-variant export pipeline.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_1">
<span id="src-analysis-figure-1-module"></span><h2>src.analysis.figure_1 module<a class="headerlink" href="#module-src.analysis.figure_1" title="Link to this heading">¶</a></h2>
<p>Aha Ratios (problem-level) command-line interface.</p>
<p>Delegates to <a class="reference internal" href="src.analysis.core.html#module-src.analysis.core.figure_1_components" title="src.analysis.core.figure_1_components"><code class="xref py py-mod docutils literal notranslate"><span class="pre">src.analysis.core.figure_1_components</span></code></a> so that this module
can be invoked with <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">src.analysis.figure_1</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_1.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_1.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_1.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_1.main" title="Link to this definition">¶</a></dt>
<dd><p>Execute the Figure 1 CLI entry point.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2">
<span id="src-analysis-figure-2-module"></span><h2>src.analysis.figure_2 module<a class="headerlink" href="#module-src.analysis.figure_2" title="Link to this heading">¶</a></h2>
<p>Uncertainty → Correctness: Counts, Densities, Accuracy, and Regression (All in One)
Times (12 pt) + optional exact A4 PDFs
——————————————————————————-</p>
<dl class="simple">
<dt>Figures written:</dt><dd><ol class="arabic simple">
<li><p>unc_vs_correct_4hists__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# 4-panel COUNT(CORRECT) histograms</p></li>
<li><p>unc_vs_correct_overlaid__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# overlaid densities (CORRECT only)</p></li>
<li><p>unc_vs_corr_incorr_by_type__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# 2×2 CORRECT vs INCORRECT (All, Words, LLM, Formal)</p></li>
<li><p>unc_accuracy_by_bin__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# per-bin accuracy with Wilson 95% CIs</p></li>
<li><p>acc_vs_uncertainty_regression__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# GLM: correct ~ C(problem)+C(step)+aha:C(perplexity_bucket)</p></li>
</ol>
</dd>
<dt>CSVs:</dt><dd><ul class="simple">
<li><p>unc_vs_correct_4hists.csv</p></li>
<li><p>unc_vs_correct_overlaid.csv</p></li>
<li><p>unc_vs_corr_incorr_by_type.csv</p></li>
<li><p>unc_accuracy_by_bin.csv</p></li>
<li><p>acc_vs_uncertainty_regression.csv</p></li>
</ul>
</dd>
</dl>
<p>Use –a4_pdf to save exact A4 PDFs; text is Times/Times New Roman (12 pt).</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for the Figure 2 uncertainty/correctness pipeline.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_accuracy">
<span id="src-analysis-figure-2-accuracy-module"></span><h2>src.analysis.figure_2_accuracy module<a class="headerlink" href="#module-src.analysis.figure_2_accuracy" title="Link to this heading">¶</a></h2>
<p>Accuracy overlay helpers for the uncertainty/correctness figures.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracyPlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_accuracy.</span></span><span class="sig-name descname"><span class="pre">AccuracyPlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_accuracy.html#AccuracyPlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracyPlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig" title="src.analysis.figure_2_plotting_base.FigureSaveConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">FigureSaveConfig</span></code></a></p>
<p>Configuration for per-bin accuracy overlay plots.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_accuracy.</span></span><span class="sig-name descname"><span class="pre">AccuracySeriesData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bounds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bounds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_correct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_accuracy.html#AccuracySeriesData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Per-bin accuracy arrays for a single series.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData.accuracy">
<span class="sig-name descname"><span class="pre">accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.accuracy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData.centers">
<span class="sig-name descname"><span class="pre">centers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.centers" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData.lower_bounds">
<span class="sig-name descname"><span class="pre">lower_bounds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.lower_bounds" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData.num_correct">
<span class="sig-name descname"><span class="pre">num_correct</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.num_correct" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData.num_total">
<span class="sig-name descname"><span class="pre">num_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.num_total" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesData.upper_bounds">
<span class="sig-name descname"><span class="pre">upper_bounds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.upper_bounds" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesSpec">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_accuracy.</span></span><span class="sig-name descname"><span class="pre">AccuracySeriesSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_accuracy.html#AccuracySeriesSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mask/color spec for an accuracy overlay series.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesSpec.color">
<span class="sig-name descname"><span class="pre">color</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec.color" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesSpec.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec.label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.AccuracySeriesSpec.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec.mask" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.per_bin_accuracy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_accuracy.</span></span><span class="sig-name descname"><span class="pre">per_bin_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values_std</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_accuracy.html#per_bin_accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_accuracy.per_bin_accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Compute accuracy and Wilson CIs per uncertainty bin.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_accuracy.plot_accuracy_by_bin_overlay">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_accuracy.</span></span><span class="sig-name descname"><span class="pre">plot_accuracy_by_bin_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracyPlotConfig" title="src.analysis.figure_2_accuracy.AccuracyPlotConfig"><span class="pre">AccuracyPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_accuracy.html#plot_accuracy_by_bin_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_accuracy.plot_accuracy_by_bin_overlay" title="Link to this definition">¶</a></dt>
<dd><p>Plot per-bin accuracy with Wilson confidence intervals for multiple strata.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_data">
<span id="src-analysis-figure-2-data-module"></span><h2>src.analysis.figure_2_data module<a class="headerlink" href="#module-src.analysis.figure_2_data" title="Link to this heading">¶</a></h2>
<p>Data-loading and preprocessing helpers for the uncertainty/correctness figures.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_data.compute_correct_hist">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_data.</span></span><span class="sig-name descname"><span class="pre">compute_correct_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values_std</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_data.html#compute_correct_hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_data.compute_correct_hist" title="Link to this definition">¶</a></dt>
<dd><p>Compute per-bin counts of correct responses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_data.density_from_hist">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_data.</span></span><span class="sig-name descname"><span class="pre">density_from_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values_std</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_data.html#density_from_hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_data.density_from_hist" title="Link to this definition">¶</a></dt>
<dd><p>Convert a histogram of standardized values into a (possibly smoothed) density.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_data.load_pass1_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_data.</span></span><span class="sig-name descname"><span class="pre">load_pass1_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unc_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gate_gpt_by_words</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_data.html#load_pass1_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_data.load_pass1_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load PASS-1 rows with correctness, uncertainty, and Aha labels.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_data.make_edges_from_std">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_data.</span></span><span class="sig-name descname"><span class="pre">make_edges_from_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">std_vals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_data.html#make_edges_from_std"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_data.make_edges_from_std" title="Link to this definition">¶</a></dt>
<dd><p>Build evenly spaced bin edges over standardized uncertainty values.</p>
<p>Uses the 1st–99th percentile range by default, or an explicit <code class="docutils literal notranslate"><span class="pre">xlim</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_data.wilson_ci">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_data.</span></span><span class="sig-name descname"><span class="pre">wilson_ci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_success</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_trials</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.96</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_data.html#wilson_ci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_data.wilson_ci" title="Link to this definition">¶</a></dt>
<dd><p>Wilson confidence interval for a binomial proportion <code class="docutils literal notranslate"><span class="pre">num_success/num_trials</span></code>.</p>
<p>Returns a pair <code class="docutils literal notranslate"><span class="pre">(lower,</span> <span class="pre">upper)</span></code>; if <code class="docutils literal notranslate"><span class="pre">num_trials</span></code> is not positive, both
bounds are <code class="docutils literal notranslate"><span class="pre">NaN</span></code>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_density">
<span id="src-analysis-figure-2-density-module"></span><h2>src.analysis.figure_2_density module<a class="headerlink" href="#module-src.analysis.figure_2_density" title="Link to this heading">¶</a></h2>
<p>Density and histogram plotting helpers for the uncertainty/correctness figures.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.DensityPlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_density.</span></span><span class="sig-name descname"><span class="pre">DensityPlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_density.html#DensityPlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_density.DensityPlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig" title="src.analysis.figure_2_plotting_base.FigureSaveConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">FigureSaveConfig</span></code></a></p>
<p>Configuration for uncertainty density plots.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.DensityPlotConfig.smooth_bins">
<span class="sig-name descname"><span class="pre">smooth_bins</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.figure_2_density.DensityPlotConfig.smooth_bins" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.FourHistConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_density.</span></span><span class="sig-name descname"><span class="pre">FourHistConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_density.html#FourHistConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_density.FourHistConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig" title="src.analysis.figure_2_plotting_base.FigureSaveConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">FigureSaveConfig</span></code></a></p>
<p>Configuration for the 4-panel count histogram figure.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.FourHistConfig.edges">
<span class="sig-name descname"><span class="pre">edges</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.figure_2_density.FourHistConfig.edges" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.plot_correct_incorrect_by_type">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_density.</span></span><span class="sig-name descname"><span class="pre">plot_correct_incorrect_by_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_density.DensityPlotConfig" title="src.analysis.figure_2_density.DensityPlotConfig"><span class="pre">DensityPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_density.html#plot_correct_incorrect_by_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_density.plot_correct_incorrect_by_type" title="Link to this definition">¶</a></dt>
<dd><p>Plot 2×2 densities of standardized uncertainty for correct vs incorrect answers.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.plot_four_correct_hists">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_density.</span></span><span class="sig-name descname"><span class="pre">plot_four_correct_hists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_density.FourHistConfig" title="src.analysis.figure_2_density.FourHistConfig"><span class="pre">FourHistConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_density.html#plot_four_correct_hists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_density.plot_four_correct_hists" title="Link to this definition">¶</a></dt>
<dd><p>Plot four count histograms of correct answers across uncertainty bins.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_density.plot_overlaid_densities">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_density.</span></span><span class="sig-name descname"><span class="pre">plot_overlaid_densities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_density.DensityPlotConfig" title="src.analysis.figure_2_density.DensityPlotConfig"><span class="pre">DensityPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_density.html#plot_overlaid_densities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_density.plot_overlaid_densities" title="Link to this definition">¶</a></dt>
<dd><p>Plot overlaid densities of standardized uncertainty for correct answers.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_helpers">
<span id="src-analysis-figure-2-helpers-module"></span><h2>src.analysis.figure_2_helpers module<a class="headerlink" href="#module-src.analysis.figure_2_helpers" title="Link to this heading">¶</a></h2>
<p>Uncertainty → Correctness: Counts, Densities, Accuracy, and Regression (All in One)
Times (12 pt) + optional exact A4 PDFs
——————————————————————————-</p>
<dl class="simple">
<dt>Figures written:</dt><dd><ol class="arabic simple">
<li><p>unc_vs_correct_4hists__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# 4-panel COUNT(CORRECT) histograms</p></li>
<li><p>unc_vs_correct_overlaid__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# overlaid densities (CORRECT only)</p></li>
<li><p>unc_vs_corr_incorr_by_type__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# 2×2 CORRECT vs INCORRECT (All, Words, LLM, Formal)</p></li>
<li><p>unc_accuracy_by_bin__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# per-bin accuracy with Wilson 95% CIs</p></li>
<li><p>acc_vs_uncertainty_regression__&lt;DS&gt;__&lt;MODEL&gt;.png/.pdf
# GLM: correct ~ C(problem)+C(step)+aha:C(perplexity_bucket)</p></li>
</ol>
</dd>
<dt>CSVs:</dt><dd><ul class="simple">
<li><p>unc_vs_correct_4hists.csv</p></li>
<li><p>unc_vs_correct_overlaid.csv</p></li>
<li><p>unc_vs_corr_incorr_by_type.csv</p></li>
<li><p>unc_accuracy_by_bin.csv</p></li>
<li><p>acc_vs_uncertainty_regression.csv</p></li>
</ul>
</dd>
</dl>
<p>Use –a4_pdf to save exact A4 PDFs; text is Times/Times New Roman (12 pt).</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_helpers.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_helpers.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_helpers.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_helpers.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Construct and return the CLI argument parser.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_helpers.run_uncertainty_figures">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_helpers.</span></span><span class="sig-name descname"><span class="pre">run_uncertainty_figures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_helpers.html#run_uncertainty_figures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_helpers.run_uncertainty_figures" title="Link to this definition">¶</a></dt>
<dd><p>Run the full uncertainty/correctness figure pipeline.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_plotting_base">
<span id="src-analysis-figure-2-plotting-base-module"></span><h2>src.analysis.figure_2_plotting_base module<a class="headerlink" href="#module-src.analysis.figure_2_plotting_base" title="Link to this heading">¶</a></h2>
<p>Shared plotting utilities for Figure 2 helpers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.FigureSaveConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_plotting_base.</span></span><span class="sig-name descname"><span class="pre">FigureSaveConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_plotting_base.html#FigureSaveConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Shared subset of plot config fields for saving PNG/PDF variants.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.FigureSaveConfig.a4_orientation">
<span class="sig-name descname"><span class="pre">a4_orientation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.a4_orientation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.FigureSaveConfig.a4_pdf">
<span class="sig-name descname"><span class="pre">a4_pdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.a4_pdf" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.FigureSaveConfig.out_pdf">
<span class="sig-name descname"><span class="pre">out_pdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.out_pdf" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.FigureSaveConfig.out_png">
<span class="sig-name descname"><span class="pre">out_png</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.out_png" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.FigureSaveConfig.title_suffix">
<span class="sig-name descname"><span class="pre">title_suffix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.title_suffix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.add_lower_center_legend">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_plotting_base.</span></span><span class="sig-name descname"><span class="pre">add_lower_center_legend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Line2D</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(0.5,</span> <span class="pre">0.02)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_plotting_base.html#add_lower_center_legend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_plotting_base.add_lower_center_legend" title="Link to this definition">¶</a></dt>
<dd><p>Attach a lower-centered legend shared across several Figure 2 plots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_plotting_base.save_figure_outputs">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_plotting_base.</span></span><span class="sig-name descname"><span class="pre">save_figure_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig" title="src.analysis.figure_2_plotting_base.FigureSaveConfig"><span class="pre">FigureSaveConfig</span></a></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">150</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_plotting_base.html#save_figure_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_plotting_base.save_figure_outputs" title="Link to this definition">¶</a></dt>
<dd><p>Persist <code class="docutils literal notranslate"><span class="pre">figure</span></code> as PNG/PDF using the metadata in <code class="docutils literal notranslate"><span class="pre">config</span></code>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_regression">
<span id="src-analysis-figure-2-regression-module"></span><h2>src.analysis.figure_2_regression module<a class="headerlink" href="#module-src.analysis.figure_2_regression" title="Link to this heading">¶</a></h2>
<p>Regression helpers for Figure 2.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">BucketRegressionContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_levels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#BucketRegressionContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context for predicting bucket-wise margins from a fitted GLM.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext.aha_column">
<span class="sig-name descname"><span class="pre">aha_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext.aha_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext.base_df">
<span class="sig-name descname"><span class="pre">base_df</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext.base_df" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext.bucket_column">
<span class="sig-name descname"><span class="pre">bucket_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext.bucket_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext.bucket_levels">
<span class="sig-name descname"><span class="pre">bucket_levels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext.bucket_levels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext.model" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.BucketRegressionContext.res">
<span class="sig-name descname"><span class="pre">res</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.BucketRegressionContext.res" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionOutputConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">RegressionOutputConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a4_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#RegressionOutputConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionOutputConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig" title="src.analysis.figure_2_plotting_base.FigureSaveConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">FigureSaveConfig</span></code></a></p>
<p>Output-specific configuration for regression figures.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">RegressionPanelMeta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_levels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#RegressionPanelMeta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Metadata needed to draw one regression panel.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta.bucket_labels">
<span class="sig-name descname"><span class="pre">bucket_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta.bucket_labels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta.bucket_levels">
<span class="sig-name descname"><span class="pre">bucket_levels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta.bucket_levels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta.colors">
<span class="sig-name descname"><span class="pre">colors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta.colors" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta.dataset">
<span class="sig-name descname"><span class="pre">dataset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta.dataset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta.model_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPanelMeta.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPanelMeta.title" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">RegressionPlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppx_bucket_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bootstrap_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionOutputConfig" title="src.analysis.figure_2_regression.RegressionOutputConfig"><span class="pre">RegressionOutputConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#RegressionPlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for GLM-based regression curves.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig.dataset">
<span class="sig-name descname"><span class="pre">dataset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig.dataset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig.frame">
<span class="sig-name descname"><span class="pre">frame</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig.frame" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig.model_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig.num_bootstrap_samples">
<span class="sig-name descname"><span class="pre">num_bootstrap_samples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig.num_bootstrap_samples" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig.output">
<span class="sig-name descname"><span class="pre">output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionOutputConfig" title="src.analysis.figure_2_regression.RegressionOutputConfig"><span class="pre">RegressionOutputConfig</span></a></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig.output" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.RegressionPlotConfig.ppx_bucket_column">
<span class="sig-name descname"><span class="pre">ppx_bucket_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.RegressionPlotConfig.ppx_bucket_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.VariantPlotContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">VariantPlotContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prepared_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_levels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig" title="src.analysis.figure_2_regression.RegressionPlotConfig"><span class="pre">RegressionPlotConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows_for_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#VariantPlotContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.VariantPlotContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>State shared across regression variant plots.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.VariantPlotContext.bucket_labels">
<span class="sig-name descname"><span class="pre">bucket_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.VariantPlotContext.bucket_labels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.VariantPlotContext.bucket_levels">
<span class="sig-name descname"><span class="pre">bucket_levels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.VariantPlotContext.bucket_levels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.VariantPlotContext.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig" title="src.analysis.figure_2_regression.RegressionPlotConfig"><span class="pre">RegressionPlotConfig</span></a></em><a class="headerlink" href="#src.analysis.figure_2_regression.VariantPlotContext.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.VariantPlotContext.prepared_frame">
<span class="sig-name descname"><span class="pre">prepared_frame</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.figure_2_regression.VariantPlotContext.prepared_frame" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.VariantPlotContext.rows_for_csv">
<span class="sig-name descname"><span class="pre">rows_for_csv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.figure_2_regression.VariantPlotContext.rows_for_csv" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.fit_glm_interaction">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">fit_glm_interaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ridge_alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#fit_glm_interaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.fit_glm_interaction" title="Link to this definition">¶</a></dt>
<dd><p>Fit a logistic GLM with an Aha×bucket interaction, falling back to ridge.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.plot_regression_curves">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">plot_regression_curves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig" title="src.analysis.figure_2_regression.RegressionPlotConfig"><span class="pre">RegressionPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#plot_regression_curves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.plot_regression_curves" title="Link to this definition">¶</a></dt>
<dd><p>Plot Figure-2-style regression curves and write an accompanying CSV.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_regression.predict_margins_by_bucket">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_regression.</span></span><span class="sig-name descname"><span class="pre">predict_margins_by_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext" title="src.analysis.figure_2_regression.BucketRegressionContext"><span class="pre">BucketRegressionContext</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bootstrap_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_regression.html#predict_margins_by_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_regression.predict_margins_by_bucket" title="Link to this definition">¶</a></dt>
<dd><p>Predict bucket-level marginal accuracies and bootstrap confidence intervals.</p>
</dd></dl>

</section>
<section id="module-src.analysis.figure_2_uncertainty">
<span id="src-analysis-figure-2-uncertainty-module"></span><h2>src.analysis.figure_2_uncertainty module<a class="headerlink" href="#module-src.analysis.figure_2_uncertainty" title="Link to this heading">¶</a></h2>
<p>Legacy-compatible wrapper for the Figure 2 (uncertainty → correctness) script.</p>
<p>Canonical usage is now:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">src</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">figure_2_uncertainty</span> <span class="o">...</span>
</pre></div>
</div>
<p>Internally this loads and forwards to the new <code class="docutils literal notranslate"><span class="pre">figure_2.py</span></code> module so
existing scripts that call <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">src/analysis/figure-2.py</span></code> continue to work.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.figure_2_uncertainty.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.figure_2_uncertainty.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/figure_2_uncertainty.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.figure_2_uncertainty.main" title="Link to this definition">¶</a></dt>
<dd><p>Load and invoke the legacy Figure 2 script’s <code class="docutils literal notranslate"><span class="pre">main()</span></code> function.</p>
</dd></dl>

</section>
<section id="module-src.analysis.final_plot">
<span id="src-analysis-final-plot-module"></span><h2>src.analysis.final_plot module<a class="headerlink" href="#module-src.analysis.final_plot" title="Link to this heading">¶</a></h2>
<p>uncertainty_gated_reconsideration.py  (final-plot with NaN-safe binning)</p>
<dl class="simple">
<dt>Figure: (A) Shift prevalence vs entropy (pass-1) → “uncertainty-seeking”</dt><dd><ol class="upperalpha simple" start="2">
<li><p>Gated reconsideration success vs entropy (pass-2 injected cue),
stratified by pass-1 group baseline: ≥1/8 correct vs 0/8 correct.</p></li>
</ol>
</dd>
</dl>
<p>Key robustness fixes:
- Uses pandas IntervalIndex from the provided bin edges for consistent bin keys.
- Fills/guards N before int() casts (prevents “cannot convert float NaN to integer”).
- Works when some bins/strata are empty.</p>
<section id="inputs">
<h3>Inputs<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Scans JSON/JSONL(.gz)/JSON files under –scan_root; records should include:
pass1{ entropy(_think/_answer), … }, pass2{ has_reconsider_cue, reconsider_markers }, and
correctness signals (booleans or canon/raw equality).</p></li>
<li><p>For Carpark, you can derive correctness from soft_reward via
–carpark_success_op/–carpark_soft_threshold.</p></li>
</ul>
</section>
<section id="outputs">
<h3>Outputs<a class="headerlink" href="#outputs" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>PNG + PDF: two stacked panels</p></li>
<li><p>CSVs with per-bin aggregates</p></li>
</ul>
<p class="rubric">Example</p>
<p>python -m src.analysis.final_plot_uncertainty_gate   –scan_root graphs/_agg_qwen15b_t07   –bins 0 1 2 3 4   –min_step 0 –max_step 1000   –carpark_success_op ge –carpark_soft_threshold 0.1   –out_dir graphs/uncertainty_qwen15b_t07   –dataset_name MIXED   –model_name “Qwen2.5-1.5B &#64; T=0.7”   –dpi 600 –make_plot</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.final_plot.BinLayout">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">BinLayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intervals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">IntervalIndex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#BinLayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.BinLayout" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Layout for bin-based plots: intervals, tick labels, and x positions.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.BinLayout.intervals">
<span class="sig-name descname"><span class="pre">intervals</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">IntervalIndex</span></em><a class="headerlink" href="#src.analysis.final_plot.BinLayout.intervals" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.BinLayout.tick_labels">
<span class="sig-name descname"><span class="pre">tick_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.final_plot.BinLayout.tick_labels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.BinLayout.x_positions">
<span class="sig-name descname"><span class="pre">x_positions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.final_plot.BinLayout.x_positions" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.final_plot.CarparkEvalConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">CarparkEvalConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">carpark_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_thr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#CarparkEvalConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.CarparkEvalConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for Carpark-style correctness extraction and filtering.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.CarparkEvalConfig.carpark_op">
<span class="sig-name descname"><span class="pre">carpark_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.final_plot.CarparkEvalConfig.carpark_op" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.CarparkEvalConfig.carpark_thr">
<span class="sig-name descname"><span class="pre">carpark_thr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.final_plot.CarparkEvalConfig.carpark_thr" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.CarparkEvalConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.final_plot.CarparkEvalConfig.max_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.CarparkEvalConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.final_plot.CarparkEvalConfig.min_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.final_plot.FigureOutputConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">FigureOutputConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#FigureOutputConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.FigureOutputConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for plot output paths and styling.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.FigureOutputConfig.dpi">
<span class="sig-name descname"><span class="pre">dpi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">300</span></em><a class="headerlink" href="#src.analysis.final_plot.FigureOutputConfig.dpi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.FigureOutputConfig.out_pdf">
<span class="sig-name descname"><span class="pre">out_pdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.final_plot.FigureOutputConfig.out_pdf" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.FigureOutputConfig.out_png">
<span class="sig-name descname"><span class="pre">out_png</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.final_plot.FigureOutputConfig.out_png" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.final_plot.FigureOutputConfig.title_suffix">
<span class="sig-name descname"><span class="pre">title_suffix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.final_plot.FigureOutputConfig.title_suffix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot.example_key">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">example_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#example_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.example_key" title="Link to this definition">¶</a></dt>
<dd><p>Return a stable per-example key for grouping rows.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot.load_dataframe">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">load_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_thr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#load_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.load_dataframe" title="Link to this definition">¶</a></dt>
<dd><p>Load raw JSONL records into a per-sample DataFrame used by the final plot.</p>
<dl class="simple">
<dt>Row = one sample. Columns:</dt><dd><p>group_id = (example_key || sample_idx) + “::stepNNN”
entropy  = pass-1 entropy (fallback rules)
p1_correct, p2_triggered, p2_correct, p1_shift</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for uncertainty-gated reconsideration analysis and plotting.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot.pass2_triggered">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">pass2_triggered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass2_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#pass2_triggered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.pass2_triggered" title="Link to this definition">¶</a></dt>
<dd><p>Return 1 iff pass-2 was explicitly triggered via an injected cue.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot.plot_figure">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">plot_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_bot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.final_plot.FigureOutputConfig" title="src.analysis.final_plot.FigureOutputConfig"><span class="pre">FigureOutputConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#plot_figure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.plot_figure" title="Link to this definition">¶</a></dt>
<dd><p>NaN-safe plotting using IntervalIndex keys (prevents cast errors when bins/strata are empty).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot.summarize_for_figure">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot.</span></span><span class="sig-name descname"><span class="pre">summarize_for_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot.html#summarize_for_figure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot.summarize_for_figure" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate per-sample rows into the two panel DataFrames used for plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>per-bin shift prevalence (pass-1 sample-level)
df_bot  : per-bin, per-stratum (baseline 0/8 vs ≥1/8) pass-2 any-correct rate (triggered only)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>df_top</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.analysis.final_plot_uncertainty_gate">
<span id="src-analysis-final-plot-uncertainty-gate-module"></span><h2>src.analysis.final_plot_uncertainty_gate module<a class="headerlink" href="#module-src.analysis.final_plot_uncertainty_gate" title="Link to this heading">¶</a></h2>
<p>Legacy-compatible wrapper for the uncertainty-gated reconsideration figure.</p>
<p>Canonical usage is now:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">src</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">final_plot_uncertainty_gate</span> <span class="o">...</span>
</pre></div>
</div>
<p>Internally this forwards to <a class="reference internal" href="#module-src.analysis.final_plot" title="src.analysis.final_plot"><code class="xref py py-mod docutils literal notranslate"><span class="pre">src.analysis.final_plot</span></code></a>, which contains the
actual implementation of the figure.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.final_plot_uncertainty_gate.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.final_plot_uncertainty_gate.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/final_plot_uncertainty_gate.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.final_plot_uncertainty_gate.main" title="Link to this definition">¶</a></dt>
<dd><p>Thin wrapper that dispatches to <a class="reference internal" href="#src.analysis.final_plot.main" title="src.analysis.final_plot.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">src.analysis.final_plot.main()</span></code></a>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.flips">
<span id="src-analysis-flips-module"></span><h2>src.analysis.flips module<a class="headerlink" href="#module-src.analysis.flips" title="Link to this heading">¶</a></h2>
<p>List problems that flip from wrong at the initial step to correct at the final step.</p>
<p>Usage example:</p>
<blockquote>
<div><dl class="simple">
<dt>python flips.py –results_root path/to/GRPO_outputs </dt><dd><p>–init_step 50 –final_step 850 –output flips.csv</p>
</dd>
</dl>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.flips.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.flips.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/flips.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.flips.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for computing wrong→correct flip trajectories.</p>
</dd></dl>

</section>
<section id="module-src.analysis.forced_aha_effect">
<span id="src-analysis-forced-aha-effect-module"></span><h2>src.analysis.forced_aha_effect module<a class="headerlink" href="#module-src.analysis.forced_aha_effect" title="Link to this heading">¶</a></h2>
<p>Compatibility wrapper for the Forced Aha effect analysis.</p>
<p>The actual implementation lives in <a class="reference internal" href="#module-src.analysis.forced_aha_effect_impl" title="src.analysis.forced_aha_effect_impl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">src.analysis.forced_aha_effect_impl</span></code></a>;
this file simply delegates to keep existing CLI entry points working.</p>
</section>
<section id="module-src.analysis.forced_aha_effect_impl">
<span id="src-analysis-forced-aha-effect-impl-module"></span><h2>src.analysis.forced_aha_effect_impl module<a class="headerlink" href="#module-src.analysis.forced_aha_effect_impl" title="Link to this heading">¶</a></h2>
<p>Forced Aha Effect — analysis + publication figures.</p>
<dl class="simple">
<dt>Adds:</dt><dd><ul class="simple">
<li><p>Pastel1 palette for uncertainty &amp; stepwise figures</p></li>
<li><p>Clearer labels (y: “Delta Accuracy (pp) for second pass”)</p></li>
<li><p>Series names: “Per-draw (single completion)”, “Per-problem mean of 8 (avg of 8 completions)”</p></li>
<li><p>New combined figure: uncertainty buckets (left) + stepwise overlay of all three metrics (right)</p></li>
</ul>
</dd>
<dt>Figures (saved under &lt;out_dir&gt;/figures):</dt><dd><ul class="simple">
<li><p>overall_deltas.{png,pdf}</p></li>
<li><p>stepwise_delta_sample.{png,pdf}</p></li>
<li><p>stepwise_delta_cluster_any.{png,pdf}</p></li>
<li><p>stepwise_delta_cluster_mean.{png,pdf}</p></li>
<li><p>stepwise_overlay.{png,pdf}                  &lt;– NEW (all three deltas in one subplot)</p></li>
<li><p>any_conversion_waterfall.{png,pdf}</p></li>
<li><p>any_headroom_scatter.{png,pdf}</p></li>
<li><p>uncertainty_buckets.{png,pdf}               &lt;– updated labels &amp; Pastel1 by default</p></li>
<li><p>uncertainty_and_stepwise.{png,pdf}          &lt;– NEW two-subfigure figure</p></li>
<li><p>overview_deltas_and_waterfall.{png,pdf}</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.McNemarCounts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">McNemarCounts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">both_wrong</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wins_pass2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wins_pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">both_correct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#McNemarCounts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.McNemarCounts" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Counts and p-value for McNemar tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.McNemarCounts.both_correct">
<span class="sig-name descname"><span class="pre">both_correct</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.both_correct" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.McNemarCounts.both_wrong">
<span class="sig-name descname"><span class="pre">both_wrong</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.both_wrong" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.McNemarCounts.p_value">
<span class="sig-name descname"><span class="pre">p_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.p_value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.McNemarCounts.wins_pass1">
<span class="sig-name descname"><span class="pre">wins_pass1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.wins_pass1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.McNemarCounts.wins_pass2">
<span class="sig-name descname"><span class="pre">wins_pass2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.wins_pass2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.PlotArtifacts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">PlotArtifacts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#PlotArtifacts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Bundles data required to render plots.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.PlotArtifacts.clusters">
<span class="sig-name descname"><span class="pre">clusters</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.clusters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.PlotArtifacts.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.out_dir" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.PlotArtifacts.pairs">
<span class="sig-name descname"><span class="pre">pairs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.pairs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.PlotArtifacts.step_df">
<span class="sig-name descname"><span class="pre">step_df</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.step_df" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.PlotArtifacts.summary_rows">
<span class="sig-name descname"><span class="pre">summary_rows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.summary_rows" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.SampleRowContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">SampleRowContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_from_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#SampleRowContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.SampleRowContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context for constructing sample rows with consistent metadata.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.SampleRowContext.entropy_field">
<span class="sig-name descname"><span class="pre">entropy_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.SampleRowContext.entropy_field" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.SampleRowContext.step_from_name">
<span class="sig-name descname"><span class="pre">step_from_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.SampleRowContext.step_from_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.SampleRowContext.variant">
<span class="sig-name descname"><span class="pre">variant</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.SampleRowContext.variant" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Build the argument parser for the forced Aha effect CLI.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.build_clusters">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">build_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#build_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.build_clusters" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate sample-level rows into per-problem clusters for one pass.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">label</span></code> is used as a suffix for count/accuracy fields (for example, <code class="docutils literal notranslate"><span class="pre">p1</span></code> or <code class="docutils literal notranslate"><span class="pre">p2</span></code>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.load_samples_from_root">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">load_samples_from_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass2_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#load_samples_from_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.load_samples_from_root" title="Link to this definition">¶</a></dt>
<dd><p>Load sample-level rows from a single root for either PASS-1 or PASS-2.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">==</span> <span class="pre">'pass1'</span></code> the function populates <code class="docutils literal notranslate"><span class="pre">entropy_p1</span></code> from the
requested <code class="docutils literal notranslate"><span class="pre">entropy_field</span></code>; for PASS-2 it only records correctness.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.load_samples_from_single_root_with_both">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">load_samples_from_single_root_with_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass2_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#load_samples_from_single_root_with_both"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.load_samples_from_single_root_with_both" title="Link to this definition">¶</a></dt>
<dd><p>Load paired PASS-1 and PASS-2 samples from a single root directory.</p>
<p>Returns two DataFrames, one for pass1 and one for pass2, sharing common
metadata columns (dataset/model/problem/step/split/sample_idx).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for forced Aha effect analysis and plotting.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.pair_clusters">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">pair_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#pair_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.pair_clusters" title="Link to this definition">¶</a></dt>
<dd><p>Build and pair per-problem clusters from two sample-level DataFrames.</p>
<p>The input frames are aggregated into clusters (per problem/step/etc.) and then
inner-joined on the shared identifier columns.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.pair_samples">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">pair_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_pass2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#pair_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.pair_samples" title="Link to this definition">¶</a></dt>
<dd><p>Pair sample-level rows from two passes on shared identifiers (problem/step/etc.).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.rng">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">rng</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#rng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.rng" title="Link to this definition">¶</a></dt>
<dd><p>Seed both the Python <code class="docutils literal notranslate"><span class="pre">random</span></code> module and NumPy with a robust integer seed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_effect_impl.verdict_line">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_effect_impl.</span></span><span class="sig-name descname"><span class="pre">verdict_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_effect_impl.html#verdict_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_effect_impl.verdict_line" title="Link to this definition">¶</a></dt>
<dd><p>Build a human-readable verdict line summarizing forced Aha effects.</p>
</dd></dl>

</section>
<section id="module-src.analysis.forced_aha_plotting">
<span id="src-analysis-forced-aha-plotting-module"></span><h2>src.analysis.forced_aha_plotting module<a class="headerlink" href="#module-src.analysis.forced_aha_plotting" title="Link to this heading">¶</a></h2>
<p>Plotting utilities shared by the forced Aha! effect CLI.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.BucketSeries">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">BucketSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#BucketSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.BucketSeries" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Bootstrap summary for entropy buckets.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.BucketSeries.delta">
<span class="sig-name descname"><span class="pre">delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.BucketSeries.delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.BucketSeries.lower">
<span class="sig-name descname"><span class="pre">lower</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.BucketSeries.lower" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.BucketSeries.upper">
<span class="sig-name descname"><span class="pre">upper</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.BucketSeries.upper" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.ConversionSegment">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">ConversionSegment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#ConversionSegment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.ConversionSegment" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Waterfall segment describing a transition bucket.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.ConversionSegment.color">
<span class="sig-name descname"><span class="pre">color</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.ConversionSegment.color" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.ConversionSegment.count">
<span class="sig-name descname"><span class="pre">count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.ConversionSegment.count" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.ConversionSegment.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.ConversionSegment.label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">OverallDeltaBar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_upper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#OverallDeltaBar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prepared bar metadata with bootstrap errors and optional p-values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar.color">
<span class="sig-name descname"><span class="pre">color</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.color" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar.error_lower">
<span class="sig-name descname"><span class="pre">error_lower</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.error_lower" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar.error_upper">
<span class="sig-name descname"><span class="pre">error_upper</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.error_upper" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar.height">
<span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.height" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaBar.p_value">
<span class="sig-name descname"><span class="pre">p_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.p_value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">OverallDeltaConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_boot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#OverallDeltaConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Reusable bootstrap/palette configuration for delta overview plots.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaConfig.n_boot">
<span class="sig-name descname"><span class="pre">n_boot</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig.n_boot" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaConfig.palette">
<span class="sig-name descname"><span class="pre">palette</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig.palette" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaConfig.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig.seed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaInputs">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">OverallDeltaInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summary_rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#OverallDeltaInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Aggregated summary rows and source DataFrames for overview bars.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaInputs.clusters_df">
<span class="sig-name descname"><span class="pre">clusters_df</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs.clusters_df" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaInputs.pairs_df">
<span class="sig-name descname"><span class="pre">pairs_df</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs.pairs_df" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.OverallDeltaInputs.summary_rows">
<span class="sig-name descname"><span class="pre">summary_rows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs.summary_rows" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.SeriesPlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">SeriesPlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_boot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Pastel1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">darken</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#SeriesPlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Shared configuration for uncertainty/stepwise plots.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.SeriesPlotConfig.darken">
<span class="sig-name descname"><span class="pre">darken</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.8</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.darken" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.SeriesPlotConfig.n_boot">
<span class="sig-name descname"><span class="pre">n_boot</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.n_boot" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.SeriesPlotConfig.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.out_dir" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.SeriesPlotConfig.palette_name">
<span class="sig-name descname"><span class="pre">palette_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Pastel1'</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.palette_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.SeriesPlotConfig.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.seed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseColors">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">StepwiseColors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">any_correct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#StepwiseColors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseColors" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Color palette for sample/mean/any series.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseColors.any_correct">
<span class="sig-name descname"><span class="pre">any_correct</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseColors.any_correct" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseColors.mean">
<span class="sig-name descname"><span class="pre">mean</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseColors.mean" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseColors.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseColors.sample" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseSeries">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">StepwiseSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#StepwiseSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseSeries" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Series data for plotting stepwise deltas.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseSeries.delta">
<span class="sig-name descname"><span class="pre">delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseSeries.delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseSeries.lower">
<span class="sig-name descname"><span class="pre">lower</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseSeries.lower" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseSeries.steps">
<span class="sig-name descname"><span class="pre">steps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseSeries.steps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.StepwiseSeries.upper">
<span class="sig-name descname"><span class="pre">upper</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.forced_aha_plotting.StepwiseSeries.upper" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_conversion_waterfall">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_conversion_waterfall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_conversion_waterfall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_conversion_waterfall" title="Link to this definition">¶</a></dt>
<dd><p>Plot a waterfall-style bar chart of any-correct conversions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_headroom_scatter">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_headroom_scatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_headroom_scatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_headroom_scatter" title="Link to this definition">¶</a></dt>
<dd><p>Plot Δ(any-correct) vs baseline any-correct per step (headroom plot).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_overall_deltas">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_overall_deltas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs" title="src.analysis.forced_aha_plotting.OverallDeltaInputs"><span class="pre">OverallDeltaInputs</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig" title="src.analysis.forced_aha_plotting.OverallDeltaConfig"><span class="pre">OverallDeltaConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_overall_deltas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_overall_deltas" title="Link to this definition">¶</a></dt>
<dd><p>Plot per-metric second-pass delta accuracy with bootstrap confidence bars.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_overview_side_by_side">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_overview_side_by_side</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_overview_side_by_side"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_overview_side_by_side" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Side-by-side overview with the SAME inputs as plot_uncertainty_and_stepwise:</dt><dd><p>(left) Overall Δ bars (bootstrap CIs), no p-values shown.
(right) Any-correct conversions waterfall (Incorrect→Correct first).</p>
</dd>
</dl>
<p>Left bars use a darkened qualitative palette; right uses semantic colors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_stepwise_overlay">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_stepwise_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig" title="src.analysis.forced_aha_plotting.SeriesPlotConfig"><span class="pre">SeriesPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_stepwise_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_stepwise_overlay" title="Link to this definition">¶</a></dt>
<dd><p>Plot step-wise delta accuracy for sample/cluster metrics with bootstrap CIs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_uncertainty_and_stepwise">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_uncertainty_and_stepwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig" title="src.analysis.forced_aha_plotting.SeriesPlotConfig"><span class="pre">SeriesPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_uncertainty_and_stepwise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_uncertainty_and_stepwise" title="Link to this definition">¶</a></dt>
<dd><p>Plot combined figure with entropy buckets (left) and stepwise overlay (right).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.plot_uncertainty_buckets">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_uncertainty_buckets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig" title="src.analysis.forced_aha_plotting.SeriesPlotConfig"><span class="pre">SeriesPlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#plot_uncertainty_buckets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.plot_uncertainty_buckets" title="Link to this definition">¶</a></dt>
<dd><p>Plot delta-accuracy vs entropy quintiles with bootstrap confidence intervals.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_plotting.savefig">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_plotting.</span></span><span class="sig-name descname"><span class="pre">savefig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Figure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_plotting.html#savefig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_plotting.savefig" title="Link to this definition">¶</a></dt>
<dd><p>Save a Matplotlib figure to <code class="docutils literal notranslate"><span class="pre">out_base</span></code> as both PNG and PDF, creating
parent directories as needed.</p>
</dd></dl>

</section>
<section id="module-src.analysis.forced_aha_sampling">
<span id="src-analysis-forced-aha-sampling-module"></span><h2>src.analysis.forced_aha_sampling module<a class="headerlink" href="#module-src.analysis.forced_aha_sampling" title="Link to this heading">¶</a></h2>
<p>Utilities to prepare forced-aha samples for the forced-aha analysis.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_sampling.prepare_forced_aha_samples">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_sampling.</span></span><span class="sig-name descname"><span class="pre">prepare_forced_aha_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_root_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_single_root_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_sampling.html#prepare_forced_aha_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_sampling.prepare_forced_aha_samples" title="Link to this definition">¶</a></dt>
<dd><p>Create output directory and load pass1/pass2 samples for the forced-aha analysis.</p>
</dd></dl>

</section>
<section id="module-src.analysis.forced_aha_shared">
<span id="src-analysis-forced-aha-shared-module"></span><h2>src.analysis.forced_aha_shared module<a class="headerlink" href="#module-src.analysis.forced_aha_shared" title="Link to this heading">¶</a></h2>
<p>Shared helpers for the Forced Aha analyses.</p>
<p>This module centralizes the small utilities and statistical helpers that were
previously duplicated across <code class="docutils literal notranslate"><span class="pre">forced_aha_effect.py</span></code> and
<code class="docutils literal notranslate"><span class="pre">forced_aha_effect_impl.py</span></code> so we can keep the linter happy and avoid drift.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.extract_correct_flag">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">extract_correct_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#extract_correct_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.extract_correct_flag" title="Link to this definition">¶</a></dt>
<dd><p>Extract a correctness flag from a pass dict or nested sample/completion dict.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.extract_entropy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">extract_entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preferred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'entropy_answer'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#extract_entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.extract_entropy" title="Link to this definition">¶</a></dt>
<dd><p>Extract a numeric entropy value from a pass dict, preferring <code class="docutils literal notranslate"><span class="pre">preferred</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.extract_sample_idx">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">extract_sample_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#extract_sample_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.extract_sample_idx" title="Link to this definition">¶</a></dt>
<dd><p>Try a variety of sample index field names across the record + pass dict.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.first_nonempty">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">first_nonempty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#first_nonempty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.first_nonempty" title="Link to this definition">¶</a></dt>
<dd><p>Return the first <code class="docutils literal notranslate"><span class="pre">mapping[key]</span></code> that is a non-empty dict, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.mcnemar_from_pairs">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">mcnemar_from_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#mcnemar_from_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.mcnemar_from_pairs" title="Link to this definition">¶</a></dt>
<dd><p>Count outcomes and compute a McNemar p-value from paired boolean columns.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.mcnemar_pvalue_table">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">mcnemar_pvalue_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count_00</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_01</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_10</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_11</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#mcnemar_pvalue_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.mcnemar_pvalue_table" title="Link to this definition">¶</a></dt>
<dd><p>Compute a McNemar-style p-value for a 2×2 contingency table.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.paired_t_and_wilcoxon">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">paired_t_and_wilcoxon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diffs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#paired_t_and_wilcoxon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.paired_t_and_wilcoxon" title="Link to this definition">¶</a></dt>
<dd><p>Compute paired t-test and Wilcoxon signed-rank p-values for a vector of differences.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.pass_with_correctness">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">pass_with_correctness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass2_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#pass_with_correctness"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.pass_with_correctness" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">(pass_obj,</span> <span class="pre">correct_flag)</span></code> for the requested variant, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.select_pass_object">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">select_pass_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass2_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#select_pass_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.select_pass_object" title="Link to this definition">¶</a></dt>
<dd><p>Locate the dict corresponding to <code class="docutils literal notranslate"><span class="pre">variant</span></code> (“pass1” or “pass2”) in <code class="docutils literal notranslate"><span class="pre">record</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.summarize_cluster_any">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">summarize_cluster_any</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#summarize_cluster_any"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.summarize_cluster_any" title="Link to this definition">¶</a></dt>
<dd><p>Summarize problem-level any-correct clusters into accuracy and McNemar stats.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.summarize_cluster_mean">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">summarize_cluster_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#summarize_cluster_mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.summarize_cluster_mean" title="Link to this definition">¶</a></dt>
<dd><p>Summarize problem-level mean accuracies with paired t-test and Wilcoxon stats.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.forced_aha_shared.summarize_sample_level">
<span class="sig-prename descclassname"><span class="pre">src.analysis.forced_aha_shared.</span></span><span class="sig-name descname"><span class="pre">summarize_sample_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/forced_aha_shared.html#summarize_sample_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.forced_aha_shared.summarize_sample_level" title="Link to this definition">¶</a></dt>
<dd><p>Summarize sample-level accuracy with Wilson intervals and McNemar stats.</p>
</dd></dl>

</section>
<section id="module-src.analysis.graph_1">
<span id="src-analysis-graph-1-module"></span><h2>src.analysis.graph_1 module<a class="headerlink" href="#module-src.analysis.graph_1" title="Link to this heading">¶</a></h2>
<section id="raw-shift-effect-per-step-scatter-only-no-trend-lines-no-legend">
<h3>Raw shift effect per step (scatter only; no trend lines, no legend)<a class="headerlink" href="#raw-shift-effect-per-step-scatter-only-no-trend-lines-no-legend" title="Link to this heading">¶</a></h3>
<p>Computes and plots the <em>raw</em> effect of LLM-detected “Aha!” (shift) on success
per training step, hard-capped at step ≤ 1000:</p>
<blockquote>
<div><p>raw_effect(step) = P(success | shift=1, step) - P(success | shift=0, step)</p>
</div></blockquote>
<dl class="simple">
<dt>Success definition by domain:</dt><dd><ul class="simple">
<li><p>Crossword/Math/Math2: success = is_correct_pred</p></li>
<li><p>Carpark: success = 1[ soft_reward OP threshold ] (OP ∈ {gt, ge, eq}; default: gt 0.0)</p></li>
</ul>
</dd>
</dl>
</section>
<section id="id1">
<h3>Outputs<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>CSV  : &lt;out_dir&gt;/raw_effect_per_step__&lt;dataset&gt;__&lt;model&gt;.csv</p></li>
<li><dl class="simple">
<dt>PNGs<span class="classifier">&lt;out_dir&gt;/raw_effect_per_step_panels_linear.png</span></dt><dd><p>(3 panels; Math overlays Math &amp; Math2)
&lt;out_dir&gt;/raw_effect_per_step_overlay_linear.png
(overlay across domains, not forced square)
(PDFs saved alongside)</p>
</dd>
</dl>
</li>
</ol>
</section>
<section id="plot-units">
<h3>Plot units<a class="headerlink" href="#plot-units" title="Link to this heading">¶</a></h3>
<p>By default, plots are rendered in percentage points (pp), with ticks at
-20,-10,0,10,20 and axis padded slightly beyond ±20 ([-22,22]) so points/error
bars aren’t clipped. CSV remains in probability units (0..1).</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_1.OverlayFigureConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">OverlayFigureConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#OverlayFigureConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.OverlayFigureConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration specific to the overlay figure.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.OverlayFigureConfig.dpi">
<span class="sig-name descname"><span class="pre">dpi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.graph_1.OverlayFigureConfig.dpi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.OverlayFigureConfig.height_scale">
<span class="sig-name descname"><span class="pre">height_scale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.OverlayFigureConfig.height_scale" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.OverlayFigureConfig.marker_size">
<span class="sig-name descname"><span class="pre">marker_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.OverlayFigureConfig.marker_size" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.OverlayFigureConfig.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_1.OverlayFigureConfig.title" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.OverlayFigureConfig.width_in">
<span class="sig-name descname"><span class="pre">width_in</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.OverlayFigureConfig.width_in" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_1.PanelFigureConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">PanelFigureConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#PanelFigureConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.PanelFigureConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration specific to the 3-panel figure.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PanelFigureConfig.dpi">
<span class="sig-name descname"><span class="pre">dpi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.graph_1.PanelFigureConfig.dpi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PanelFigureConfig.height_scale">
<span class="sig-name descname"><span class="pre">height_scale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.PanelFigureConfig.height_scale" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PanelFigureConfig.marker_size">
<span class="sig-name descname"><span class="pre">marker_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.PanelFigureConfig.marker_size" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PanelFigureConfig.width_in">
<span class="sig-name descname"><span class="pre">width_in</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.PanelFigureConfig.width_in" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_1.PlotUnitsConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">PlotUnitsConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yticks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#PlotUnitsConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.PlotUnitsConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for axis units and limits.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PlotUnitsConfig.y_scale">
<span class="sig-name descname"><span class="pre">y_scale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_1.PlotUnitsConfig.y_scale" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PlotUnitsConfig.ylabel">
<span class="sig-name descname"><span class="pre">ylabel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_1.PlotUnitsConfig.ylabel" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PlotUnitsConfig.ylim">
<span class="sig-name descname"><span class="pre">ylim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_1.PlotUnitsConfig.ylim" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_1.PlotUnitsConfig.yticks">
<span class="sig-name descname"><span class="pre">yticks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.graph_1.PlotUnitsConfig.yticks" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_1.load_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LoadRowsConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#load_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Materialize the per-record rows for all domains into a DataFrame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_1.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.main" title="Link to this definition">¶</a></dt>
<dd><p>Command-line entry point for the raw-effect per-step analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_1.per_step_raw_effect">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">per_step_raw_effect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_per_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#per_step_raw_effect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.per_step_raw_effect" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate per-step raw effects for a single domain.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_1.plot_overlay_all">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">plot_overlay_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig" title="src.analysis.graph_1.OverlayFigureConfig"><span class="pre">OverlayFigureConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig" title="src.analysis.graph_1.PlotUnitsConfig"><span class="pre">PlotUnitsConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#plot_overlay_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.plot_overlay_all" title="Link to this definition">¶</a></dt>
<dd><p>Plot the overlay figure across all domains.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_1.plot_panels">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_1.</span></span><span class="sig-name descname"><span class="pre">plot_panels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.graph_1.PanelFigureConfig" title="src.analysis.graph_1.PanelFigureConfig"><span class="pre">PanelFigureConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig" title="src.analysis.graph_1.PlotUnitsConfig"><span class="pre">PlotUnitsConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_1.html#plot_panels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_1.plot_panels" title="Link to this definition">¶</a></dt>
<dd><p>Plot the 3-panel raw-effect figure for Crossword, Math, and Carpark.</p>
</dd></dl>

</section>
<section id="module-src.analysis.graph_2">
<span id="src-analysis-graph-2-module"></span><h2>src.analysis.graph_2 module<a class="headerlink" href="#module-src.analysis.graph_2" title="Link to this heading">¶</a></h2>
<section id="entropy-bucket-accuracy-histograms-aha-vs-no-aha">
<h3>Entropy-bucket accuracy histograms (Aha! vs No-Aha)<a class="headerlink" href="#entropy-bucket-accuracy-histograms-aha-vs-no-aha" title="Link to this heading">¶</a></h3>
<p>For each domain, bucket an entropy measure into N bins and plot accuracy
on the y-axis with two bars per bin: Aha=1 (LLM-detected shift) vs Aha=0.</p>
<dl>
<dt>Panels per domain:</dt><dd><ul class="simple">
<li><p>Think entropy</p></li>
<li><p>Answer entropy</p></li>
<li><p>Joint entropy (uses pass1[“entropy”] if available; else mean(think, answer))</p></li>
</ul>
</dd>
<dt>Success definition by domain (accuracy):</dt><dd><ul class="simple">
<li><p>Crossword/Math/Math2: pass1[“is_correct_pred”]</p></li>
<li><p>Carpark: 1[ soft_reward OP threshold ] with OP ∈ {gt, ge, eq} (default gt 0.0)</p></li>
</ul>
</dd>
<dt>Outputs (under –out_dir, defaults to &lt;first_root&gt;/entropy_histograms):</dt><dd><ol class="arabic">
<li><p>CSV:  entropy_hist__&lt;dataset&gt;__&lt;model&gt;.csv
columns = [</p>
<blockquote>
<div><p>domain, metric, bin_idx, bin_left, bin_right,
n_total, n_aha, n_noaha, acc_aha, acc_noaha</p>
</div></blockquote>
<p>]</p>
</li>
<li><p>One figure per domain:
&lt;slug&gt;__&lt;domain&gt;__entropy_hist_panels.[png|pdf]
Panels: think | answer | joint</p></li>
</ol>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Aha! (shift) uses the same domain-aware gating as your figure code.</p></li>
<li><p>Step filters supported; hard-capped at step ≤ 1000 by default (can override).</p></li>
<li><p>Binning: default uniform-width over [min, max] per-domain per-metric.
Optionally use quantile bins with –bucket_mode=quantile.</p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_2.RecordContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">RecordContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_from_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#RecordContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.RecordContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Lightweight context for a single JSONL results file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RecordContext.domain">
<span class="sig-name descname"><span class="pre">domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_2.RecordContext.domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RecordContext.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_2.RecordContext.path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RecordContext.step_from_name">
<span class="sig-name descname"><span class="pre">step_from_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.graph_2.RecordContext.step_from_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_2.RowLoadConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">RowLoadConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpt_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_subset_native</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#RowLoadConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.RowLoadConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration used when loading per-row metrics.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RowLoadConfig.gpt_keys">
<span class="sig-name descname"><span class="pre">gpt_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_2.RowLoadConfig.gpt_keys" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RowLoadConfig.gpt_subset_native">
<span class="sig-name descname"><span class="pre">gpt_subset_native</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.graph_2.RowLoadConfig.gpt_subset_native" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RowLoadConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.graph_2.RowLoadConfig.max_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_2.RowLoadConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.graph_2.RowLoadConfig.min_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_2.aggregate_bins">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">aggregate_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_dom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_per_bar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#aggregate_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.aggregate_bins" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate accuracy into entropy bins for a single metric/domain.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_2.load_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.graph_2.RowLoadConfig" title="src.analysis.graph_2.RowLoadConfig"><span class="pre">RowLoadConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_success_fn</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#load_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load per-problem rows from JSONL result files into a DataFrame.</p>
<p>The function applies step filters, domain-specific success policies, and
derives think/answer/joint entropies plus Aha labels.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_2.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entrypoint for entropy-bucket accuracy histograms.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_2.make_bins">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">make_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#make_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.make_bins" title="Link to this definition">¶</a></dt>
<dd><p>Compute bin edges and centers for a 1D numeric series.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_2.plot_domain_panels">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_2.</span></span><span class="sig-name descname"><span class="pre">plot_domain_panels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_by_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_2.html#plot_domain_panels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_2.plot_domain_panels" title="Link to this definition">¶</a></dt>
<dd><p>Render a three-panel entropy/accuracy histogram for one domain.</p>
</dd></dl>

</section>
<section id="module-src.analysis.graph_3">
<span id="src-analysis-graph-3-module"></span><h2>src.analysis.graph_3 module<a class="headerlink" href="#module-src.analysis.graph_3" title="Link to this heading">¶</a></h2>
<p>Thin wrapper for the PASS-1 entropy bucket plots (graph_3).</p>
<p>Canonical usage remains:</p>
<blockquote>
<div><p>python -m src.analysis.graph_3 …</p>
</div></blockquote>
<p>The implementation lives in <code class="docutils literal notranslate"><span class="pre">graph_3_impl.py</span></code> to keep this entrypoint
small and to satisfy lint rules about module size.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3.graph_3">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3.</span></span><span class="sig-name descname"><span class="pre">graph_3</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#src.analysis.graph_3.graph_3" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point that delegates to the implementation module.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3.graph_3_impl">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3.</span></span><span class="sig-name descname"><span class="pre">graph_3_impl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#src.analysis.graph_3.graph_3_impl" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point that delegates to the implementation module.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point that delegates to the implementation module.</p>
</dd></dl>

</section>
<section id="module-src.analysis.graph_3_impl">
<span id="src-analysis-graph-3-impl-module"></span><h2>src.analysis.graph_3_impl module<a class="headerlink" href="#module-src.analysis.graph_3_impl" title="Link to this heading">¶</a></h2>
<section id="graph-3-py-pass1-only-per-metric-variants-accuracy-reasoning-shift-counts">
<h3>graph_3.py  (PASS1 ONLY, per-metric variants; accuracy + Reasoning Shift counts)<a class="headerlink" href="#graph-3-py-pass1-only-per-metric-variants-accuracy-reasoning-shift-counts" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Produces the same 3-panel plot (Carpark/Crossword/Math) for EACH of:</dt><dd><ul class="simple">
<li><p>Answer Entropy (pass1)</p></li>
<li><p>Think  Entropy (pass1)</p></li>
<li><p>Answer+Think   (pass1; sum or mean via –combined_mode)</p></li>
</ul>
</dd>
<dt>For each metric, writes TWO figures:</dt><dd><ol class="arabic simple">
<li><p>Accuracy (%) vs entropy bins (Aha vs No Aha, side-by-side bars)</p></li>
<li><p>Reasoning Shift COUNT vs entropy bins (Aha only)</p></li>
</ol>
</dd>
<dt>NEW: Also writes numeric tables (CSV):</dt><dd><ul class="simple">
<li><p>graphs/tables/graph_3_pass1_table_&lt;metric&gt;_&lt;tag&gt;__per_domain.csv</p></li>
<li><p>graphs/tables/graph_3_pass1_table_&lt;metric&gt;_&lt;tag&gt;__overall.csv</p></li>
</ul>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">AccuracyFigureConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_noaha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_aha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#AccuracyFigureConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for rendering the 3-panel accuracy figure.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.args" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.color_aha">
<span class="sig-name descname"><span class="pre">color_aha</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.color_aha" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.color_noaha">
<span class="sig-name descname"><span class="pre">color_noaha</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.color_noaha" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.domains">
<span class="sig-name descname"><span class="pre">domains</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.domains" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.edges_by_domain">
<span class="sig-name descname"><span class="pre">edges_by_domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.edges_by_domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.per_domain">
<span class="sig-name descname"><span class="pre">per_domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.per_domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyFigureConfig.x_label">
<span class="sig-name descname"><span class="pre">x_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.x_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">AccuracyTablesConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overall_edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#AccuracyTablesConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for writing accuracy tables for a metric.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.args" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.domains">
<span class="sig-name descname"><span class="pre">domains</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.domains" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.edges_by_domain">
<span class="sig-name descname"><span class="pre">edges_by_domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.edges_by_domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.file_tag">
<span class="sig-name descname"><span class="pre">file_tag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.file_tag" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.metric">
<span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.metric" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.overall_edges">
<span class="sig-name descname"><span class="pre">overall_edges</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.overall_edges" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.AccuracyTablesConfig.per_domain">
<span class="sig-name descname"><span class="pre">per_domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.per_domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.BinInputs">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">BinInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entropies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correctness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#BinInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.BinInputs" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Inputs required to compute per-bin accuracy and counts.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.BinInputs.aha_flags">
<span class="sig-name descname"><span class="pre">aha_flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.BinInputs.aha_flags" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.BinInputs.correctness">
<span class="sig-name descname"><span class="pre">correctness</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.BinInputs.correctness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.BinInputs.edges">
<span class="sig-name descname"><span class="pre">edges</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.BinInputs.edges" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.BinInputs.entropies">
<span class="sig-name descname"><span class="pre">entropies</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.BinInputs.entropies" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">CountsFigureConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_aha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#CountsFigureConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for rendering binned aha-count histograms.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig.args" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig.color_aha">
<span class="sig-name descname"><span class="pre">color_aha</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig.color_aha" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig.domains">
<span class="sig-name descname"><span class="pre">domains</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig.domains" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig.edges_by_domain">
<span class="sig-name descname"><span class="pre">edges_by_domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig.edges_by_domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig.per_domain">
<span class="sig-name descname"><span class="pre">per_domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig.per_domain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.CountsFigureConfig.x_label">
<span class="sig-name descname"><span class="pre">x_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_3_impl.CountsFigureConfig.x_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.binned_accuracy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">binned_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#binned_accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.binned_accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Compute per-bin accuracy for samples with <code class="docutils literal notranslate"><span class="pre">aha</span> <span class="pre">==</span> <span class="pre">aha_flag</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.binned_aha_counts">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">binned_aha_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#binned_aha_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.binned_aha_counts" title="Link to this definition">¶</a></dt>
<dd><p>Compute per-bin counts of samples with <code class="docutils literal notranslate"><span class="pre">aha</span> <span class="pre">==</span> <span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.carpark_correct_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">carpark_correct_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparison_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#carpark_correct_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.carpark_correct_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Determine pass-1 correctness for Carpark using a soft-reward threshold and fallbacks.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.compute_bin_table">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">compute_bin_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.graph_3_impl.BinInputs" title="src.analysis.graph_3_impl.BinInputs"><span class="pre">BinInputs</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#compute_bin_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.compute_bin_table" title="Link to this definition">¶</a></dt>
<dd><p>Build a per-bin accuracy/counts table plus a pooled TOTAL row.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.compute_edges">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">compute_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entropies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binning</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#compute_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.compute_edges" title="Link to this definition">¶</a></dt>
<dd><p>Compute bin edges for entropy values using either fixed or quantile binning.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.detect_aha_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">detect_aha_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#detect_aha_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.detect_aha_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Determine whether a PASS-1 record contains an Aha-style reasoning shift.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.expand_paths">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">expand_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#expand_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.expand_paths" title="Link to this definition">¶</a></dt>
<dd><p>Expand a list of directory paths or globs into concrete directories.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.extract_pass1_answer_entropy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">extract_pass1_answer_entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#extract_pass1_answer_entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.extract_pass1_answer_entropy" title="Link to this definition">¶</a></dt>
<dd><p>Extract a scalar answer entropy from PASS1 fields, falling back to token entropies.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.extract_pass1_answer_plus">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">extract_pass1_answer_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#extract_pass1_answer_plus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.extract_pass1_answer_plus" title="Link to this definition">¶</a></dt>
<dd><p>Combine answer and think entropies according to <code class="docutils literal notranslate"><span class="pre">mode</span></code> (“sum” or “mean”).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.extract_pass1_think_entropy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">extract_pass1_think_entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#extract_pass1_think_entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.extract_pass1_think_entropy" title="Link to this definition">¶</a></dt>
<dd><p>Extract a scalar think entropy from PASS1 fields, falling back to token entropies.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.extract_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">extract_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#extract_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.extract_step" title="Link to this definition">¶</a></dt>
<dd><p>Extract a numeric step from a record or its source path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.general_correct_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">general_correct_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#general_correct_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.general_correct_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Determine pass-1 correctness for non-Carpark domains using common boolean flags.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.graph_3_impl">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">graph_3_impl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.analysis.graph_3_impl.graph_3_impl" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for PASS1 entropy bucket plots (graph_3).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.ignored">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">ignored</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_globs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#ignored"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.ignored" title="Link to this definition">¶</a></dt>
<dd><p>Return True if <code class="docutils literal notranslate"><span class="pre">path</span></code> matches any of the provided ignore patterns.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.iter_jsonl_files_many">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">iter_jsonl_files_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_globs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_temps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#iter_jsonl_files_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.iter_jsonl_files_many" title="Link to this definition">¶</a></dt>
<dd><p>Yield JSONL file paths under the given roots, honoring ignore and temp filters.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.load_rows_from_roots_metric">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">load_rows_from_roots_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#load_rows_from_roots_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.load_rows_from_roots_metric" title="Link to this definition">¶</a></dt>
<dd><p>Load flat PASS1 rows for a given metric and domain using CLI-style arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for PASS1 entropy bucket plots (graph_3).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.minimal_axes">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">minimal_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes_obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#minimal_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.minimal_axes" title="Link to this definition">¶</a></dt>
<dd><p>Apply a minimal style: no top/right spines and a light grid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.parse_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Namespace</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.parse_args" title="Link to this definition">¶</a></dt>
<dd><p>Parse command-line arguments for PASS-1 entropy bucket plots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.render_metric_accuracy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">render_metric_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_noaha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_aha</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#render_metric_accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.render_metric_accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Render three-panel accuracy plots and write per-bin tables for a metric.</p>
<p>Returns True if any rows were rendered.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.render_metric_counts">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">render_metric_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_aha</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#render_metric_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.render_metric_counts" title="Link to this definition">¶</a></dt>
<dd><p>Render three-panel Aha count histograms for a metric.</p>
<p>Uses the same binning configuration as the accuracy plots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.save_all_formats">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">save_all_formats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#save_all_formats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.save_all_formats" title="Link to this definition">¶</a></dt>
<dd><p>Save a figure as both PNG and PDF with common settings.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_impl.temp_match">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_impl.</span></span><span class="sig-name descname"><span class="pre">temp_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_temps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_impl.html#temp_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_impl.temp_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">path</span></code> matches one of the requested temperature substrings.</p>
<p>We look for fragments like <code class="docutils literal notranslate"><span class="pre">temp-0.3</span></code> built from the provided values.</p>
</dd></dl>

</section>
<section id="module-src.analysis.graph_3_stacked">
<span id="src-analysis-graph-3-stacked-module"></span><h2>src.analysis.graph_3_stacked module<a class="headerlink" href="#module-src.analysis.graph_3_stacked" title="Link to this heading">¶</a></h2>
<section id="graph-3-stacked-py-pass1-only">
<h3>graph_3_stacked.py (PASS1 ONLY)<a class="headerlink" href="#graph-3-stacked-py-pass1-only" title="Link to this heading">¶</a></h3>
<p>Combine Carpark, Crossword, Math. Bin by PASS1 ANSWER ENTROPY only.
Plot a STACKED histogram per bin split into No Aha vs Aha.
Use –normalize to make each bin sum to 1.0 (proportions).</p>
</section>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h3>
<p>python graph_3_stacked.py   –root_crossword artifacts/results/GRPO-1.5B-xword-temp-0.7   –root_math      artifacts/results/GRPO-1.5B-math-temp-0.7   –root_carpark   artifacts/results/GRPO-1.5B-carpark-temp-0.7   –split test   –gpt_mode canonical   –bins 10   –binning quantile   –outdir graphs   –outfile_tag combined   –normalize</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.BinnedHistogram">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">BinnedHistogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counts_no_aha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counts_aha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#BinnedHistogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.BinnedHistogram" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container for binned entropy histogram data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.BinnedHistogram.bin_width">
<span class="sig-name descname"><span class="pre">bin_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_3_stacked.BinnedHistogram.bin_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.BinnedHistogram.centers">
<span class="sig-name descname"><span class="pre">centers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_stacked.BinnedHistogram.centers" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.BinnedHistogram.counts_aha">
<span class="sig-name descname"><span class="pre">counts_aha</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_stacked.BinnedHistogram.counts_aha" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.BinnedHistogram.counts_no_aha">
<span class="sig-name descname"><span class="pre">counts_no_aha</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#src.analysis.graph_3_stacked.BinnedHistogram.counts_no_aha" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.BinnedHistogram.ylabel">
<span class="sig-name descname"><span class="pre">ylabel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_3_stacked.BinnedHistogram.ylabel" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.detect_aha_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">detect_aha_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#detect_aha_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.detect_aha_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Detect a PASS1 Aha flag according to the configured mode.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.extract_entropy_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">extract_entropy_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#extract_entropy_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.extract_entropy_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Extract a scalar PASS1 answer entropy from a record, if present.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.extract_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">extract_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#extract_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.extract_step" title="Link to this definition">¶</a></dt>
<dd><p>Best-effort step extraction from record or filename.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.iter_jsonl_files">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">iter_jsonl_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#iter_jsonl_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.iter_jsonl_files" title="Link to this definition">¶</a></dt>
<dd><p>Yield JSONL file paths under <code class="docutils literal notranslate"><span class="pre">root</span></code> (recursing into subdirectories).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.load_pass1_entropy_and_aha">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">load_pass1_entropy_and_aha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#load_pass1_entropy_and_aha"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.load_pass1_entropy_and_aha" title="Link to this definition">¶</a></dt>
<dd><p>Load PASS1 answer entropy and Aha flags from JSONL logs under <code class="docutils literal notranslate"><span class="pre">root</span></code>.</p>
<p>Returns a list of <code class="docutils literal notranslate"><span class="pre">(entropy,</span> <span class="pre">aha_flag)</span></code> tuples.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point: build and save the stacked PASS1 entropy histogram.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_3_stacked.parse_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_3_stacked.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Namespace</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_3_stacked.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_3_stacked.parse_args" title="Link to this definition">¶</a></dt>
<dd><p>Parse command-line arguments for the stacked PASS1 entropy plot.</p>
</dd></dl>

</section>
<section id="module-src.analysis.graph_4">
<span id="src-analysis-graph-4-module"></span><h2>src.analysis.graph_4 module<a class="headerlink" href="#module-src.analysis.graph_4" title="Link to this heading">¶</a></h2>
<p>pass2_effects.py  —  Raw effect of Pass-2 by domain, split by Pass-1 solvability</p>
<section id="what-it-does">
<h3>What it does<a class="headerlink" href="#what-it-does" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Loads PASS1/PASS2 records from your JSONLs (same format as your other scripts).</p></li>
<li><dl class="simple">
<dt>Groups at the (domain, step, problem) level, averaging over the 8 samples:</dt><dd><p>p1_acc = mean(correct_pass1 over samples)
p2_acc = mean(correct_pass2 over samples)
raw_effect = p2_acc - p1_acc</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Splits problems into two buckets:</dt><dd><ul>
<li><p>P1_ANY  : p1_acc &gt; 0  (at least one of 8 correct in Pass-1)</p></li>
<li><p>P1_NONE : p1_acc = 0  (none correct in Pass-1)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Produces a 3-panel figure (Carpark / Crossword / Math):</dt><dd><p>bar = mean(raw_effect) per bucket, with 95% bootstrap CI; n annotated</p>
</dd>
</dl>
</li>
<li><p>Writes CSVs for per-problem rows and domain summaries.</p></li>
</ul>
</section>
<section id="id2">
<h3>Outputs<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>graphs/</dt><dd><p>pass2_raw_effects_{tag}.png, .pdf
tables/pass2_per_problem_{tag}.csv
tables/pass2_summary_{tag}.csv</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Carpark correctness uses soft reward thresholds (configurable).</p></li>
<li><p>You can pool across steps per problem via –pool_across_steps (optional).</p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_4.AggregationConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">AggregationConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparison_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#AggregationConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.AggregationConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for aggregating PASS-1/PASS-2 records by problem and step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_name</strong> – Domain label (for example, <code class="docutils literal notranslate"><span class="pre">&quot;Math&quot;</span></code>).</p></li>
<li><p><strong>comparison_op</strong> – Comparison operator for Carpark soft rewards.</p></li>
<li><p><strong>threshold</strong> – Threshold for Carpark correctness.</p></li>
<li><p><strong>min_step</strong> – Minimum step to include.</p></li>
<li><p><strong>max_step</strong> – Maximum step to include.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.AggregationConfig.comparison_op">
<span class="sig-name descname"><span class="pre">comparison_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_4.AggregationConfig.comparison_op" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.AggregationConfig.domain_name">
<span class="sig-name descname"><span class="pre">domain_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.graph_4.AggregationConfig.domain_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.AggregationConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.graph_4.AggregationConfig.max_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.AggregationConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.graph_4.AggregationConfig.min_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.AggregationConfig.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.graph_4.AggregationConfig.threshold" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.graph_4.DomainPlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">DomainPlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Generator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#DomainPlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.DomainPlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for plotting domain-level raw-effect panels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – Mapping from bucket index to legend label.</p></li>
<li><p><strong>colors</strong> – Mapping from bucket index to bar/point color.</p></li>
<li><p><strong>rng</strong> – Random generator used for jittered points.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.DomainPlotConfig.colors">
<span class="sig-name descname"><span class="pre">colors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_4.DomainPlotConfig.colors" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.DomainPlotConfig.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.graph_4.DomainPlotConfig.labels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.graph_4.DomainPlotConfig.rng">
<span class="sig-name descname"><span class="pre">rng</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Generator</span></em><a class="headerlink" href="#src.analysis.graph_4.DomainPlotConfig.rng" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.bootstrap_ci">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">bootstrap_ci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bootstrap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">123</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#bootstrap_ci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.bootstrap_ci" title="Link to this definition">¶</a></dt>
<dd><p>Return a bootstrap confidence interval for the mean of <cite>values</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.carpark_correct">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">carpark_correct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparison_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#carpark_correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.carpark_correct" title="Link to this definition">¶</a></dt>
<dd><p>Determine correctness for Carpark tasks using a soft reward threshold.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.expand_dirs">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">expand_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#expand_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.expand_dirs" title="Link to this definition">¶</a></dt>
<dd><p>Expand glob patterns and return existing directories as <cite>Path</cite> objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.extract_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">extract_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#extract_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.extract_step" title="Link to this definition">¶</a></dt>
<dd><p>Extract an integer step from a record or filename.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.general_correct">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">general_correct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#general_correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.general_correct" title="Link to this definition">¶</a></dt>
<dd><p>Determine correctness for non-Carpark tasks using boolean-like fields.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.group_key_for">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">group_key_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#group_key_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.group_key_for" title="Link to this definition">¶</a></dt>
<dd><p>Return a stable problem-like key for a JSONL record.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.iter_jsonl">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">iter_jsonl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#iter_jsonl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.iter_jsonl" title="Link to this definition">¶</a></dt>
<dd><p>Yield <cite>(root_dir_name, file_path)</cite> pairs for JSONL files under the roots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.load_per_problem">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">load_per_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#load_per_problem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.load_per_problem" title="Link to this definition">¶</a></dt>
<dd><p>Return per-(problem, step) rows with raw pass-2 effects.</p>
<dl class="simple">
<dt>Columns:</dt><dd><p>domain, step, problem_key, n_p1, n_p2, p1_acc, p2_acc, raw_effect,
p1_any_correct.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.main" title="Link to this definition">¶</a></dt>
<dd><p>Run the pass-2 raw-effect analysis from CLI arguments.</p>
<p>This loads per-problem PASS-1/PASS-2 rows for each domain, optionally
pools across steps, writes per-problem and summary CSVs, and saves a
three-panel figure of raw effects by bucket.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.minimal_axes">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">minimal_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#minimal_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.minimal_axes" title="Link to this definition">¶</a></dt>
<dd><p>Hide top/right spines and add a light grid to an axis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.parse_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Namespace</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.parse_args" title="Link to this definition">¶</a></dt>
<dd><p>Parse command-line arguments for the pass-2 raw-effect analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.pass_correct_for_domain">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">pass_correct_for_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparison_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#pass_correct_for_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.pass_correct_for_domain" title="Link to this definition">¶</a></dt>
<dd><p>Dispatch to the appropriate correctness function given a domain name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.graph_4.plot_pass2_effects">
<span class="sig-prename descclassname"><span class="pre">src.analysis.graph_4.</span></span><span class="sig-name descname"><span class="pre">plot_pass2_effects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/graph_4.html#plot_pass2_effects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.graph_4.plot_pass2_effects" title="Link to this definition">¶</a></dt>
<dd><p>Plot raw pass-2 effect by pass-1 solvability bucket for each domain.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h1_analysis">
<span id="src-analysis-h1-analysis-module"></span><h2>src.analysis.h1_analysis module<a class="headerlink" href="#module-src.analysis.h1_analysis" title="Link to this heading">¶</a></h2>
<p>H1 GLM test (compact): Do Aha! moments help unconditionally?</p>
<p>We fit:     correct ~ C(problem) + step_std + aha
with Binomial GLM, cluster-robust SEs by problem, and report AME.</p>
<dl class="simple">
<dt>Aha variants (sample-level unless noted):</dt><dd><ul class="simple">
<li><p>Words: pass1.has_reconsider_cue==1 (excludes injected cues)</p></li>
<li><p>GPT  : canonical shift labels (default) and, by default, GATED by Words (aha_gpt &lt;= aha_words)</p></li>
<li><p>Formal (problem-step level): prior failure + prior shift-stability + shift now;
merged back to samples and then AND-ed with sample’s aha_gpt to enforce aha_formal &lt;= aha_gpt.</p></li>
</ul>
</dd>
</dl>
<section id="id3">
<h3>Outputs<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<dl>
<dt>CSV:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>h1_glm_ame_summary.csv          # per-variant N, share_aha, Acc(aha=1),</dt><dd><p># Acc(aha=0), Δ, AME, coef, p</p>
</dd>
</dl>
</li>
<li><p>h1_group_accuracy.csv           # overall acc for aha=0/1 by variant</p></li>
<li><p>h1_group_accuracy_delta.csv     # acc_aha1, acc_aha0, delta by variant</p></li>
<li><p>h1_group_accuracy_by_step.csv   # per-step acc for aha=0/1 by variant</p></li>
</ul>
</dd>
<dt>Optional:</dt><dd><ul>
<li><dl class="simple">
<dt>–tex_path h1_glm_ame_summary.tex   # compact LaTeX table with per-variant</dt><dd><p># accuracies</p>
</dd>
</dl>
</li>
<li><dl class="option-list">
<dt><kbd><span class="option">--make_pdf</span></kbd></dt>
<dd><p># A4, 12pt summary PDF
# (h1_glm_summary.pdf)</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the command-line argument parser for the H1 analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.build_problem_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">build_problem_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#build_problem_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.build_problem_step" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate sample-level rows to per-(step, problem) summaries.</p>
<p>The result includes counts, accuracy, and GPT Aha rate per (step, problem).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.compute_group_accuracy_tables">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">compute_group_accuracy_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#compute_group_accuracy_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.compute_group_accuracy_tables" title="Link to this definition">¶</a></dt>
<dd><p>Compute grouped accuracy tables for the Words, GPT, and Formal variants.</p>
<dl class="simple">
<dt>Returns three CSV paths:</dt><dd><ul class="simple">
<li><p>overall accuracy by variant and Aha value,</p></li>
<li><p>delta table (acc_aha1 - acc_aha0) by variant,</p></li>
<li><p>per-step accuracy for aha=0/1 by variant.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.fit_glm">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">fit_glm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'problem'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#fit_glm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.fit_glm" title="Link to this definition">¶</a></dt>
<dd><p>Fit a Binomial GLM for correctness with an Aha term and report summary stats.</p>
<p>The model is <code class="docutils literal notranslate"><span class="pre">correct</span> <span class="pre">~</span> <span class="pre">C(problem)</span> <span class="pre">+</span> <span class="pre">step_std</span> <span class="pre">+</span> <span class="pre">aha_col</span></code> with cluster-robust
covariance by problem (or as specified by <code class="docutils literal notranslate"><span class="pre">cluster_by</span></code>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.load_samples">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">load_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'canonical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gate_gpt_by_words</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#load_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.load_samples" title="Link to this definition">¶</a></dt>
<dd><p>Return per-sample rows with correctness and Words/GPT Aha labels.</p>
<p>The output has columns: <code class="docutils literal notranslate"><span class="pre">problem</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code>, <code class="docutils literal notranslate"><span class="pre">correct</span></code>, <code class="docutils literal notranslate"><span class="pre">aha_words</span></code>,
and <code class="docutils literal notranslate"><span class="pre">aha_gpt</span></code>. By default, <code class="docutils literal notranslate"><span class="pre">aha_gpt</span></code> is gated so that
<code class="docutils literal notranslate"><span class="pre">aha_gpt</span> <span class="pre">&lt;=</span> <span class="pre">aha_words</span></code> at the sample level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for the H1 formal/GPT/Words GLM analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.mark_formal">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">mark_formal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">problem_step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prior_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#mark_formal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.mark_formal" title="Link to this definition">¶</a></dt>
<dd><p>Mark formal Aha at the (problem, step) level.</p>
<dl class="simple">
<dt>A formal Aha requires:</dt><dd><ul class="simple">
<li><p>Prior failure: max past <code class="docutils literal notranslate"><span class="pre">freq_correct</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">delta1</span></code>.</p></li>
<li><p>Prior shift-stability: max past <code class="docutils literal notranslate"><span class="pre">aha_rate_gpt</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">delta2</span></code>.</p></li>
<li><p>Shift now: <code class="docutils literal notranslate"><span class="pre">aha_any_gpt</span> <span class="pre">==</span> <span class="pre">1</span></code> at the current step.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.scan_files">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">scan_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#scan_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.scan_files" title="Link to this definition">¶</a></dt>
<dd><p>Recursively collect <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code> files under a root directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> – Root directory under which to search.</p></li>
<li><p><strong>split_substr</strong> – Optional substring that must appear in the filename.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted list of matching file paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h1_analysis.write_a4_summary_pdf">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h1_analysis.</span></span><span class="sig-name descname"><span class="pre">write_a4_summary_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summary_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acc_delta_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h1_analysis.html#write_a4_summary_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h1_analysis.write_a4_summary_pdf" title="Link to this definition">¶</a></dt>
<dd><p>Create a one-page A4 PDF with 12pt text summarizing GLM and accuracy deltas.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h2_analysis">
<span id="src-analysis-h2-analysis-module"></span><h2>src.analysis.h2_analysis module<a class="headerlink" href="#module-src.analysis.h2_analysis" title="Link to this heading">¶</a></h2>
<section id="h2-are-aha-moments-important-during-different-stages-of-training">
<h3>H2: Are Aha! Moments Important During Different Stages of Training?<a class="headerlink" href="#h2-are-aha-moments-important-during-different-stages-of-training" title="Link to this heading">¶</a></h3>
<p>This module now focuses on wiring the CLI, plotting, and reporting layers.
Data loading and GLM helpers live in <code class="docutils literal notranslate"><span class="pre">h2_analysis_loader.py</span></code> and
<code class="docutils literal notranslate"><span class="pre">h2_analysis_glm.py</span></code> so each piece can evolve independently.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Construct the CLI argument parser.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entrypoint.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis.run_pipeline">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis.</span></span><span class="sig-name descname"><span class="pre">run_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis.html#run_pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis.run_pipeline" title="Link to this definition">¶</a></dt>
<dd><p>Execute the H2 training-stage analysis.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h2_analysis_glm">
<span id="src-analysis-h2-analysis-glm-module"></span><h2>src.analysis.h2_analysis_glm module<a class="headerlink" href="#module-src.analysis.h2_analysis_glm" title="Link to this heading">¶</a></h2>
<p>Step-wise GLM helpers for the H2 analysis.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_glm.</span></span><span class="sig-name descname"><span class="pre">StepwiseGlmConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interaction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ridge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ridge_l2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bootstrap_ame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ame_grid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fdr_alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/h2_analysis_glm.html#StepwiseGlmConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for per-step GLM fitting.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.ame_grid">
<span class="sig-name descname"><span class="pre">ame_grid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.ame_grid" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.bootstrap_ame">
<span class="sig-name descname"><span class="pre">bootstrap_ame</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">200</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.bootstrap_ame" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.fdr_alpha">
<span class="sig-name descname"><span class="pre">fdr_alpha</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.05</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.fdr_alpha" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.interaction">
<span class="sig-name descname"><span class="pre">interaction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.interaction" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.out_dir" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.penalty">
<span class="sig-name descname"><span class="pre">penalty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ridge'</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.penalty" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.StepwiseGlmConfig.ridge_l2">
<span class="sig-name descname"><span class="pre">ridge_l2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.ridge_l2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.compute_pooled_step_effects">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_glm.</span></span><span class="sig-name descname"><span class="pre">compute_pooled_step_effects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ridge_l2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis_glm.html#compute_pooled_step_effects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_glm.compute_pooled_step_effects" title="Link to this definition">¶</a></dt>
<dd><p>Return per-step pooled aha effects (log-odds) from a ridge GLM.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_glm.fit_stepwise_glms">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_glm.</span></span><span class="sig-name descname"><span class="pre">fit_stepwise_glms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig" title="src.analysis.h2_analysis_glm.StepwiseGlmConfig"><span class="pre">StepwiseGlmConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis_glm.html#fit_stepwise_glms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_glm.fit_stepwise_glms" title="Link to this definition">¶</a></dt>
<dd><p>Fit per-step GLMs and export regression tables/diagnostics.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h2_analysis_loader">
<span id="src-analysis-h2-analysis-loader-module"></span><h2>src.analysis.h2_analysis_loader module<a class="headerlink" href="#module-src.analysis.h2_analysis_loader" title="Link to this heading">¶</a></h2>
<p>Utilities for loading PASS-1 rows and extracting uncertainty/Aha labels.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_loader.coerce_bool">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_loader.</span></span><span class="sig-name descname"><span class="pre">coerce_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#coerce_bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_loader.coerce_bool" title="Link to this definition">¶</a></dt>
<dd><p>Best-effort conversion to {0,1}.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1/0 for recognized truthy/falsey values, or None if there is no
reasonable interpretation (e.g., complex structures).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_loader.load_pass1_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_loader.</span></span><span class="sig-name descname"><span class="pre">load_pass1_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unc_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis_loader.html#load_pass1_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_loader.load_pass1_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load pass-1 rows across all files while capturing metadata and uncertainty.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_loader.maybe_temp_from_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_loader.</span></span><span class="sig-name descname"><span class="pre">maybe_temp_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_analysis_loader.html#maybe_temp_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_loader.maybe_temp_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Extract a temperature token from the path (e.g., <code class="docutils literal notranslate"><span class="pre">temp-0.3</span></code>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_analysis_loader.nat_step_from_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_analysis_loader.</span></span><span class="sig-name descname"><span class="pre">nat_step_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#nat_step_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_analysis_loader.nat_step_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Try to infer an integer training step from a path or filename.</p>
<p>Uses a collection of regexes that cover the various conventions used in
analysis scripts (step123, global_step-123, checkpoint_123, …).</p>
</dd></dl>

</section>
<section id="module-src.analysis.h2_plotting">
<span id="src-analysis-h2-plotting-module"></span><h2>src.analysis.h2_plotting module<a class="headerlink" href="#module-src.analysis.h2_plotting" title="Link to this heading">¶</a></h2>
<p>Plotting helpers for the H2 analysis.</p>
<p>This module focuses on lightweight figures that live next to the GLMs.
More expensive bucket + histogram helpers now live in
<code class="docutils literal notranslate"><span class="pre">src.analysis.core.h2_uncertainty_helpers</span></code> so the definitions can be
shared with <code class="docutils literal notranslate"><span class="pre">h2_analysis.py</span></code> with little duplication.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_plotting.lineplot">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_plotting.</span></span><span class="sig-name descname"><span class="pre">lineplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_plotting.html#lineplot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_plotting.lineplot" title="Link to this definition">¶</a></dt>
<dd><p>Small helper to draw a single line plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_values</strong> – Values for the x-axis.</p></li>
<li><p><strong>y_values</strong> – Values for the y-axis.</p></li>
<li><p><strong>labels</strong> – Tuple <code class="docutils literal notranslate"><span class="pre">(xlabel,</span> <span class="pre">ylabel,</span> <span class="pre">title,</span> <span class="pre">path)</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_plotting.make_all3_uncertainty_buckets_figure">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_plotting.</span></span><span class="sig-name descname"><span class="pre">make_all3_uncertainty_buckets_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/core/h2_uncertainty_helpers.html#make_all3_uncertainty_buckets_figure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_plotting.make_all3_uncertainty_buckets_figure" title="Link to this definition">¶</a></dt>
<dd><p>Build the three-way uncertainty buckets figure and associated CSV tables.</p>
<p>Returns the figure path, CSV path, the annotated sample DataFrame, and the
problem-step table used for Formal Aha definitions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_plotting.plot_ame_with_ci">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_ame_with_ci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regression_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_plotting.html#plot_ame_with_ci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_plotting.plot_ame_with_ci" title="Link to this definition">¶</a></dt>
<dd><p>Plot AME(aha) with optional bootstrap confidence intervals.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_plotting.plot_diag_panel">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_diag_panel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_plotting.html#plot_diag_panel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_plotting.plot_diag_panel" title="Link to this definition">¶</a></dt>
<dd><p>Plot (1) Uncertainty vs Aha, (2) Uncertainty vs step, (3) Aha vs step.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_plotting.plot_uncertainty_hist_100bins">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_plotting.</span></span><span class="sig-name descname"><span class="pre">plot_uncertainty_hist_100bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">problem_step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/core/h2_uncertainty_helpers.html#plot_uncertainty_hist_100bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_plotting.plot_uncertainty_hist_100bins" title="Link to this definition">¶</a></dt>
<dd><p>Histogram of uncertainty_std with total counts and Aha COUNTS per bin
(Words, GPT, Formal). Writes a PNG/PDF and a CSV with bin stats.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h2_temp_aha_eval">
<span id="src-analysis-h2-temp-aha-eval-module"></span><h2>src.analysis.h2_temp_aha_eval module<a class="headerlink" href="#module-src.analysis.h2_temp_aha_eval" title="Link to this heading">¶</a></h2>
<section id="h2-temperature-x-aha-analysis-stages-of-training-three-aha-definitions">
<h3>H2: Temperature x Aha! analysis (+ stages of training, + three Aha definitions)<a class="headerlink" href="#h2-temperature-x-aha-analysis-stages-of-training-three-aha-definitions" title="Link to this heading">¶</a></h3>
<p>Evaluate whether temperature (default vs low-temp=0.3) and Aha markers affect accuracy
across training stages, using only overlapping (problem, step[, sample_idx]) between runs.</p>
<dl class="simple">
<dt>Aha definitions:</dt><dd><ul class="simple">
<li><p>words  : pass1.has_reconsider_cue (excl. injected)</p></li>
<li><p>gpt    : canonical LLM shift (optionally gated by words)</p></li>
<li><dl class="simple">
<dt>formal<span class="classifier">problem–step level: prior failure &amp; prior shift-stability &amp; shift now,</span></dt><dd><p>computed within each temperature run, then AND-gated with sample-level GPT Aha</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>CLI:</dt><dd><p>–aha {words|gpt|gpt_broad|formal|none|all}
–gate_gpt_by_words (for gpt/gpt_broad)
–formal_delta1 0.13  –formal_delta2 0.13  –formal_min_prior_steps 2</p>
</dd>
<dt>Stage bucketing:</dt><dd><p>–stage_mode {quantile|fixed}
–stage_quantiles 0.33 0.66
–stage_bounds lo hi</p>
</dd>
<dt>Outputs (per Aha mode; under &lt;out_dir&gt;/&lt;aha_mode&gt;/ when –aha all):</dt><dd><ul class="simple">
<li><p>h2_glm_summary.txt</p></li>
<li><p>h2_glm_coefficients.csv</p></li>
<li><p>h2_group_accuracy.csv</p></li>
<li><p>h2_group_accuracy_by_step.csv</p></li>
<li><p>h2_stage_group_accuracy.csv</p></li>
<li><p>h2_stage_aha_counts.csv</p></li>
<li><p>h2_stage_glm_summary.txt</p></li>
<li><p>h2_stage_glm_coefficients.csv</p></li>
<li><p>h2_stage_info.json</p></li>
<li><p>h2_overlap_summary.json (kept once at top-level when single mode; per-mode when –aha all)</p></li>
</ul>
</dd>
</dl>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.assign_stage">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">assign_stage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'quantile'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantiles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(0.33,</span> <span class="pre">0.66)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#assign_stage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.assign_stage" title="Link to this definition">¶</a></dt>
<dd><p>Assign training-stage labels (early/mid/late) based on step values.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">mode</span> <span class="pre">==</span> <span class="pre">&quot;fixed&quot;</span></code>, uses explicit integer <code class="docutils literal notranslate"><span class="pre">bounds</span></code>; otherwise uses
quantiles of the observed steps.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.attach_formal_sample_level">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">attach_formal_sample_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prior_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#attach_formal_sample_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.attach_formal_sample_level" title="Link to this definition">¶</a></dt>
<dd><p>Compute formal at (run_label, problem, step) level; merge to samples and
AND-gate with sample-level GPT Aha.</p>
<p>Returns df with new columns: <code class="docutils literal notranslate"><span class="pre">aha_formal_ps</span></code> and <code class="docutils literal notranslate"><span class="pre">aha_formal</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Construct and return the CLI argument parser for H2 temp×Aha analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.compute_group_acc">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">compute_group_acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#compute_group_acc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.compute_group_acc" title="Link to this definition">¶</a></dt>
<dd><p>Compute overall and per-step accuracy tables, optionally split by Aha flag.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.compute_stage_aha_counts">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">compute_stage_aha_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#compute_stage_aha_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.compute_stage_aha_counts" title="Link to this definition">¶</a></dt>
<dd><p>Compute counts of Aha-labeled samples per (stage, temp_low) combination.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.compute_stage_group_acc">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">compute_stage_group_acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#compute_stage_group_acc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.compute_stage_group_acc" title="Link to this definition">¶</a></dt>
<dd><p>Compute per-stage, per-temp accuracy tables, optionally split by Aha flag.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.evaluate_for_aha_mode">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">evaluate_for_aha_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">combined_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_mode_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formal_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#evaluate_for_aha_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.evaluate_for_aha_mode" title="Link to this definition">¶</a></dt>
<dd><p>Run baseline + stage-interaction + stage-specific GLMs and write group accuracies
for a given Aha mode: ‘words’ | ‘gpt’ | ‘gpt_broad’ | ‘formal’ | ‘none’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.fit_glm_binomial">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">fit_glm_binomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'problem'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#fit_glm_binomial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.fit_glm_binomial" title="Link to this definition">¶</a></dt>
<dd><p>Fit a baseline GLM <code class="docutils literal notranslate"><span class="pre">correct</span> <span class="pre">~</span> <span class="pre">temp_low</span> <span class="pre">(+</span> <span class="pre">aha</span> <span class="pre">+</span> <span class="pre">interaction)</span></code> with robust SEs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.fit_glm_stage_interaction">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">fit_glm_stage_interaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#fit_glm_stage_interaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.fit_glm_stage_interaction" title="Link to this definition">¶</a></dt>
<dd><p>Fit a GLM with stage×temp_low (and optional stage×Aha) interactions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.load_samples">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">load_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aha_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'gpt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gate_gpt_by_words</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#load_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.load_samples" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns per-sample rows with columns:</dt><dd><p>dataset, model, split, problem, step, sample_idx, correct, aha_words, aha_gpt, aha</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for H2 temperature×Aha (+ stages, overlap-only) analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h2_temp_aha_eval.restrict_to_overlap">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h2_temp_aha_eval.</span></span><span class="sig-name descname"><span class="pre">restrict_to_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_high</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_low</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h2_temp_aha_eval.html#restrict_to_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h2_temp_aha_eval.restrict_to_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Intersect on keys. Always require (problem, step); include sample_idx if present on both.
Returns filtered (dfA, dfB, keys_used).</p>
</dd></dl>

</section>
<section id="module-src.analysis.h3_analysis">
<span id="src-analysis-h3-analysis-module"></span><h2>src.analysis.h3_analysis module<a class="headerlink" href="#module-src.analysis.h3_analysis" title="Link to this heading">¶</a></h2>
<p>H3: Can Aha!/Second-Pass Help When the Model is Uncertain?</p>
<p>We test whether the <em>second pass</em> (phase=1) improves accuracy more when the
model is uncertain, using PASS-1 uncertainty as the moderator.</p>
<section id="id4">
<h3>Inputs<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Root directory containing step*/…/<a href="#id5"><span class="problematic" id="id6">*</span></a>.jsonl produced by your two-pass runners.
Each JSON line has keys:</p>
<blockquote>
<div><p>problem/clue/row_key, step, sample_idx,
pass1{…}, pass2{…} with fields:</p>
<blockquote>
<div><p>is_correct_pred (bool), entropy / entropy_answer / entropy_think (floats)</p>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</section>
<section id="what-this-script-builds">
<h3>What this script builds<a class="headerlink" href="#what-this-script-builds" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p>Pair-level (wide) table: one row per (problem, step, sample_idx)
with PASS-1/2 correctness and PASS-1 uncertainty.</p></li>
<li><dl class="simple">
<dt>Long table: duplicates each pair into two rows:</dt><dd><p>phase=0 → PASS-1, phase=1 → PASS-2</p>
</dd>
</dl>
<p>Includes: correct (0/1), uncertainty (from PASS-1), bucket (by quantiles)</p>
</li>
<li><dl class="simple">
<dt>Pooled GLM (Binomial, robust HC1 SE):</dt><dd><p>correct ~ C(problem) + C(step) + phase + uncertainty_std + phase:uncertainty_std</p>
</dd>
</dl>
<p>Effect of “phase” tells us if second-pass helps on average; the interaction
tells us if that help grows with uncertainty.</p>
</li>
<li><dl class="simple">
<dt>Bucket GLM (heterogeneous effect across uncertainty buckets):</dt><dd><p>correct ~ C(problem) + C(step) + phase + C(bucket) + phase:C(bucket)</p>
</dd>
</dl>
<p>Also computes per-bucket AME of toggling phase 0→1.</p>
</li>
<li><p>Plots:
- Accuracy by uncertainty bucket for phase 0 vs 1
- Per-bucket AME (phase toggle)</p></li>
</ol>
</section>
<section id="cli">
<h3>CLI<a class="headerlink" href="#cli" title="Link to this heading">¶</a></h3>
<p>python h3-analysis.py /path/to/results   –split test   –uncertainty_field entropy_answer   –num_buckets 4</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Uses PASS-1 uncertainty for both phases (keeps moderator fixed within pair).</p></li>
<li><p>Robust to missing fields; pairs without both passes are dropped from modeling.</p></li>
</ul>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.fit_bucket_glm">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">fit_bucket_glm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_num_buckets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#fit_bucket_glm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.fit_bucket_glm" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Heterogeneous effect by uncertainty bucket:</dt><dd><p>correct ~ C(problem) + C(step) + phase + C(bucket) + phase:C(bucket)</p>
</dd>
</dl>
<p>Returns a DataFrame with per-bucket log-odds effect and AME estimates.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.fit_pooled_glm">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">fit_pooled_glm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#fit_pooled_glm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.fit_pooled_glm" title="Link to this definition">¶</a></dt>
<dd><p>Fit a pooled GLM with phase and uncertainty, returning key coefficients.</p>
<p>Model: correct ~ C(problem) + C(step) + phase + uncertainty_std + phase:uncertainty_std</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.load_pairs">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">load_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncertainty_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'entropy'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#load_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.load_pairs" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Build a PAIRS (wide) DataFrame with columns:</dt><dd><p>problem, step, sample_idx,
correct_p1, correct_p2,
unc1, unc2 (unc2 kept for reference, not used in models),
source_file</p>
</dd>
</dl>
<p>Only keep pairs that have both pass1 and pass2 correctness.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entrypoint for H3 pass-1 uncertainty vs. second-pass effect analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.pairs_to_long">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">pairs_to_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_buckets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#pairs_to_long"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.pairs_to_long" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Convert pairs→long:</dt><dd><p>phase=0 (pass1), phase=1 (pass2)</p>
</dd>
</dl>
<p>Uncertainty is taken from PASS-1 (unc1) for both rows.</p>
<dl class="simple">
<dt>Adds:</dt><dd><ul class="simple">
<li><p>uncertainty_std (z-score)</p></li>
<li><p>bucket (0..num_buckets-1) by quantiles on unc1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.plot_acc_by_bucket">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">plot_acc_by_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">long_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#plot_acc_by_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.plot_acc_by_bucket" title="Link to this definition">¶</a></dt>
<dd><p>Accuracy by bucket for phase 0 vs 1.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_analysis.plot_ame_by_bucket">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_analysis.</span></span><span class="sig-name descname"><span class="pre">plot_ame_by_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/h3_analysis.html#plot_ame_by_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_analysis.plot_ame_by_bucket" title="Link to this definition">¶</a></dt>
<dd><p>Per-bucket AME of phase toggle (probability units).</p>
</dd></dl>

</section>
<section id="module-src.analysis.h3_uncertainty_buckets">
<span id="src-analysis-h3-uncertainty-buckets-module"></span><h2>src.analysis.h3_uncertainty_buckets module<a class="headerlink" href="#module-src.analysis.h3_uncertainty_buckets" title="Link to this heading">¶</a></h2>
<p>H3: Can Aha! Moments Help When the Model is Uncertain?
+ Re-asking (pass2) at QUESTION &amp; PROMPT levels, with Aha variants
+ Wilson CIs, step-wise &amp; bucket-wise plots/tables
—————————————————————</p>
<section id="uncertainty-measure">
<h3>Uncertainty measure<a class="headerlink" href="#uncertainty-measure" title="Link to this heading">¶</a></h3>
<p>Default is –measure entropy (nats). Buckets are built from entropy values.
(If you set –measure perplexity, the loader converts entropy-&gt;perplexity via exp(entropy).)
We keep the column name “perplexity_bucket” for backward compatibility with your H2/H3 formula.</p>
</section>
<section id="what-this-script-does">
<h3>What this script does<a class="headerlink" href="#what-this-script-does" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Robustly loads your JSONL (pass1 &amp; pass2), extracts entropy/ppx, Aha labels:
- Words (excludes injected/forced cues)
- GPT-4o canonical (optionally gated by Words)
- Formal (problem-step, gated by GPT)</p></li>
<li><p>H3 GLMs per Aha variant:
correct ~ C(problem) + step_std + aha * C(perplexity_bucket)</p></li>
<li><p>Re-asking analysis (pass2 vs pass1), with <strong>Wilson 95% CIs</strong>:
• QUESTION level (per problem): fraction solved ≥1 time (overall, by step, by bucket)
• PROMPT level (per pair): accuracy (overall, by step, by bucket)
• PROMPT-level Δ histogram (with/without forced-insight split)</p></li>
<li><p>Answers written to <strong>h3_answers.txt</strong>:
(A) Given ≥1 correct in pass1, does pass2 increase overall accuracy?
(B) Given 0 correct in pass1, does pass2 achieve ≥1 correct?
Each answered overall, step-wise, and bucket-wise.</p></li>
</ol>
</section>
<section id="id7">
<h3>Outputs<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>CSV:</dt><dd><ul class="simple">
<li><p>h3_glm_bucket_margins.csv</p></li>
<li><p>h3_bucket_group_accuracy.csv</p></li>
<li><p>h3_pass2_prompt_level.csv                 # per-pair aligned rows</p></li>
<li><p>h3_pass2_question_level.csv               # per-problem aligned rows</p></li>
<li><p>h3_pass2_conditioned_summary.csv          # overall A &amp; B answers (macro &amp; micro)</p></li>
<li><p>h3_pass2_conditioned_by_forcing.csv       # (optional) split by forced insight</p></li>
<li><p>h3_prompt_level_overall.csv               # k/n with Wilson CIs</p></li>
<li><p>h3_prompt_level_by_step.csv               # step-wise k/n with CIs</p></li>
<li><p>h3_prompt_level_by_bucket.csv             # bucket-wise k/n with CIs</p></li>
<li><p>h3_question_level_overall.csv             # k/n (any-correct) with Wilson CIs</p></li>
<li><p>h3_question_level_by_step.csv             # step-wise any-correct with CIs</p></li>
<li><p>h3_question_level_by_bucket.csv           # bucket-wise any-correct with CIs</p></li>
<li><p>(optional) h3_pass2_prompt_level_by_aha.csv</p></li>
<li><p>(optional) h3_pass2_question_level_by_aha.csv</p></li>
</ul>
</dd>
<dt>Plots (if –make_plots):</dt><dd><ul class="simple">
<li><p>h3_plot_question_overall.png              # bars + Wilson CIs</p></li>
<li><p>h3_plot_question_by_step.png              # lines + CIs by step</p></li>
<li><p>h3_plot_question_by_bucket.png            # points/bars + CIs by bucket</p></li>
<li><p>h3_plot_prompt_overall.png                # bars + CIs</p></li>
<li><p>h3_plot_prompt_by_step.png                # lines + CIs</p></li>
<li><p>h3_plot_prompt_by_bucket.png              # points/bars + CIs</p></li>
<li><p>h3_plot_prompt_level_delta.png            # Δ histogram (± forced)</p></li>
</ul>
</dd>
<dt>PDF (if –make_pdf):</dt><dd><ul class="simple">
<li><p>h3_summary.pdf                            # GLM bucket margins summary page</p></li>
</ul>
</dd>
<dt>Text:</dt><dd><ul class="simple">
<li><p>h3_answers.txt                            # answers to (A) and (B), overall/step/bucket</p></li>
</ul>
</dd>
</dl>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.build_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">build_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#build_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.build_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Construct the CLI argument parser.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.maybe_plot_results">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">maybe_plot_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#maybe_plot_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.maybe_plot_results" title="Link to this definition">¶</a></dt>
<dd><p>Generate plots when requested.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.parse_bucket_edges">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">parse_bucket_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#parse_bucket_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.parse_bucket_edges" title="Link to this definition">¶</a></dt>
<dd><p>Parse comma-separated bucket edges.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.prepare_pass1_dataframe">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">prepare_pass1_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#prepare_pass1_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.prepare_pass1_dataframe" title="Link to this definition">¶</a></dt>
<dd><p>Add formal labels and entropy buckets to the pass-1 subset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.run_glm_variants">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">run_glm_variants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#run_glm_variants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.run_glm_variants" title="Link to this definition">¶</a></dt>
<dd><p>Fit GLMs per variant and write associated CSVs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.run_pipeline">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">run_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#run_pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.run_pipeline" title="Link to this definition">¶</a></dt>
<dd><p>Execute the H3 uncertainty buckets analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.run_reasking_analysis">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">run_reasking_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass1_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#run_reasking_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.run_reasking_analysis" title="Link to this definition">¶</a></dt>
<dd><p>Produce re-asking tables, aggregates, and optional split-by-aha files.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h3_uncertainty_buckets.summarize_outputs">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h3_uncertainty_buckets.</span></span><span class="sig-name descname"><span class="pre">summarize_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h3_uncertainty_buckets.html#summarize_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h3_uncertainty_buckets.summarize_outputs" title="Link to this definition">¶</a></dt>
<dd><p>Print pointers to the key outputs.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h4_analysis">
<span id="src-analysis-h4-analysis-module"></span><h2>src.analysis.h4_analysis module<a class="headerlink" href="#module-src.analysis.h4_analysis" title="Link to this heading">¶</a></h2>
<p>Wrapper module for the H4 artificial recheck figures.</p>
<p>Canonical usage is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">src</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">h4_analysis</span> <span class="o">...</span>
</pre></div>
</div>
<p>The implementation lives in <code class="docutils literal notranslate"><span class="pre">h4_analysis_impl.py</span></code> to keep the public entry
point stable while allowing the underlying script to evolve.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point that delegates to the implementation module.</p>
</dd></dl>

</section>
<section id="module-src.analysis.h4_analysis_impl">
<span id="src-analysis-h4-analysis-impl-module"></span><h2>src.analysis.h4_analysis_impl module<a class="headerlink" href="#module-src.analysis.h4_analysis_impl" title="Link to this heading">¶</a></h2>
<p>Extra figures for artificial recheck analysis.</p>
<dl class="simple">
<dt>Reads raw logs (same format as compare_artificial_recheck.py expects) and emits:</dt><dd><ul class="simple">
<li><p>accuracy_by_step_pass1_pass2.png</p></li>
<li><p>entropy_before_after_by_step.png</p></li>
<li><p>heatmap_step_entropy_improvement.png  (P(correct after recheck | p1 wrong, artificial))</p></li>
<li><p>p1_entropy_hist.png, p2_entropy_hist.png</p></li>
<li><p>delta_correct_scatter.png  (p1_entropy vs (p2_correct - p1_correct))</p></li>
</ul>
</dd>
<dt>Usage:</dt><dd><p>python -m src.analysis.h4_analysis /path/to/results_root –split test –out_dir /tmp/recheck_extra</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.get_correct">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">get_correct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#get_correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.get_correct" title="Link to this definition">¶</a></dt>
<dd><p>Extract a 0/1 correctness flag from a prediction dictionary.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.get_entropy">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">get_entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#get_entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.get_entropy" title="Link to this definition">¶</a></dt>
<dd><p>Convert an entropy value to <code class="docutils literal notranslate"><span class="pre">float</span></code> if present and valid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.is_artificial_recheck">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">is_artificial_recheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass2_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#is_artificial_recheck"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.is_artificial_recheck" title="Link to this definition">¶</a></dt>
<dd><p>Return 1 if the second pass used an artificial reconsideration cue.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.load_pairs">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">load_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#load_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.load_pairs" title="Link to this definition">¶</a></dt>
<dd><p>Load paired PASS-1 / PASS-2 records from a collection of JSONL files.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point for generating artificial recheck analysis figures.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.plot_accuracy_by_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">plot_accuracy_by_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#plot_accuracy_by_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.plot_accuracy_by_step" title="Link to this definition">¶</a></dt>
<dd><p>Plot PASS-1 and PASS-2 accuracy by training step.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.plot_delta_correct_scatter">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">plot_delta_correct_scatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#plot_delta_correct_scatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.plot_delta_correct_scatter" title="Link to this definition">¶</a></dt>
<dd><p>Scatter plot of Δ correctness vs. PASS-1 entropy.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.plot_entropy_by_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">plot_entropy_by_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#plot_entropy_by_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.plot_entropy_by_step" title="Link to this definition">¶</a></dt>
<dd><p>Plot mean PASS-1 and PASS-2 entropy by training step.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.plot_entropy_hists">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">plot_entropy_hists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#plot_entropy_hists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.plot_entropy_hists" title="Link to this definition">¶</a></dt>
<dd><p>Plot histograms of PASS-1 and PASS-2 entropy.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.plot_heatmap_step_entropy_improve">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">plot_heatmap_step_entropy_improve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#plot_heatmap_step_entropy_improve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.plot_heatmap_step_entropy_improve" title="Link to this definition">¶</a></dt>
<dd><p>Plot a heatmap of correction rate vs. step and PASS-1 entropy bin.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.h4_analysis_impl.scan_files">
<span class="sig-prename descclassname"><span class="pre">src.analysis.h4_analysis_impl.</span></span><span class="sig-name descname"><span class="pre">scan_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/h4_analysis_impl.html#scan_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.h4_analysis_impl.scan_files" title="Link to this definition">¶</a></dt>
<dd><p>Recursively scan for JSONL result files under <code class="docutils literal notranslate"><span class="pre">root</span></code>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.heatmap_1">
<span id="src-analysis-heatmap-1-module"></span><h2>src.analysis.heatmap_1 module<a class="headerlink" href="#module-src.analysis.heatmap_1" title="Link to this heading">¶</a></h2>
<section id="aha-prevalence-heatmap-1-2-3-0">
<h3>Aha! Prevalence Heatmap (δ1 × δ2; δ3 = ε&gt;0)<a class="headerlink" href="#aha-prevalence-heatmap-1-2-3-0" title="Link to this heading">¶</a></h3>
<p>Builds heatmaps showing the share (%) of problem–step pairs that qualify as a
formal “Aha!” event under thresholds:</p>
<blockquote>
<div><ul class="simple">
<li><p>δ1 ∈ {0, 1/8, 2/8}  (max prior per-checkpoint accuracy fraction)</p></li>
<li><p>δ2 ∈ {0, 1/8, 2/8}  (max prior per-checkpoint shift fraction)</p></li>
<li><p>δ3 = ε &gt; 0          (strict improvement at current step over BEST prior acc)</p></li>
</ul>
</div></blockquote>
<p>This version:
- adds Math3 (e.g., Llama-8B) support,
- emits per-domain heatmaps for all provided domains by default</p>
<blockquote>
<div><p>(Crossword, Math, Math2, Math3, Carpark),</p>
</div></blockquote>
<ul class="simple">
<li><p>adds a collective heatmap for 1.5B-only domains (default: Crossword, Math, Carpark),</p></li>
<li><p>makes the figure 3/4 the previous height,</p></li>
<li><p>removes the colorbar on the right,</p></li>
<li><p>sets a concise title and axis labels.</p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.PerDomainPlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">PerDomainPlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#PerDomainPlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.PerDomainPlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Lightweight container for repeated per-domain plot settings.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.PerDomainPlotConfig.cmap_name">
<span class="sig-name descname"><span class="pre">cmap_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.heatmap_1.PerDomainPlotConfig.cmap_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.PerDomainPlotConfig.delta_values">
<span class="sig-name descname"><span class="pre">delta_values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.heatmap_1.PerDomainPlotConfig.delta_values" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.PerDomainPlotConfig.label_map">
<span class="sig-name descname"><span class="pre">label_map</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.heatmap_1.PerDomainPlotConfig.label_map" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.PerDomainPlotConfig.long_rows">
<span class="sig-name descname"><span class="pre">long_rows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.heatmap_1.PerDomainPlotConfig.long_rows" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.PerDomainPlotConfig.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.heatmap_1.PerDomainPlotConfig.out_dir" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.count_ahas">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">count_ahas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#count_ahas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.count_ahas" title="Link to this definition">¶</a></dt>
<dd><p>Count formal Aha events and eligible pairs for given (delta1, delta2).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.frac8_label">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">frac8_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#frac8_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.frac8_label" title="Link to this definition">¶</a></dt>
<dd><p>Format delta values as k/8 when applicable, otherwise as a float.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.get_rendered_size">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">get_rendered_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#get_rendered_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.get_rendered_size" title="Link to this definition">¶</a></dt>
<dd><p>Return the rendered width/height (inches) of a Matplotlib figure.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.load_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LoadRowsConfig</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#load_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load sample-level rows across all domains into a DataFrame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entrypoint for Aha-prevalence heatmap generation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.make_step_level">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">make_step_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#make_step_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.make_step_level" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate sample-level rows to per-(domain, problem, step) statistics.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.plot_heatmap">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">plot_heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_grid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'YlGnBu'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#plot_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.plot_heatmap" title="Link to this definition">¶</a></dt>
<dd><p>Render a single Aha-prevalence heatmap and save PNG/PDF outputs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.set_rendered_width">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">set_rendered_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_width_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#set_rendered_width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.set_rendered_width" title="Link to this definition">¶</a></dt>
<dd><p>Iteratively adjust the figure size so the rendered width matches target_width_in.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.heatmap_1.sweep_grid">
<span class="sig-prename descclassname"><span class="pre">src.analysis.heatmap_1.</span></span><span class="sig-name descname"><span class="pre">sweep_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/heatmap_1.html#sweep_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.heatmap_1.sweep_grid" title="Link to this definition">¶</a></dt>
<dd><p>Build a grid of (delta1, delta2) → (events, pairs, percentage) values.</p>
</dd></dl>

</section>
<section id="module-src.analysis.io">
<span id="src-analysis-io-module"></span><h2>src.analysis.io module<a class="headerlink" href="#module-src.analysis.io" title="Link to this heading">¶</a></h2>
<p>File and record loading utilities for analysis scripts.</p>
<p>These helpers centralize the common patterns used across the ad-hoc analysis
scripts (JSON/JSONL/JSONL.GZ reading and “step-aware” directory scanning).</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.build_files_by_domain">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">build_files_by_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_substrings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#build_files_by_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.build_files_by_domain" title="Link to this definition">¶</a></dt>
<dd><p>Helper to construct <code class="docutils literal notranslate"><span class="pre">files_by_domain</span></code> mappings from a domain → root map.</p>
<p>This captures the common pattern used in <code class="docutils literal notranslate"><span class="pre">temp_graph</span></code> and
<code class="docutils literal notranslate"><span class="pre">temperature_effects</span></code> when turning discovered roots into per-domain
file lists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.build_files_by_domain_for_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">build_files_by_domain_for_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#build_files_by_domain_for_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.build_files_by_domain_for_args" title="Link to this definition">¶</a></dt>
<dd><p>Convenience wrapper to build <code class="docutils literal notranslate"><span class="pre">files_by_domain</span></code>/<code class="docutils literal notranslate"><span class="pre">first_root</span></code> from CLI args.</p>
<p>This captures the common pattern used in graph-style scripts that accept
<code class="docutils literal notranslate"><span class="pre">--root_*</span></code>, <code class="docutils literal notranslate"><span class="pre">--split</span></code> and a positional <code class="docutils literal notranslate"><span class="pre">results_root</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.build_jsonl_files_by_domain">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">build_jsonl_files_by_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain_roots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#build_jsonl_files_by_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.build_jsonl_files_by_domain" title="Link to this definition">¶</a></dt>
<dd><p>Helper to construct <code class="docutils literal notranslate"><span class="pre">files_by_domain</span></code> mappings for plain <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code> roots.</p>
<p>This captures the common pattern used in several scripts that take
<code class="docutils literal notranslate"><span class="pre">--root_*</span></code> flags (for example, heatmap_1, table_1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_roots</strong> – Mapping from domain label to root directory (or None).</p></li>
<li><p><strong>split_substr</strong> – Optional substring filter on filenames.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(files_by_domain, first_root) where first_root is the first
non-empty root encountered, or None if none yielded files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.build_standard_domain_roots">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">build_standard_domain_roots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_crossword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_math</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_math2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_carpark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#build_standard_domain_roots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.build_standard_domain_roots" title="Link to this definition">¶</a></dt>
<dd><p>Construct a standard domain→root mapping for Crossword/Math/Math2/Carpark.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.collect_jsonl_files_for_domains">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">collect_jsonl_files_for_domains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain_roots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_domain_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'All'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#collect_jsonl_files_for_domains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.collect_jsonl_files_for_domains" title="Link to this definition">¶</a></dt>
<dd><p>Construct a <code class="docutils literal notranslate"><span class="pre">files_by_domain</span></code> mapping for plain <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code> roots with an
optional fallback <code class="docutils literal notranslate"><span class="pre">results_root</span></code>.</p>
<p>This captures the common pattern used by several scripts that accept
<code class="docutils literal notranslate"><span class="pre">--root_*</span></code> flags plus an optional positional <code class="docutils literal notranslate"><span class="pre">results_root</span></code> fallback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_roots</strong> – Mapping from domain label to root directory (or None).</p></li>
<li><p><strong>split_substr</strong> – Optional substring filter on filenames.</p></li>
<li><p><strong>results_root</strong> – Optional fallback root used when no per-domain roots
yield any files.</p></li>
<li><p><strong>all_domain_label</strong> – Domain label to use when only <code class="docutils literal notranslate"><span class="pre">results_root</span></code> is
provided; defaults to <code class="docutils literal notranslate"><span class="pre">&quot;All&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">(files_by_domain,</span> <span class="pre">first_root)</span></code> where <code class="docutils literal notranslate"><span class="pre">first_root</span></code> is the
first non-empty root encountered.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> – If no files are found or no valid root is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.iter_pass1_samples_by_domain">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">iter_pass1_samples_by_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#iter_pass1_samples_by_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.iter_pass1_samples_by_domain" title="Link to this definition">¶</a></dt>
<dd><p>Iterate PASS-1-style samples grouped by domain.</p>
<p>Yields <code class="docutils literal notranslate"><span class="pre">(domain,</span> <span class="pre">pass1_dict,</span> <span class="pre">step_int,</span> <span class="pre">record)</span></code> tuples, applying
<code class="docutils literal notranslate"><span class="pre">nat_step_from_path</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">extract_pass1_and_step()</span></code> plus the
optional <code class="docutils literal notranslate"><span class="pre">[min_step,</span> <span class="pre">max_step]</span></code> bounds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.iter_records_from_file">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">iter_records_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#iter_records_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.iter_records_from_file" title="Link to this definition">¶</a></dt>
<dd><p>Yield JSON records from a <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code>, <code class="docutils literal notranslate"><span class="pre">.jsonl.gz</span></code>, or <code class="docutils literal notranslate"><span class="pre">.json</span></code> file.</p>
<p>This mirrors the most robust variant used in entropy-driven analysis
scripts: it tolerates either newline-delimited JSON or a single JSON
list/dict in <code class="docutils literal notranslate"><span class="pre">.json</span></code> files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Path (string or <code class="docutils literal notranslate"><span class="pre">Path</span></code>) to a JSON/JSONL/JSONL.GZ file on disk.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator over JSON objects (dictionaries) parsed from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.scan_files_step_only">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">scan_files_step_only</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_substrings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#scan_files_step_only"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.scan_files_step_only" title="Link to this definition">¶</a></dt>
<dd><p>Scan for JSON/JSONL/JSONL.GZ files that are associated with a training
step, either via the directory name or filename.</p>
<p>This mirrors the “step-aware” scanning used in several scripts (for example,
<code class="docutils literal notranslate"><span class="pre">temperature_effects</span></code>, <code class="docutils literal notranslate"><span class="pre">temp_graph</span></code>, <code class="docutils literal notranslate"><span class="pre">entropy_bin_regression</span></code>,
<code class="docutils literal notranslate"><span class="pre">final-plot</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> – Root directory under which to search.</p></li>
<li><p><strong>split_substr</strong> – Optional substring that must appear in the filename.</p></li>
<li><p><strong>skip_substrings</strong> – Optional collection of directory-name substrings to skip.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted list of JSON/JSONL/JSONL.GZ files associated with steps.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.scan_files_with_steps_or_meta">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">scan_files_with_steps_or_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_substrings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#scan_files_with_steps_or_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.scan_files_with_steps_or_meta" title="Link to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#src.analysis.io.scan_files_step_only" title="src.analysis.io.scan_files_step_only"><code class="xref py py-func docutils literal notranslate"><span class="pre">scan_files_step_only()</span></code></a>, but also keep files where we can
infer a step from record contents (via <code class="xref py py-func docutils literal notranslate"><span class="pre">nat_step_from_path()</span></code>).</p>
<p>This is useful when some logs do not encode the step in filenames or
directories but do provide it inside the JSON records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> – Root directory under which to search.</p></li>
<li><p><strong>split_substr</strong> – Optional substring that must appear in the filename.</p></li>
<li><p><strong>skip_substrings</strong> – Optional collection of directory-name substrings to skip.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted list of JSON/JSONL/JSONL.GZ files considered step-aware.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.io.scan_jsonl_files">
<span class="sig-prename descclassname"><span class="pre">src.analysis.io.</span></span><span class="sig-name descname"><span class="pre">scan_jsonl_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_substr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/io.html#scan_jsonl_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.io.scan_jsonl_files" title="Link to this definition">¶</a></dt>
<dd><p>Recursively collect <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code> files under a root directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> – Root directory under which to search.</p></li>
<li><p><strong>split_substr</strong> – Optional substring that must appear in the filename
(for example, <code class="docutils literal notranslate"><span class="pre">&quot;train&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;test&quot;</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted list of matching <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code> file paths.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.analysis.labels">
<span id="src-analysis-labels-module"></span><h2>src.analysis.labels module<a class="headerlink" href="#module-src.analysis.labels" title="Link to this heading">¶</a></h2>
<p>Aha / shift labeling utilities.</p>
<p>Centralizes several slightly different “Aha!” definitions that appear across
analysis scripts (native cue-based, GPT-labeled, gated variants).</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.labels.aha_gpt">
<span class="sig-prename descclassname"><span class="pre">src.analysis.labels.</span></span><span class="sig-name descname"><span class="pre">aha_gpt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'canonical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gate_by_words</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/labels.html#aha_gpt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.labels.aha_gpt" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>High-level convenience wrapper:</dt><dd><ul class="simple">
<li><p>mode: “canonical” or “broad”</p></li>
<li><p>optionally enforce aha_gpt &lt;= aha_words via gate_by_words</p></li>
<li><p>optionally apply domain-aware gating when gate_by_words is True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.labels.aha_gpt_broad">
<span class="sig-prename descclassname"><span class="pre">src.analysis.labels.</span></span><span class="sig-name descname"><span class="pre">aha_gpt_broad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/labels.html#aha_gpt_broad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.labels.aha_gpt_broad" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Broader GPT/LLM-labeled shift:</dt><dd><p>any of AHA_KEYS_BROAD.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.labels.aha_gpt_canonical">
<span class="sig-prename descclassname"><span class="pre">src.analysis.labels.</span></span><span class="sig-name descname"><span class="pre">aha_gpt_canonical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/labels.html#aha_gpt_canonical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.labels.aha_gpt_canonical" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Canonical GPT/LLM-labeled shift:</dt><dd><p>change_way_of_thinking OR shift_in_reasoning_v1</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.labels.aha_gpt_for_rec">
<span class="sig-prename descclassname"><span class="pre">src.analysis.labels.</span></span><span class="sig-name descname"><span class="pre">aha_gpt_for_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_subset_native</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/labels.html#aha_gpt_for_rec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.labels.aha_gpt_for_rec" title="Link to this definition">¶</a></dt>
<dd><p>Reusable implementation of the gating logic used in the temperature
analysis scripts:</p>
<blockquote>
<div><ul class="simple">
<li><p>gpt_raw: any(gpt_keys)</p></li>
<li><p>if gpt_subset_native is True, gate by native reconsider cues.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.labels.aha_words">
<span class="sig-prename descclassname"><span class="pre">src.analysis.labels.</span></span><span class="sig-name descname"><span class="pre">aha_words</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/labels.html#aha_words"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.labels.aha_words" title="Link to this definition">¶</a></dt>
<dd><p>Words-based Aha flag from pass1.</p>
<dl class="simple">
<dt>Definition:</dt><dd><ul class="simple">
<li><p>has_reconsider_cue == 1</p></li>
<li><p>EXCLUDING injected cues (marker “injected_cue”).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.analysis.math_plots">
<span id="src-analysis-math-plots-module"></span><h2>src.analysis.math_plots module<a class="headerlink" href="#module-src.analysis.math_plots" title="Link to this heading">¶</a></h2>
<p>Wrapper module for the Math summary plots script.</p>
<p>Canonical usage is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">src</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">math_plots</span> <span class="o">...</span>
</pre></div>
</div>
<p>The implementation lives in <code class="docutils literal notranslate"><span class="pre">math_plots_impl.py</span></code> to keep the public entry
point stable while allowing the underlying script to evolve.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.math_plots.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.math_plots.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/math_plots.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.math_plots.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point that delegates to the implementation module.</p>
</dd></dl>

</section>
<section id="module-src.analysis.math_plots_impl">
<span id="src-analysis-math-plots-impl-module"></span><h2>src.analysis.math_plots_impl module<a class="headerlink" href="#module-src.analysis.math_plots_impl" title="Link to this heading">¶</a></h2>
<p>Math summary plots (PASS-1 vs PASS-2).</p>
<p>Plots accuracy, entropy, improvement rates, tag validity, and sample counts
from the CSVs produced by <code class="docutils literal notranslate"><span class="pre">summarize_*_inference.py</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.math_plots_impl.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.math_plots_impl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/math_plots_impl.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.math_plots_impl.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point to build plots from summarize_*_inference CSV output.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.math_plots_impl.make_plots">
<span class="sig-prename descclassname"><span class="pre">src.analysis.math_plots_impl.</span></span><span class="sig-name descname"><span class="pre">make_plots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summary_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/math_plots_impl.html#make_plots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.math_plots_impl.make_plots" title="Link to this definition">¶</a></dt>
<dd><p>Create all standard plots for the math summary CSV.</p>
</dd></dl>

</section>
<section id="module-src.analysis.metrics">
<span id="src-analysis-metrics-module"></span><h2>src.analysis.metrics module<a class="headerlink" href="#module-src.analysis.metrics" title="Link to this heading">¶</a></h2>
<p>Shared metrics utilities for analysis scripts.</p>
<p>This currently focuses on correctness extraction and a few common derived
metrics that are reused across uncertainty / shift analyses.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.add_step_std_column">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">add_step_std_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'step_std'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#add_step_std_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.add_step_std_column" title="Link to this definition">¶</a></dt>
<dd><p>Return a copy of the DataFrame with an added standardized step column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.carpark_success_from_soft_reward">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">carpark_success_from_soft_reward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparison_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#carpark_success_from_soft_reward"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.carpark_success_from_soft_reward" title="Link to this definition">¶</a></dt>
<dd><p>Compute a Carpark-style success flag from a soft_reward field.</p>
<p>comparison_op ∈ {gt, ge, eq}, threshold is a float threshold.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.cond_counts">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">cond_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#cond_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.cond_counts" title="Link to this definition">¶</a></dt>
<dd><p>Compute conditional accuracy and share of shifted examples.</p>
<p>The input DataFrame is expected to have boolean/indicator columns
<code class="docutils literal notranslate"><span class="pre">shift</span></code> and <code class="docutils literal notranslate"><span class="pre">correct</span></code>. The return value is
<code class="docutils literal notranslate"><span class="pre">(total_count,</span> <span class="pre">share_shift,</span> <span class="pre">p_correct_shift,</span> <span class="pre">p_correct_noshift)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.extract_correct">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">extract_correct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_like</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#extract_correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.extract_correct" title="Link to this definition">¶</a></dt>
<dd><p>Robust correctness from an object (e.g., pass1 or pass2) with rec as
context for gold answers.</p>
<p>Merges the more permissive/canonical variants from final-plot and
entropy_bin_regression.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.find_correct_in_obj">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">find_correct_in_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#find_correct_in_obj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.find_correct_in_obj" title="Link to this definition">¶</a></dt>
<dd><p>Depth-first search for correctness-ish booleans or [0,1] floats inside an
arbitrary JSON-like object (dicts/lists).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.glm_cov_spec">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">glm_cov_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#glm_cov_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.glm_cov_spec" title="Link to this definition">¶</a></dt>
<dd><p>Shared covariance configuration for statsmodels GLM fits.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">cluster_by</span> <span class="pre">==</span> <span class="pre">'problem'</span></code> we use clustered covariance with robust
corrections; otherwise fall back to HC1.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.glm_fit_with_covariance">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">glm_fit_with_covariance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/metrics.html#glm_fit_with_covariance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.glm_fit_with_covariance" title="Link to this definition">¶</a></dt>
<dd><p>Fit a statsmodels GLM with the shared covariance spec, handling older
statsmodels versions that reject certain <code class="docutils literal notranslate"><span class="pre">cov_kwds</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">(result,</span> <span class="pre">cov_type,</span> <span class="pre">cov_kwds)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.lazy_import_statsmodels">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">lazy_import_statsmodels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/metrics.html#lazy_import_statsmodels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.lazy_import_statsmodels" title="Link to this definition">¶</a></dt>
<dd><p>Lazily import statsmodels API and formula modules.</p>
<p>Raises a clear RuntimeError when statsmodels is not installed instead of
failing at import time for modules that only conditionally depend on it.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.make_carpark_success_fn">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">make_carpark_success_fn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comparison_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#make_carpark_success_fn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.make_carpark_success_fn" title="Link to this definition">¶</a></dt>
<dd><p>Build a soft-reward → success comparator for Carpark-style tasks.</p>
<p><code class="docutils literal notranslate"><span class="pre">comparison_op</span></code> is one of <code class="docutils literal notranslate"><span class="pre">{&quot;gt&quot;,</span> <span class="pre">&quot;ge&quot;,</span> <span class="pre">&quot;eq&quot;}</span></code>; <code class="docutils literal notranslate"><span class="pre">threshold</span></code> is the cutoff.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.predict_formula">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">predict_formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#predict_formula"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.predict_formula" title="Link to this definition">¶</a></dt>
<dd><p>Robust prediction helper for formula-based statsmodels GLMs.</p>
<p>Prefers <code class="docutils literal notranslate"><span class="pre">res.predict(df_new)</span></code> but falls back to rebuilding the
design matrix from the original <code class="docutils literal notranslate"><span class="pre">design_info</span></code> when needed, and
finally to treating <code class="docutils literal notranslate"><span class="pre">df_new</span></code> as a numeric exog matrix.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.shift_conditional_counts">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">shift_conditional_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#shift_conditional_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.shift_conditional_counts" title="Link to this definition">¶</a></dt>
<dd><p>Compute conditional accuracy and share of shifted examples.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">(n_total,</span> <span class="pre">share_shift,</span> <span class="pre">p_correct_shift,</span> <span class="pre">p_correct_noshift)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.wilson_ci">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">wilson_ci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_success</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_trials</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#wilson_ci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.wilson_ci" title="Link to this definition">¶</a></dt>
<dd><p>Wilson 95% confidence interval for a binomial proportion k/n.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.metrics.write_glm_summary_header">
<span class="sig-prename descclassname"><span class="pre">src.analysis.metrics.</span></span><span class="sig-name descname"><span class="pre">write_glm_summary_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cov_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cov_kwds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/metrics.html#write_glm_summary_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.metrics.write_glm_summary_header" title="Link to this definition">¶</a></dt>
<dd><p>Write a standard statsmodels GLM summary header with covariance info.</p>
<p>This helper is shared across H1/H3-style scripts to avoid duplicate
boilerplate when persisting GLM summaries.</p>
</dd></dl>

</section>
<section id="module-src.analysis.model_discovery">
<span id="src-analysis-model-discovery-module"></span><h2>src.analysis.model_discovery module<a class="headerlink" href="#module-src.analysis.model_discovery" title="Link to this heading">¶</a></h2>
<p>Shared helpers for discovering 7B/8B roots based on model/domain/temp tokens.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.model_discovery.DiscoveryConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.model_discovery.</span></span><span class="sig-name descname"><span class="pre">DiscoveryConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temperatures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted_models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted_domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/model_discovery.html#DiscoveryConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.model_discovery.DiscoveryConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration used when discovering 7B/8B model roots.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.model_discovery.DiscoveryConfig.low_alias">
<span class="sig-name descname"><span class="pre">low_alias</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.model_discovery.DiscoveryConfig.low_alias" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.model_discovery.DiscoveryConfig.temperatures">
<span class="sig-name descname"><span class="pre">temperatures</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.model_discovery.DiscoveryConfig.temperatures" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.model_discovery.DiscoveryConfig.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#src.analysis.model_discovery.DiscoveryConfig.verbose" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.model_discovery.DiscoveryConfig.wanted_domains">
<span class="sig-name descname"><span class="pre">wanted_domains</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.model_discovery.DiscoveryConfig.wanted_domains" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.model_discovery.DiscoveryConfig.wanted_models">
<span class="sig-name descname"><span class="pre">wanted_models</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.model_discovery.DiscoveryConfig.wanted_models" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.model_discovery.discover_roots_7b8b">
<span class="sig-prename descclassname"><span class="pre">src.analysis.model_discovery.</span></span><span class="sig-name descname"><span class="pre">discover_roots_7b8b</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig" title="src.analysis.model_discovery.DiscoveryConfig"><span class="pre">DiscoveryConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/model_discovery.html#discover_roots_7b8b"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.model_discovery.discover_roots_7b8b" title="Link to this definition">¶</a></dt>
<dd><p>Discover the deepest subdirectories matching the requested temps/domains.</p>
</dd></dl>

</section>
<section id="module-src.analysis.plotting">
<span id="src-analysis-plotting-module"></span><h2>src.analysis.plotting module<a class="headerlink" href="#module-src.analysis.plotting" title="Link to this heading">¶</a></h2>
<p>Common Matplotlib styling and tiny plotting utilities for analysis scripts.</p>
<p>This module is deliberately minimal; higher-level plotting code should stay in
the figure/graph scripts themselves.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting.a4_size_inches">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting.</span></span><span class="sig-name descname"><span class="pre">a4_size_inches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'landscape'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting.html#a4_size_inches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting.a4_size_inches" title="Link to this definition">¶</a></dt>
<dd><p>Return (width, height) in inches for an A4 page.</p>
<p><code class="docutils literal notranslate"><span class="pre">orientation</span></code> may be <code class="docutils literal notranslate"><span class="pre">&quot;landscape&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;portrait&quot;</span></code> (case-insensitive).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting.apply_default_style">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting.</span></span><span class="sig-name descname"><span class="pre">apply_default_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting.html#apply_default_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting.apply_default_style" title="Link to this definition">¶</a></dt>
<dd><p>Apply a Times-like serif style consistent with the main paper figures.</p>
<p>Optionally, pass a small dict of overrides via extra.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting.apply_entropy_plot_style">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting.</span></span><span class="sig-name descname"><span class="pre">apply_entropy_plot_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting.html#apply_entropy_plot_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting.apply_entropy_plot_style" title="Link to this definition">¶</a></dt>
<dd><p>Apply a Times-like style tuned for entropy/uncertainty plots (graph_3/graph_4).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting.apply_paper_font_style">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting.</span></span><span class="sig-name descname"><span class="pre">apply_paper_font_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font_family</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Times</span> <span class="pre">New</span> <span class="pre">Roman'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mathtext_fontset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dejavuserif'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting.html#apply_paper_font_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting.apply_paper_font_style" title="Link to this definition">¶</a></dt>
<dd><p>Style tuned for A4-style paper figures and PDFs (H1/H3 summaries,
figure_1/figure_2), shared to avoid duplicated rcParams blocks.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting.save_figure">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting.</span></span><span class="sig-name descname"><span class="pre">save_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Figure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outbase</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('png',</span> <span class="pre">'pdf')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting.html#save_figure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting.save_figure" title="Link to this definition">¶</a></dt>
<dd><p>Save a Matplotlib figure to multiple formats, creating parent dirs.</p>
<dl class="simple">
<dt>outbase should be a path without extension; typical usage:</dt><dd><p>save_figure(fig, “out/figure1”)</p>
</dd>
</dl>
<p>which will create out/figure1.png and out/figure1.pdf.</p>
</dd></dl>

</section>
<section id="module-src.analysis.plotting_styles">
<span id="src-analysis-plotting-styles-module"></span><h2>src.analysis.plotting_styles module<a class="headerlink" href="#module-src.analysis.plotting_styles" title="Link to this heading">¶</a></h2>
<p>Shared plotting styles and utilities used by the H2/H3 figures.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting_styles.cmap_colors">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting_styles.</span></span><span class="sig-name descname"><span class="pre">cmap_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting_styles.html#cmap_colors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting_styles.cmap_colors" title="Link to this definition">¶</a></dt>
<dd><p>Access a qualitative matplotlib colormap and return RGB tuples.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting_styles.darken_colors">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting_styles.</span></span><span class="sig-name descname"><span class="pre">darken_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.8</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting_styles.html#darken_colors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting_styles.darken_colors" title="Link to this definition">¶</a></dt>
<dd><p>Scale RGB tuples by <code class="docutils literal notranslate"><span class="pre">factor</span></code> to darken/lighten the palette.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.plotting_styles.parse_color_overrides">
<span class="sig-prename descclassname"><span class="pre">src.analysis.plotting_styles.</span></span><span class="sig-name descname"><span class="pre">parse_color_overrides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/plotting_styles.html#parse_color_overrides"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.plotting_styles.parse_color_overrides" title="Link to this definition">¶</a></dt>
<dd><p>Parse <code class="docutils literal notranslate"><span class="pre">name:hex</span></code> overrides from a CLI string.</p>
</dd></dl>

</section>
<section id="module-src.analysis.rq1_analysis">
<span id="src-analysis-rq1-analysis-module"></span><h2>src.analysis.rq1_analysis module<a class="headerlink" href="#module-src.analysis.rq1_analysis" title="Link to this heading">¶</a></h2>
<section id="rq1-do-reasoning-shifts-raise-model-accuracy">
<h3>RQ1: Do reasoning shifts raise model accuracy?<a class="headerlink" href="#rq1-do-reasoning-shifts-raise-model-accuracy" title="Link to this heading">¶</a></h3>
<p>This module provides a thin orchestration layer around the existing H1 / shift
analysis code so that the pipeline for RQ1 lives in a single, clearly named
entrypoint.</p>
<p>It does <strong>not</strong> reimplement the heavy GLM logic; instead it:</p>
<ul>
<li><p>calls the H1 GLM script (<code class="docutils literal notranslate"><span class="pre">h1_analysis.py</span></code>) to fit the Binomial GLMs
(<code class="docutils literal notranslate"><span class="pre">correct</span> <span class="pre">~</span> <span class="pre">C(problem)</span> <span class="pre">+</span> <span class="pre">step_std</span> <span class="pre">+</span> <span class="pre">aha</span></code>) and write:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">h1_glm_ame_summary.csv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h1_group_accuracy.csv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h1_group_accuracy_delta.csv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h1_group_accuracy_by_step.csv</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>optionally calls <code class="docutils literal notranslate"><span class="pre">shift_summary.summarize_root</span></code> to print an accuracy×shift
2×2 table over the same results.</p></li>
</ul>
<section id="typical-usage-from-the-repo-root">
<h4>Typical usage (from the repo root)<a class="headerlink" href="#typical-usage-from-the-repo-root" title="Link to this heading">¶</a></h4>
<p>Math example:</p>
<blockquote>
<div><dl class="simple">
<dt>python -m src.analysis.rq1_analysis </dt><dd><p>artifacts/results/GRPO-1.5B-math-temp-0.05-3 –split test –dataset_name MATH-500 –model_name Qwen2.5-1.5B</p>
</dd>
</dl>
</div></blockquote>
<p>Crossword example:</p>
<blockquote>
<div><dl class="simple">
<dt>python -m src.analysis.rq1_analysis </dt><dd><p>artifacts/results/cryptic-xword-run –split test –dataset_name Xword –model_name Qwen2.5-1.5B</p>
</dd>
</dl>
</div></blockquote>
<p>This will create a <code class="docutils literal notranslate"><span class="pre">rq1/</span></code> subfolder under the results root and place the H1
GLM outputs under <code class="docutils literal notranslate"><span class="pre">rq1/h1_glm</span></code>.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.rq1_analysis.build_argparser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.rq1_analysis.</span></span><span class="sig-name descname"><span class="pre">build_argparser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/rq1_analysis.html#build_argparser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.rq1_analysis.build_argparser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the argument parser for the RQ1 analysis CLI.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.rq1_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.rq1_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/rq1_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.rq1_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>Run the RQ1 analysis pipeline based on command-line arguments.</p>
</dd></dl>

</section>
<section id="module-src.analysis.rq2_analysis">
<span id="src-analysis-rq2-analysis-module"></span><h2>src.analysis.rq2_analysis module<a class="headerlink" href="#module-src.analysis.rq2_analysis" title="Link to this heading">¶</a></h2>
<section id="rq2-training-stage-and-temperature-effects">
<h3>RQ2: Training Stage and Temperature Effects<a class="headerlink" href="#rq2-training-stage-and-temperature-effects" title="Link to this heading">¶</a></h3>
<p>This module provides a small orchestration layer for the analyses that
underpin RQ2 in the paper:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>Training-stage effects of shifts (per-step GLMs, uncertainty buckets):</dt><dd><p>→ src/analysis/h2_analysis.py</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Temperature-wise effects of shifts (raw deltas + GLMs):</dt><dd><p>→ src/analysis/temperature_effects.py</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Rather than duplicating modeling code, this file gives a single, RQ2-branded
entrypoint that forwards to the existing scripts with a consistent set of
arguments.</p>
<section id="typical-usage-per-domain-root">
<h4>Typical usage (per domain/root)<a class="headerlink" href="#typical-usage-per-domain-root" title="Link to this heading">¶</a></h4>
<blockquote>
<div><dl class="simple">
<dt>python -m src.analysis.rq2_analysis </dt><dd><p>artifacts/results/GRPO-1.5B-math-temp-0.05-3 –split test</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>By default this will:</dt><dd><ol class="arabic simple">
<li><p>run h2_analysis.py with its default settings, writing into
&lt;results_root&gt;/rq2/h2_analysis</p></li>
<li><p>(optionally) invoke temperature_effects.py if you pass –temp_root
pointing at a directory containing per-temperature runs.</p></li>
</ol>
</dd>
</dl>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.rq2_analysis.build_argparser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.rq2_analysis.</span></span><span class="sig-name descname"><span class="pre">build_argparser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/rq2_analysis.html#build_argparser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.rq2_analysis.build_argparser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the argument parser for the RQ2 analysis entrypoint.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.rq2_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.rq2_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/rq2_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.rq2_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>Parse CLI arguments and run the RQ2 training-stage and temperature analyses.</p>
</dd></dl>

</section>
<section id="module-src.analysis.rq3_analysis">
<span id="src-analysis-rq3-analysis-module"></span><h2>src.analysis.rq3_analysis module<a class="headerlink" href="#module-src.analysis.rq3_analysis" title="Link to this heading">¶</a></h2>
<section id="rq3-uncertainty-and-intervention-effects">
<h3>RQ3: Uncertainty and Intervention Effects<a class="headerlink" href="#rq3-uncertainty-and-intervention-effects" title="Link to this heading">¶</a></h3>
<p>This module centralizes the analysis code for RQ3:</p>
<blockquote>
<div><ul>
<li><p>Do second-pass / reconsideration steps help more when the model is
uncertain?  (H3; GLMs over PASS-1 entropy buckets)</p>
<blockquote>
<div><p>→ src/analysis/h3_analysis.py</p>
</div></blockquote>
</li>
<li><p>How do uncertainty-bucket interventions behave and how can we export
per-cue variants for custom plots?</p>
<blockquote>
<div><p>→ src/analysis/uncertainty_bucket_effects.py
→ src/analysis/entropy_bin_regression.py
→ src/analysis/export_cue_variants.py</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Rather than duplicating logic, this file provides a single entrypoint that
invokes the core H3 analysis and, optionally, exports a flat CSV for
per-cue analysis in pandas/R.</p>
<section id="id8">
<h4>Typical usage (per domain/root)<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<blockquote>
<div><dl class="simple">
<dt>python -m src.analysis.rq3_analysis </dt><dd><p>artifacts/results/GRPO-1.5B-math-temp-0.05-3 –split test</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>This will populate:</dt><dd><ul class="simple">
<li><p>&lt;results_root&gt;/rq3/h3_analysis   (H3 uncertainty×phase GLMs + plots)</p></li>
<li><p>&lt;results_root&gt;/rq3/cue_variants*.csv (if –export_cues is set)</p></li>
</ul>
</dd>
</dl>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.rq3_analysis.build_argparser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.rq3_analysis.</span></span><span class="sig-name descname"><span class="pre">build_argparser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/rq3_analysis.html#build_argparser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.rq3_analysis.build_argparser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the argument parser for the RQ3 CLI entrypoint.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.rq3_analysis.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.rq3_analysis.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/rq3_analysis.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.rq3_analysis.main" title="Link to this definition">¶</a></dt>
<dd><p>Parse command-line arguments and run the requested RQ3 analyses.</p>
</dd></dl>

</section>
<section id="module-src.analysis.script_utils">
<span id="src-analysis-script-utils-module"></span><h2>src.analysis.script_utils module<a class="headerlink" href="#module-src.analysis.script_utils" title="Link to this heading">¶</a></h2>
<p>Helpers shared by CLI scripts that need optional <code class="docutils literal notranslate"><span class="pre">_script_init</span></code> shims.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.script_utils.ensure_script_context">
<span class="sig-prename descclassname"><span class="pre">src.analysis.script_utils.</span></span><span class="sig-name descname"><span class="pre">ensure_script_context</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/script_utils.html#ensure_script_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.script_utils.ensure_script_context" title="Link to this definition">¶</a></dt>
<dd><p>Attempt to import the optional <code class="docutils literal notranslate"><span class="pre">_script_init</span></code> module used when these
scripts are executed via <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">path/to/script.py</span></code>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.shift_summary">
<span id="src-analysis-shift-summary-module"></span><h2>src.analysis.shift_summary module<a class="headerlink" href="#module-src.analysis.shift_summary" title="Link to this heading">¶</a></h2>
<p>Quick summary of shift-in-reasoning and correctness for JSONL results.</p>
<dl class="simple">
<dt>Given a root directory containing step*/…/<a href="#id9"><span class="problematic" id="id10">*</span></a>.jsonl (e.g.,</dt><dd><p>artifacts/results/deepseek-r1-openrouter
artifacts/results/gpt4o-math-portkey</p>
</dd>
</dl>
<p>)
this script:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Computes total examples, #shifts, and #correct (using the shared
analysis helpers).</p></li>
<li><p>Prints out every example that contains a GPT-labeled shift
(canonical shift_in_reasoning_v1 / change_way_of_thinking).</p></li>
</ol>
</div></blockquote>
<section id="id11">
<h3>Usage<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<p>python -m src.analysis.shift_summary artifacts/results/deepseek-r1-openrouter –split test
python -m src.analysis.shift_summary artifacts/results/gpt4o-math-portkey –split test</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.shift_summary.build_argparser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.shift_summary.</span></span><span class="sig-name descname"><span class="pre">build_argparser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/shift_summary.html#build_argparser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.shift_summary.build_argparser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the CLI argument parser for shift summary.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.shift_summary.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.shift_summary.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/shift_summary.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.shift_summary.main" title="Link to this definition">¶</a></dt>
<dd><p>Parse command-line arguments and run shift summary over the results root.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.shift_summary.summarize_root">
<span class="sig-prename descclassname"><span class="pre">src.analysis.shift_summary.</span></span><span class="sig-name descname"><span class="pre">summarize_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_examples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/shift_summary.html#summarize_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.shift_summary.summarize_root" title="Link to this definition">¶</a></dt>
<dd><p>Compute aggregate counts and an accuracy×shift table for a results root.</p>
<p>By default, this prints only summary stats and a 2×2 table over:
<code class="docutils literal notranslate"><span class="pre">correct</span> <span class="pre">∈</span> <span class="pre">{0,1}</span></code>, <code class="docutils literal notranslate"><span class="pre">shift</span> <span class="pre">∈</span> <span class="pre">{0,1}</span></code>. When <code class="docutils literal notranslate"><span class="pre">max_examples&gt;0</span></code>,
individual shift examples are printed as well.</p>
</dd></dl>

</section>
<section id="module-src.analysis.table_1">
<span id="src-analysis-table-1-module"></span><h2>src.analysis.table_1 module<a class="headerlink" href="#module-src.analysis.table_1" title="Link to this heading">¶</a></h2>
<section id="aha-conditionals-domain-level-robust-to-llama-style-rows">
<h3>Aha Conditionals (Domain-level) — robust to Llama-style rows<a class="headerlink" href="#aha-conditionals-domain-level-robust-to-llama-style-rows" title="Link to this heading">¶</a></h3>
<p>For each provided folder/domain (e.g., –root_crossword, –root_math, –root_carpark),
compute:</p>
<blockquote>
<div><ul class="simple">
<li><p>P(success | shift) and P(success | no shift)
- Crosswords/Math: success = accuracy (is_correct_pred)
- Carpark: success = (soft_reward OP threshold), default OP=’&gt;’ and threshold=0.0</p></li>
</ul>
</div></blockquote>
</section>
<section id="key-robustness-fixes">
<h3>Key robustness fixes<a class="headerlink" href="#key-robustness-fixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Read shift/cue fields from pass1 OR top level (handles dumps where fields moved).</p></li>
<li><p>Optional: in –gpt_mode=broad, treat non-empty marker lists
(shift_markers_v1, _shift_prefilter_markers) as SHIFT=1 even if booleans are false.</p></li>
<li><p>Optional: –allow_judge_cues_non_xword makes judge-time cues open the gate on non-crossword.</p></li>
<li><p>Success fallback: if pass1.is_correct_pred is missing, use top-level is_correct_pred.</p></li>
</ul>
</section>
<section id="output">
<h3>Output<a class="headerlink" href="#output" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>CSV at &lt;out_dir&gt;/aha_conditionals__&lt;dataset&gt;__&lt;model&gt;.csv with columns:</dt><dd><p>domain, n_total,
k_correct_shift, n_shift, p_correct_given_shift,
k_correct_noshift, n_noshift, p_correct_given_noshift,
shift_rate</p>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.table_1.GptAhaConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.table_1.</span></span><span class="sig-name descname"><span class="pre">GptAhaConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpt_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_subset_native</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_judge_cues_non_xword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">broad_counts_marker_lists</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/table_1.html#GptAhaConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.table_1.GptAhaConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for GPT/LLM-labeled Aha detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gpt_keys</strong> – Candidate boolean shift keys to inspect.</p></li>
<li><p><strong>gpt_subset_native</strong> – Whether to gate GPT shifts by native cues.</p></li>
<li><p><strong>allow_judge_cues_non_xword</strong> – Whether judge-time cues apply to non-crossword domains.</p></li>
<li><p><strong>broad_counts_marker_lists</strong> – Whether non-empty marker lists count as positive shifts.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.GptAhaConfig.allow_judge_cues_non_xword">
<span class="sig-name descname"><span class="pre">allow_judge_cues_non_xword</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.table_1.GptAhaConfig.allow_judge_cues_non_xword" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.GptAhaConfig.broad_counts_marker_lists">
<span class="sig-name descname"><span class="pre">broad_counts_marker_lists</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.table_1.GptAhaConfig.broad_counts_marker_lists" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.GptAhaConfig.gpt_keys">
<span class="sig-name descname"><span class="pre">gpt_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.table_1.GptAhaConfig.gpt_keys" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.GptAhaConfig.gpt_subset_native">
<span class="sig-name descname"><span class="pre">gpt_subset_native</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.table_1.GptAhaConfig.gpt_subset_native" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.table_1.LoadRowsConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.table_1.</span></span><span class="sig-name descname"><span class="pre">LoadRowsConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpt_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig" title="src.analysis.table_1.GptAhaConfig"><span class="pre">GptAhaConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_success_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/table_1.html#LoadRowsConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.table_1.LoadRowsConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for loading per-sample rows across domains.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gpt_config</strong> – GPT/LLM Aha detection configuration.</p></li>
<li><p><strong>min_step</strong> – Optional minimum training step to keep.</p></li>
<li><p><strong>max_step</strong> – Optional maximum training step to keep.</p></li>
<li><p><strong>carpark_success_fn</strong> – Function mapping raw rewards to success labels.</p></li>
<li><p><strong>debug</strong> – Whether to print per-domain debug counts.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.LoadRowsConfig.carpark_success_fn">
<span class="sig-name descname"><span class="pre">carpark_success_fn</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.table_1.LoadRowsConfig.carpark_success_fn" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.LoadRowsConfig.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#src.analysis.table_1.LoadRowsConfig.debug" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.LoadRowsConfig.gpt_config">
<span class="sig-name descname"><span class="pre">gpt_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig" title="src.analysis.table_1.GptAhaConfig"><span class="pre">GptAhaConfig</span></a></em><a class="headerlink" href="#src.analysis.table_1.LoadRowsConfig.gpt_config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.LoadRowsConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.table_1.LoadRowsConfig.max_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.table_1.LoadRowsConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.table_1.LoadRowsConfig.min_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.table_1.agg_domain_conditionals">
<span class="sig-prename descclassname"><span class="pre">src.analysis.table_1.</span></span><span class="sig-name descname"><span class="pre">agg_domain_conditionals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/table_1.html#agg_domain_conditionals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.table_1.agg_domain_conditionals" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate per domain, preserving the input order.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.table_1.load_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.table_1.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig" title="src.analysis.table_1.LoadRowsConfig"><span class="pre">LoadRowsConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/table_1.html#load_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.table_1.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load per-sample rows with domain, step, correctness, and GPT Aha flags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files_by_domain</strong> – Mapping from domain label to list of JSONL paths.</p></li>
<li><p><strong>config</strong> – Structured configuration controlling filtering and labeling.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with columns <code class="docutils literal notranslate"><span class="pre">domain</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code>, <code class="docutils literal notranslate"><span class="pre">correct</span></code>, <code class="docutils literal notranslate"><span class="pre">shift</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.table_1.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.table_1.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/table_1.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.table_1.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point for computing domain-level Aha conditionals and writing Table 1 CSV.</p>
</dd></dl>

</section>
<section id="module-src.analysis.temp_graph">
<span id="src-analysis-temp-graph-module"></span><h2>src.analysis.temp_graph module<a class="headerlink" href="#module-src.analysis.temp_graph" title="Link to this heading">¶</a></h2>
<p>temperature_raw_effects.py  (UPDATED)</p>
<dl>
<dt>Raw Δpp-by-temperature (plot + CSV) for:</dt><dd><ul class="simple">
<li><p>Crossword (Xword)</p></li>
<li><p>Math (1.5B)          &lt;– base series (kept as-is)</p></li>
<li><p>Math2 (extra math)   &lt;– e.g., Qwen-7B</p></li>
<li><p>Math3 (extra math)   &lt;– e.g., Llama-8B</p></li>
<li><p>Carpark (Rush Hour)</p></li>
</ul>
</dd>
<dt>New CLI:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">--math2_tpl</span></kbd></dt>
<dd><p>“path/GRPO-7B-math-temp-{T}”   –label_math2  “Qwen-7B-Math”</p>
</dd>
<dt><kbd><span class="option">--math3_tpl</span></kbd></dt>
<dd><p>“path/GRPO-Llama8B-math-temp-{T}” –label_math3 “Llama-8B-Math”</p>
</dd>
</dl>
</dd>
</dl>
<p>If templates are omitted, behavior is unchanged. If –scan_root is used,
discovery remains conservative (base series only), so use templates to inject
7B/8B series without disturbing prior runs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.temp_graph.PlotIOConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.temp_graph.</span></span><span class="sig-name descname"><span class="pre">PlotIOConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">png_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/temp_graph.html#PlotIOConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temp_graph.PlotIOConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Output paths and rendering configuration for the temperature plot.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temp_graph.PlotIOConfig.dpi">
<span class="sig-name descname"><span class="pre">dpi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">300</span></em><a class="headerlink" href="#src.analysis.temp_graph.PlotIOConfig.dpi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temp_graph.PlotIOConfig.pdf_path">
<span class="sig-name descname"><span class="pre">pdf_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temp_graph.PlotIOConfig.pdf_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temp_graph.PlotIOConfig.png_path">
<span class="sig-name descname"><span class="pre">png_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temp_graph.PlotIOConfig.png_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temp_graph.load_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temp_graph.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LoadRowsConfig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/temp_graph.html#load_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temp_graph.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load per-sample rows for a given temperature across all domains.</p>
<p>Returns a DataFrame with columns: domain, problem_id, step, temp, correct, shift.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temp_graph.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temp_graph.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/temp_graph.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temp_graph.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry point for the temperature raw-effects graph.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temp_graph.make_plot">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temp_graph.</span></span><span class="sig-name descname"><span class="pre">make_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pertemp_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_temps_sorted</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">io_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.temp_graph.PlotIOConfig" title="src.analysis.temp_graph.PlotIOConfig"><span class="pre">PlotIOConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/temp_graph.html#make_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temp_graph.make_plot" title="Link to this definition">¶</a></dt>
<dd><p>Plot Δpp vs temperature for any present series among
Crossword, Math, Math2, Math3, Carpark.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temp_graph.per_temp_delta">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temp_graph.</span></span><span class="sig-name descname"><span class="pre">per_temp_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_temp_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/temp_graph.html#per_temp_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temp_graph.per_temp_delta" title="Link to this definition">¶</a></dt>
<dd><p>Return (delta_pp, se_pp, n_shift, n_noshift, p1, p0) for a single temp×domain slice.</p>
<p>Δpp = (p1 - p0) * 100. SE via normal approx:
<code class="docutils literal notranslate"><span class="pre">100*sqrt(p1(1-p1)/n1</span> <span class="pre">+</span> <span class="pre">p0(1-p0)/n0)</span></code>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.temperature_effects">
<span id="src-analysis-temperature-effects-module"></span><h2>src.analysis.temperature_effects module<a class="headerlink" href="#module-src.analysis.temperature_effects" title="Link to this heading">¶</a></h2>
<section id="temperature-effects-py-parallel-updated-to-support-math2-7b-joint-plotting">
<h3>temperature_effects.py  (parallel; updated to support Math2/7B &amp; joint plotting)<a class="headerlink" href="#temperature-effects-py-parallel-updated-to-support-math2-7b-joint-plotting" title="Link to this heading">¶</a></h3>
<p>Temperature-focused shift table (raw effect + AME) with fast parallel loading.</p>
</section>
<section id="new-in-this-version">
<h3>New in this version<a class="headerlink" href="#new-in-this-version" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Supports a second Math series (e.g., Qwen-7B) via –math2_tpl/–label_math2</p></li>
<li><p>Per-temperature raw-effect aggregation includes Math2</p></li>
<li><p>Plot shows Math and Math2 as separate series (others are skipped if absent)</p></li>
<li><p>Backward compatible with older usage (Crossword/Math/Carpark only)</p></li>
<li><p>Robust tick handling: x-axis uses the exact temperatures you passed</p></li>
</ul>
</section>
<section id="parallelism">
<h3>Parallelism<a class="headerlink" href="#parallelism" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>–workers 40          number of processes/threads (default: 40)
–parallel process    process (default) or thread pool
–chunksize N         batching for executor.map</p>
</div></blockquote>
<p>Everything else is as before (step caps, robust correctness, per-temp CSV+plot).</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">AnalysisContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_subset_native</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step_eff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_thr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_set</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#AnalysisContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<p>Immutable configuration for the main aggregation loop.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Namespace</span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.args" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.carpark_op">
<span class="sig-name descname"><span class="pre">carpark_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.carpark_op" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.carpark_thr">
<span class="sig-name descname"><span class="pre">carpark_thr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.carpark_thr" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.gpt_keys">
<span class="sig-name descname"><span class="pre">gpt_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.gpt_keys" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.gpt_subset_native">
<span class="sig-name descname"><span class="pre">gpt_subset_native</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.gpt_subset_native" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.max_step_eff">
<span class="sig-name descname"><span class="pre">max_step_eff</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.max_step_eff" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.AnalysisContext.skip_set">
<span class="sig-name descname"><span class="pre">skip_set</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span></em><a class="headerlink" href="#src.analysis.temperature_effects.AnalysisContext.skip_set" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">ParallelConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpt_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpt_subset_native</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carpark_thr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#ParallelConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<p>Configuration for parallel loading and gating of records.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.carpark_op">
<span class="sig-name descname"><span class="pre">carpark_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.carpark_op" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.carpark_thr">
<span class="sig-name descname"><span class="pre">carpark_thr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.carpark_thr" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.chunksize">
<span class="sig-name descname"><span class="pre">chunksize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.chunksize" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 9</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.gpt_keys">
<span class="sig-name descname"><span class="pre">gpt_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.gpt_keys" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.gpt_subset_native">
<span class="sig-name descname"><span class="pre">gpt_subset_native</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.gpt_subset_native" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.max_step" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.min_step" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.parallel_mode">
<span class="sig-name descname"><span class="pre">parallel_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.parallel_mode" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 8</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.temp_value">
<span class="sig-name descname"><span class="pre">temp_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.temp_value" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ParallelConfig.workers">
<span class="sig-name descname"><span class="pre">workers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.temperature_effects.ParallelConfig.workers" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">PlotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pertemp_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_temps_sorted</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#PlotConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<p>Configuration for plotting raw effects vs temperature.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.dpi">
<span class="sig-name descname"><span class="pre">dpi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.dpi" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.label_map">
<span class="sig-name descname"><span class="pre">label_map</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.label_map" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.out_pdf">
<span class="sig-name descname"><span class="pre">out_pdf</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.out_pdf" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.out_png">
<span class="sig-name descname"><span class="pre">out_png</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.out_png" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.pertemp_df">
<span class="sig-name descname"><span class="pre">pertemp_df</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.pertemp_df" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.title" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.PlotConfig.x_temps_sorted">
<span class="sig-name descname"><span class="pre">x_temps_sorted</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.temperature_effects.PlotConfig.x_temps_sorted" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.ame_glm_temp">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">ame_glm_temp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub_all_temps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#ame_glm_temp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.ame_glm_temp" title="Link to this definition">¶</a></dt>
<dd><p>Fit a GLM and return the AME of shift along with its p-value.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.load_rows_parallel">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">load_rows_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_by_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig" title="src.analysis.temperature_effects.ParallelConfig"><span class="pre">ParallelConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#load_rows_parallel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.load_rows_parallel" title="Link to this definition">¶</a></dt>
<dd><p>Load and gate rows in parallel across all domains.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.main" title="Link to this definition">¶</a></dt>
<dd><p>Entry point: parse CLI args, run analysis, and emit outputs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.make_plot">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">make_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig" title="src.analysis.temperature_effects.PlotConfig"><span class="pre">PlotConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#make_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.make_plot" title="Link to this definition">¶</a></dt>
<dd><p>Plot raw effects vs temperature for each domain.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temperature_effects.per_temp_delta">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects.</span></span><span class="sig-name descname"><span class="pre">per_temp_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_temp_dom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/temperature_effects.html#per_temp_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects.per_temp_delta" title="Link to this definition">¶</a></dt>
<dd><p>Compute per-temperature delta (pp) and its standard error.</p>
</dd></dl>

</section>
<section id="module-src.analysis.temperature_effects_cli">
<span id="src-analysis-temperature-effects-cli-module"></span><h2>src.analysis.temperature_effects_cli module<a class="headerlink" href="#module-src.analysis.temperature_effects_cli" title="Link to this heading">¶</a></h2>
<p>CLI argument construction for <code class="docutils literal notranslate"><span class="pre">temperature_effects.py</span></code>.</p>
<p>This module keeps the main analysis script smaller and focused on the core
computation, while centralizing argument definitions used by the CLI entrypoint.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.temperature_effects_cli.build_temperature_effects_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.temperature_effects_cli.</span></span><span class="sig-name descname"><span class="pre">build_temperature_effects_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/temperature_effects_cli.html#build_temperature_effects_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.temperature_effects_cli.build_temperature_effects_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Build and return the argument parser for the temperature-effects script.</p>
</dd></dl>

</section>
<section id="module-src.analysis.uncertainty_bucket_effects">
<span id="src-analysis-uncertainty-bucket-effects-module"></span><h2>src.analysis.uncertainty_bucket_effects module<a class="headerlink" href="#module-src.analysis.uncertainty_bucket_effects" title="Link to this heading">¶</a></h2>
<p>Compatibility wrapper for <code class="docutils literal notranslate"><span class="pre">uncertainty_bucket_effects</span></code>.</p>
<p>The full implementation lives in <a class="reference internal" href="#module-src.analysis.uncertainty_bucket_effects_impl" title="src.analysis.uncertainty_bucket_effects_impl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">src.analysis.uncertainty_bucket_effects_impl</span></code></a>;
this module simply forwards <code class="docutils literal notranslate"><span class="pre">main()</span></code> so existing automation and docs do not
need to change their import paths.</p>
</section>
<section id="module-src.analysis.uncertainty_bucket_effects_impl">
<span id="src-analysis-uncertainty-bucket-effects-impl-module"></span><h2>src.analysis.uncertainty_bucket_effects_impl module<a class="headerlink" href="#module-src.analysis.uncertainty_bucket_effects_impl" title="Link to this heading">¶</a></h2>
<p>Uncertainty buckets: Aha vs No-Aha (accuracy, odds, effects)
Qwen-7B &amp; Llama-8B only; all temperatures &amp; steps</p>
<p>Adds (kept from 1.5B script):
- Stratified CMH test (domain×entropy-bin strata) on P(correct | shift)
- GLM LRT “ANOVA” with stratum fixed effects
- Domain-wise two-proportion tests and pooled test
- Tidy CSV + concise console summary</p>
<p>NEW for 7B/8B:
- Flexible discovery: finds directories whose names include</p>
<blockquote>
<div><p>(qwen &amp; 7b) or (llama &amp; 8b), plus domain (math/xword/carpark) and temp tokens.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>Per-model global regressions:</dt><dd><ol class="loweralpha simple">
<li><p>Training stage:   correct ~ C(problem_id) + step_std + shift</p></li>
<li><p>Temperature:      correct ~ C(problem_id) + C(temp) + shift</p></li>
</ol>
</dd>
</dl>
<p>-&gt; Produces N, shift share, p(correct|S=1), Δpp, AME, p-value.</p>
</li>
</ul>
<p>Multi-metric runner:
- Single metric: use –metric entropy_answer|entropy|entropy_think
- Multiple: use –metrics entropy_answer entropy entropy_think answer_plus_think
- Default (no –metric/–metrics): runs all four.</p>
<p>Binning:
- fixed edges via –fixed_bins “0,0.5,1,2,inf”
- or equal-count bins via –equal_n_bins –bins K (global/domain scope)</p>
<p>Only steps &lt;= 1000 are loaded by default (hard cap).</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">BootstrapConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">draws</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#BootstrapConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Bootstrap settings for AME estimation.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig.draws">
<span class="sig-name descname"><span class="pre">draws</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig.draws" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig.seed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">BucketOutputPaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aha_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">odds_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effects_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#BucketOutputPaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>File paths for bucket-level CSV outputs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.aha_csv">
<span class="sig-name descname"><span class="pre">aha_csv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.aha_csv" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.combined_csv">
<span class="sig-name descname"><span class="pre">combined_csv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.combined_csv" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.effects_csv">
<span class="sig-name descname"><span class="pre">effects_csv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.effects_csv" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.odds_csv">
<span class="sig-name descname"><span class="pre">odds_csv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.odds_csv" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">RootDiscoveryConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">want_models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">want_domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#RootDiscoveryConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for discovering model/domain roots for 7B/8B models.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.low_alias">
<span class="sig-name descname"><span class="pre">low_alias</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.low_alias" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.temps">
<span class="sig-name descname"><span class="pre">temps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.temps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.verbose" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.want_domains">
<span class="sig-name descname"><span class="pre">want_domains</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.want_domains" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.want_models">
<span class="sig-name descname"><span class="pre">want_models</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.want_models" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">RowLoadConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">entropy_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_fallback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#RowLoadConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration controlling how pass-1 rows are loaded.</p>
<p>To keep the number of instance attributes small for style checks, most
optional settings are stored in a private options mapping and exposed
via properties.</p>
<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.carpark_op">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">carpark_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.carpark_op" title="Link to this definition">¶</a></dt>
<dd><p>Return the comparison operator used for Carpark scoring.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.carpark_threshold">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">carpark_threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.carpark_threshold" title="Link to this definition">¶</a></dt>
<dd><p>Return the numeric Carpark correctness threshold.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.combined_mode">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">combined_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.combined_mode" title="Link to this definition">¶</a></dt>
<dd><p>Return the mode for combining entropy signals.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.gpt_mode">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gpt_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.gpt_mode" title="Link to this definition">¶</a></dt>
<dd><p>Return which GPT judge subset to use when reading rows.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.model_label">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.model_label" title="Link to this definition">¶</a></dt>
<dd><p>Return the human-readable model label, if provided.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.temp">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">temp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.temp" title="Link to this definition">¶</a></dt>
<dd><p>Return the sampling temperature override, if any.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.verbose">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">verbose</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.verbose" title="Link to this definition">¶</a></dt>
<dd><p>Return whether verbose logging is enabled.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">RunForModelConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roots_for_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#RunForModelConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration for running all bucket-level analyses for a single model.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.args" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.combined_mode">
<span class="sig-name descname"><span class="pre">combined_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.combined_mode" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.max_step">
<span class="sig-name descname"><span class="pre">max_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.max_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.metric">
<span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.metric" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.min_step">
<span class="sig-name descname"><span class="pre">min_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.min_step" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.model_label">
<span class="sig-name descname"><span class="pre">model_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.model_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.roots_for_model">
<span class="sig-name descname"><span class="pre">roots_for_model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.roots_for_model" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">ShiftBucketCounts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_no_shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#ShiftBucketCounts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Summary counts for shift vs. no-shift outcomes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.correct_no_shift">
<span class="sig-name descname"><span class="pre">correct_no_shift</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.correct_no_shift" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.correct_shift">
<span class="sig-name descname"><span class="pre">correct_shift</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.correct_shift" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.no_shift">
<span class="sig-name descname"><span class="pre">no_shift</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.no_shift" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.shift">
<span class="sig-name descname"><span class="pre">shift</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.shift" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.total">
<span class="sig-name descname"><span class="pre">total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.total" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.aggregate_combined">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">aggregate_combined</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aha_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_global</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#aggregate_combined"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.aggregate_combined" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate per-domain Aha rows into a global combined-by-bin DataFrame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.assign_bins">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">assign_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_by_dom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#assign_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.assign_bins" title="Link to this definition">¶</a></dt>
<dd><p>Assign entropy values to integer bins given per-domain bin edges.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.assign_bins_equal_count">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">assign_bins_equal_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tie_break</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'stable'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#assign_bins_equal_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.assign_bins_equal_count" title="Link to this definition">¶</a></dt>
<dd><p>Assign equal-count entropy bins, either globally or per-domain.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.assign_bins_fixed">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">assign_bins_fixed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_by_dom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_center_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#assign_bins_fixed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.assign_bins_fixed" title="Link to this definition">¶</a></dt>
<dd><p>Assign bins for fixed, explicitly provided edges (per domain).</p>
<p>The final open-ended bin is centered using <code class="docutils literal notranslate"><span class="pre">last_center_offset</span></code> when the
top edge is infinite.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.build_edges">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">build_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#build_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.build_edges" title="Link to this definition">¶</a></dt>
<dd><p>Build per-domain entropy bin edges given a method and scope.</p>
<p><code class="docutils literal notranslate"><span class="pre">scope=&quot;global&quot;</span></code> reuses one set of edges for every domain; otherwise,
the edges are computed per domain using either uniform spacing or quantiles.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.discover_roots_7b8b">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">discover_roots_7b8b</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig" title="src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig"><span class="pre">RootDiscoveryConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#discover_roots_7b8b"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.discover_roots_7b8b" title="Link to this definition">¶</a></dt>
<dd><p>Returns: mapping_by_model[model_key][T][domain] = path
Prefers the longest path string if duplicates exist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.get_pid">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">get_pid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#get_pid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.get_pid" title="Link to this definition">¶</a></dt>
<dd><p>Domain-agnostic problem identifier, wrapper around shared get_problem_id
to preserve the previous behavior (namespacing by domain happens later).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.glm_ame_bucket">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">glm_ame_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_boot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#glm_ame_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.glm_ame_bucket" title="Link to this definition">¶</a></dt>
<dd><p>Estimate AME(shift) and its bootstrap CI within a single entropy bucket.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.load_rows">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig" title="src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig"><span class="pre">RowLoadConfig</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#load_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Load per-problem rows from JSONL result files for a given domain and split.</p>
<p>The loader applies step filters, computes entropy from the requested source,
derives correctness (with a domain-specific Carpark rule), and attaches
GPT-based Aha shift indicators and metadata for downstream analyses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.main">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.main" title="Link to this definition">¶</a></dt>
<dd><p>CLI entry-point for temperature-bucket uncertainty analyses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.newcombe_diff_ci">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">newcombe_diff_ci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k_shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_control</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_control</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#newcombe_diff_ci"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.newcombe_diff_ci" title="Link to this definition">¶</a></dt>
<dd><p>Newcombe interval for the difference in two proportions, in percentage points.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.print_anova_quick">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">print_anova_quick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anova_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#print_anova_quick"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.print_anova_quick" title="Link to this definition">¶</a></dt>
<dd><p>Print a condensed textual summary of ANOVA/CMH results.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.run_anova_and_cmh">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">run_anova_and_cmh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_binned</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#run_anova_and_cmh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.run_anova_and_cmh" title="Link to this definition">¶</a></dt>
<dd><p>Summarize shift correctness effects via CMH, GLM LRT, and domain-wise tests.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.run_for_model">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">run_for_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig" title="src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig"><span class="pre">RunForModelConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#run_for_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.run_for_model" title="Link to this definition">¶</a></dt>
<dd><p>Collect all bucket tables and regressions for the provided model/metric.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.run_model_regressions">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">run_model_regressions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug_base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#run_model_regressions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.run_model_regressions" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Runs:</dt><dd><ol class="loweralpha simple">
<li><p>correct ~ C(problem_id) + step_std + shift</p></li>
<li><p>correct ~ C(problem_id) + C(temp_cat) + shift</p></li>
</ol>
</dd>
</dl>
<p>Returns tidy df; also writes CSV.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.uncertainty_bucket_effects_impl.scan_step_jsonls">
<span class="sig-prename descclassname"><span class="pre">src.analysis.uncertainty_bucket_effects_impl.</span></span><span class="sig-name descname"><span class="pre">scan_step_jsonls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/uncertainty_bucket_effects_impl.html#scan_step_jsonls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.uncertainty_bucket_effects_impl.scan_step_jsonls" title="Link to this definition">¶</a></dt>
<dd><p>Recursively find step*/…/<a href="#id12"><span class="problematic" id="id13">*</span></a>.jsonl files under <code class="docutils literal notranslate"><span class="pre">dir_path</span></code>, filtered by <code class="docutils literal notranslate"><span class="pre">split</span></code>.</p>
</dd></dl>

</section>
<section id="module-src.analysis.utils">
<span id="src-analysis-utils-module"></span><h2>src.analysis.utils module<a class="headerlink" href="#module-src.analysis.utils" title="Link to this heading">¶</a></h2>
<p>Shared low-level helpers for analysis scripts.</p>
<p>This module intentionally keeps dependencies light and behavior conservative so
it can be safely imported from many one-off scripts.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.analysis.utils.FormalThresholds">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">FormalThresholds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prior_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/utils.html#FormalThresholds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.FormalThresholds" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Threshold configuration used by Formal Aha helpers.</p>
<p><code class="docutils literal notranslate"><span class="pre">delta1</span></code> and <code class="docutils literal notranslate"><span class="pre">delta2</span></code> control prior failure/stability; <code class="docutils literal notranslate"><span class="pre">min_prior_steps</span></code>
is the minimum number of previous steps required; <code class="docutils literal notranslate"><span class="pre">delta3</span></code> is an optional
gain threshold used only by <a class="reference internal" href="#src.analysis.utils.formal_flags_with_gain" title="src.analysis.utils.formal_flags_with_gain"><code class="xref py py-func docutils literal notranslate"><span class="pre">formal_flags_with_gain()</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.utils.FormalThresholds.delta1">
<span class="sig-name descname"><span class="pre">delta1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.utils.FormalThresholds.delta1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.utils.FormalThresholds.delta2">
<span class="sig-name descname"><span class="pre">delta2</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#src.analysis.utils.FormalThresholds.delta2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.utils.FormalThresholds.delta3">
<span class="sig-name descname"><span class="pre">delta3</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#src.analysis.utils.FormalThresholds.delta3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.analysis.utils.FormalThresholds.min_prior_steps">
<span class="sig-name descname"><span class="pre">min_prior_steps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#src.analysis.utils.FormalThresholds.min_prior_steps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_carpark_threshold_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_carpark_threshold_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_carpark_threshold_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_carpark_threshold_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared Carpark soft-reward threshold arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_common_plot_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_common_plot_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_common_plot_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_common_plot_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared output/figure arguments used by multiple analysis scripts.</p>
<dl class="simple">
<dt>These are:</dt><dd><p>–out_dir, –dataset_name, –model_name, –dpi, –make_plot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_domain_root_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_domain_root_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_domain_root_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_domain_root_args" title="Link to this definition">¶</a></dt>
<dd><p>Register the standard <code class="docutils literal notranslate"><span class="pre">--roots_*</span></code> arguments used by many analysis CLIs.</p>
<p>The helper returns <code class="docutils literal notranslate"><span class="pre">parser</span></code> to support fluent-style setup.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_formal_threshold_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_formal_threshold_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_formal_threshold_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_formal_threshold_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared formal-aha threshold arguments (δ1, δ2, min_prior_steps).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_gpt_label_policy_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_gpt_label_policy_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_gpt_label_policy_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_gpt_label_policy_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared GPT label policy arguments used by H1/H3-style analyses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_gpt_mode_arg">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_gpt_mode_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_gpt_mode_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_gpt_mode_arg" title="Link to this definition">¶</a></dt>
<dd><p>Add the shared <code class="docutils literal notranslate"><span class="pre">--gpt_mode</span></code> argument used across analysis scripts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_gpt_step_and_carpark_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_gpt_step_and_carpark_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_gpt_step_and_carpark_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_gpt_step_and_carpark_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared GPT / step-range / Carpark threshold arguments used by
multiple plotting scripts (graph_1, temp_graph).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_mixed_results_root_and_domain_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_mixed_results_root_and_domain_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MIXED'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Qwen2.5-1.5B'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_mixed_results_root_and_domain_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_mixed_results_root_and_domain_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared domain root arguments plus optional <code class="docutils literal notranslate"><span class="pre">results_root</span></code>, <code class="docutils literal notranslate"><span class="pre">--split</span></code>,
and basic output metadata for mixed-domain plots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_optional_results_root_and_split_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_optional_results_root_and_split_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_optional_results_root_and_split_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_optional_results_root_and_split_args" title="Link to this definition">¶</a></dt>
<dd><p>Add an optional <code class="docutils literal notranslate"><span class="pre">results_root</span></code> positional and <code class="docutils literal notranslate"><span class="pre">--split</span></code> flag.</p>
<p>This matches the looser CLI used by some plotting scripts where
<code class="docutils literal notranslate"><span class="pre">results_root</span></code> can be omitted in favor of explicit per-domain roots.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_results_root_and_split_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_results_root_and_split_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_results_root_and_split_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_results_root_and_split_args" title="Link to this definition">¶</a></dt>
<dd><p>Add the common <code class="docutils literal notranslate"><span class="pre">results_root</span></code> positional and optional <code class="docutils literal notranslate"><span class="pre">--split</span></code> flag.</p>
<p>Used by several RQ entrypoints to keep CLI surfaces consistent.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_results_root_split_and_output_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_results_root_split_and_output_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_root_optional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_results_root_split_and_output_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_results_root_split_and_output_args" title="Link to this definition">¶</a></dt>
<dd><p>Add a <code class="docutils literal notranslate"><span class="pre">results_root</span></code> positional (required or optional), <code class="docutils literal notranslate"><span class="pre">--split</span></code>,
and basic output metadata flags used by multiple RQ-style scripts.</p>
<p>This combines <a class="reference internal" href="#src.analysis.utils.add_results_root_and_split_args" title="src.analysis.utils.add_results_root_and_split_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_results_root_and_split_args()</span></code></a> /
<a class="reference internal" href="#src.analysis.utils.add_optional_results_root_and_split_args" title="src.analysis.utils.add_optional_results_root_and_split_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_optional_results_root_and_split_args()</span></code></a> with shared
<code class="docutils literal notranslate"><span class="pre">--out_dir</span></code>, <code class="docutils literal notranslate"><span class="pre">--dataset_name</span></code> and <code class="docutils literal notranslate"><span class="pre">--model_name</span></code> arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_run_rq2_flag">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_run_rq2_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_run_rq2_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_run_rq2_flag" title="Link to this definition">¶</a></dt>
<dd><p>Add the shared <code class="docutils literal notranslate"><span class="pre">--run_rq2</span></code> flag used by figure-style scripts that can
optionally invoke the RQ2 analysis first.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_split_and_gpt_mode_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_split_and_gpt_mode_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'test'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_split_and_gpt_mode_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_split_and_gpt_mode_args" title="Link to this definition">¶</a></dt>
<dd><p>Convenience helper that adds both <code class="docutils literal notranslate"><span class="pre">--split</span></code> and <code class="docutils literal notranslate"><span class="pre">--gpt_mode</span></code> arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_split_and_out_dir_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_split_and_out_dir_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir_help</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_split_and_out_dir_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_split_and_out_dir_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared <code class="docutils literal notranslate"><span class="pre">--split</span></code> and <code class="docutils literal notranslate"><span class="pre">--out_dir</span></code> arguments used by RQ-style drivers.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_split_arg">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_split_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">&quot;Dataset</span> <span class="pre">split</span> <span class="pre">substring</span> <span class="pre">to</span> <span class="pre">filter</span> <span class="pre">filenames</span> <span class="pre">(e.g.,</span> <span class="pre">'test').&quot;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_split_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_split_arg" title="Link to this definition">¶</a></dt>
<dd><p>Add a <code class="docutils literal notranslate"><span class="pre">--split</span></code> argument with a configurable default and help text.</p>
<p>Most ad-hoc analysis scripts need the same <code class="docutils literal notranslate"><span class="pre">--split</span></code> flag; centralizing
it avoids repeating the literal <code class="docutils literal notranslate"><span class="pre">add_argument</span></code> block everywhere.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_standard_domain_root_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_standard_domain_root_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_standard_domain_root_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_standard_domain_root_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared <code class="docutils literal notranslate"><span class="pre">--root_*</span></code> domain root arguments plus an optional
<code class="docutils literal notranslate"><span class="pre">results_root</span></code> fallback used by several histogram/conditional scripts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_temp_scan_args">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_temp_scan_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_math3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_temp_scan_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_temp_scan_args" title="Link to this definition">¶</a></dt>
<dd><p>Add shared temperature / template CLI arguments used by temp_graph and
temperature_effects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.add_uncertainty_field_arg">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">add_uncertainty_field_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArgumentParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#add_uncertainty_field_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.add_uncertainty_field_arg" title="Link to this definition">¶</a></dt>
<dd><p>Add the shared <code class="docutils literal notranslate"><span class="pre">--unc_field</span></code> argument used by uncertainty plots.</p>
<p>The field controls which entropy-style quantity to treat as the primary
uncertainty measure: answer, overall, or think.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.apply_formal_marking">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">apply_formal_marking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">problem_step_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prior_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mark_formal_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#apply_formal_marking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.apply_formal_marking" title="Link to this definition">¶</a></dt>
<dd><p>Convenience wrapper to apply Formal Aha thresholds with a module-specific
<code class="docutils literal notranslate"><span class="pre">mark_formal</span></code> implementation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.both_get">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">both_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#both_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.both_get" title="Link to this definition">¶</a></dt>
<dd><p>Best-effort getter that prefers <code class="docutils literal notranslate"><span class="pre">pass1_data[key]</span></code> but falls back to the
top-level record when missing.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.build_mixed_root_arg_parser">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">build_mixed_root_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArgumentParser</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#build_mixed_root_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.build_mixed_root_arg_parser" title="Link to this definition">¶</a></dt>
<dd><p>Construct a base ArgumentParser with mixed-domain root and output args.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.build_results_root_argv">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">build_results_root_argv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#build_results_root_argv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.build_results_root_argv" title="Link to this definition">¶</a></dt>
<dd><p>Helper to build a standard [results_root, –split …] argv list for
delegating into H1/H3-style scripts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.build_roots_by_temp_from_templates">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">build_roots_by_temp_from_templates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">template_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#build_roots_by_temp_from_templates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.build_roots_by_temp_from_templates" title="Link to this definition">¶</a></dt>
<dd><p>Helper used by temp_graph / temperature_effects to turn a list of
temperatures + directory templates into a mapping:</p>
<blockquote>
<div><p>{ T_float: {domain_name -&gt; existing_path, …}, … }</p>
</div></blockquote>
<p>Only keeps entries where the formatted path exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.canon_equal">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">canon_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred_canon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#canon_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.canon_equal" title="Link to this definition">¶</a></dt>
<dd><p>Compare a canonical predicted answer to gold.</p>
<ul class="simple">
<li><p>If gold is a string, require exact match after stripping.</p></li>
<li><p>If gold is a list/tuple/set of strings, treat it as a set.</p></li>
<li><p>Otherwise, return None.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.choose_uncertainty">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">choose_uncertainty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'answer'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#choose_uncertainty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.choose_uncertainty" title="Link to this definition">¶</a></dt>
<dd><p>Pick an entropy-style uncertainty value from a PASS-1 dict.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pref</span></code> argument controls the priority order among
<code class="docutils literal notranslate"><span class="pre">entropy_answer</span></code>, <code class="docutils literal notranslate"><span class="pre">entropy</span></code> and <code class="docutils literal notranslate"><span class="pre">entropy_think</span></code> while treating
valid zeros as meaningful (unlike <code class="docutils literal notranslate"><span class="pre">or</span></code>-chaining).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.coerce_bool">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">coerce_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#coerce_bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.coerce_bool" title="Link to this definition">¶</a></dt>
<dd><p>Best-effort conversion to {0,1}.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>1/0 for recognized truthy/falsey values, or None if there is no
reasonable interpretation (e.g., complex structures).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.coerce_float">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">coerce_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#coerce_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.coerce_float" title="Link to this definition">¶</a></dt>
<dd><p>Best-effort conversion to float, returning None on failure instead of
raising.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.combined_entropy_from_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">combined_entropy_from_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#combined_entropy_from_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.combined_entropy_from_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Prefer combined ‘entropy’ if present; else average of think/answer when
both are available, else the first available of (think, answer).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.entropy_from_pass1">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">entropy_from_pass1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sum'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#entropy_from_pass1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.entropy_from_pass1" title="Link to this definition">¶</a></dt>
<dd><p>Compute a pass-1 entropy summary under a chosen mode.</p>
<dl>
<dt>Modes:</dt><dd><ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">entropy_think</span> <span class="pre">+</span> <span class="pre">entropy_answer</span></code> when available,</span></dt><dd><p>otherwise fall back to <code class="docutils literal notranslate"><span class="pre">entropy</span></code>.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;think&quot;</span></code>    : <code class="docutils literal notranslate"><span class="pre">entropy_think</span></code> with fallback to <code class="docutils literal notranslate"><span class="pre">entropy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;answer&quot;</span></code>   : <code class="docutils literal notranslate"><span class="pre">entropy_answer</span></code> with fallback to <code class="docutils literal notranslate"><span class="pre">entropy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;combined&quot;</span></code> : use <a class="reference internal" href="#src.analysis.utils.combined_entropy_from_pass1" title="src.analysis.utils.combined_entropy_from_pass1"><code class="xref py py-func docutils literal notranslate"><span class="pre">combined_entropy_from_pass1()</span></code></a>.</p></li>
<li><p>anything else    : fall back to the raw <code class="docutils literal notranslate"><span class="pre">entropy</span></code> field.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.extract_pass1_and_step">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">extract_pass1_and_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_from_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#extract_pass1_and_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.extract_pass1_and_step" title="Link to this definition">¶</a></dt>
<dd><p>Extract a robust PASS-1 object and integer step from a record.</p>
<p>Returns (pass1_dict, step_int); if either is unavailable or invalid,
returns ({}, None).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.first_nonempty_str">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">first_nonempty_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">xs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#first_nonempty_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.first_nonempty_str" title="Link to this definition">¶</a></dt>
<dd><p>Return the first non-empty string among the arguments, or None.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.formal_flags_from_series">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">formal_flags_from_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.utils.FormalThresholds" title="src.analysis.utils.FormalThresholds"><span class="pre">FormalThresholds</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#formal_flags_from_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.formal_flags_from_series" title="Link to this definition">¶</a></dt>
<dd><p>Compute Formal Aha flags for a single (problem, step) series.</p>
<p>Returns an <code class="docutils literal notranslate"><span class="pre">int</span></code> array of the same length as <code class="docutils literal notranslate"><span class="pre">freq</span></code> / <code class="docutils literal notranslate"><span class="pre">rate</span></code> /
<code class="docutils literal notranslate"><span class="pre">shift</span></code> with 1 where the Formal criteria are satisfied and 0 otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.formal_flags_with_gain">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">formal_flags_with_gain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_plus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.utils.FormalThresholds" title="src.analysis.utils.FormalThresholds"><span class="pre">FormalThresholds</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#formal_flags_with_gain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.formal_flags_with_gain" title="Link to this definition">¶</a></dt>
<dd><p>Formal flags that additionally enforce a minimum gain over prior accuracy.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">delta3</span></code> is None, this reduces to the standard Formal Aha criteria;
otherwise it also requires <code class="docutils literal notranslate"><span class="pre">p_correct_given_shift</span> <span class="pre">-</span> <span class="pre">freq_correct</span> <span class="pre">&gt;</span> <span class="pre">delta3</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.formal_prior_ok">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">formal_prior_ok</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.analysis.utils.FormalThresholds" title="src.analysis.utils.FormalThresholds"><span class="pre">FormalThresholds</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#formal_prior_ok"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.formal_prior_ok" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Shared check for Formal Aha marking:</dt><dd><ul class="simple">
<li><p>require at least <code class="docutils literal notranslate"><span class="pre">min_prior_steps</span></code> previous steps; and</p></li>
<li><p>prior failure: max(freq[:index]) &lt; delta1; and</p></li>
<li><p>prior stability: max(rate[:index]) &lt; delta2.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.get_aha_gpt_flag">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">get_aha_gpt_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pass1_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#get_aha_gpt_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.get_aha_gpt_flag" title="Link to this definition">¶</a></dt>
<dd><p>Return the first truthy GPT/LLM shift flag available on <code class="docutils literal notranslate"><span class="pre">pass1</span></code> or root.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.get_problem_id">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">get_problem_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#get_problem_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.get_problem_id" title="Link to this definition">¶</a></dt>
<dd><p>Heuristic problem identifier that works across math/xword/carpark.</p>
<p>Prefers explicit problem-like keys; falls back to sample index when
available.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.gpt_keys_for_mode">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">gpt_keys_for_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpt_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#gpt_keys_for_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.gpt_keys_for_mode" title="Link to this definition">¶</a></dt>
<dd><p>Standard GPT shift label keys for a given mode.</p>
<p><code class="docutils literal notranslate"><span class="pre">gpt_mode</span></code> should be <code class="docutils literal notranslate"><span class="pre">&quot;canonical&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;broad&quot;</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.lighten_hex">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">lighten_hex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hex_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.65</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#lighten_hex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.lighten_hex" title="Link to this definition">¶</a></dt>
<dd><p>Lighten a hex color by interpolating towards white.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.load_legacy_main_from_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">load_legacy_main_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#load_legacy_main_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.load_legacy_main_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Shared helper for legacy wrappers (figure-<a href="#id14"><span class="problematic" id="id15">*</span></a>, math_plots, h4_analysis).</p>
<p>Loads a legacy script by path and returns its <code class="docutils literal notranslate"><span class="pre">main</span></code> callable, raising
<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code> with a clear message if the script cannot be imported or
does not define <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.nat_step_from_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">nat_step_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#nat_step_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.nat_step_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Try to infer an integer training step from a path or filename.</p>
<p>Uses a collection of regexes that cover the various conventions used in
analysis scripts (step123, global_step-123, checkpoint_123, …).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.parse_passes_argument">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">parse_passes_argument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passes_arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#parse_passes_argument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.parse_passes_argument" title="Link to this definition">¶</a></dt>
<dd><p>Parse a comma-separated <code class="docutils literal notranslate"><span class="pre">--passes</span></code> argument into a non-empty list.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.parse_temp_from_dir">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">parse_temp_from_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#parse_temp_from_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.parse_temp_from_dir" title="Link to this definition">¶</a></dt>
<dd><p>Infer temperature from a directory name.</p>
<dl class="simple">
<dt>Supports tokens like:</dt><dd><p>temp-0.7, 0.7-temp, temp-low, low-temp</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.problem_key_from_record">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">problem_key_from_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#problem_key_from_record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.problem_key_from_record" title="Link to this definition">¶</a></dt>
<dd><p>Robust problem key for math-style logs, matching the conventions used in
H1/H3 analyses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.record_matches_split">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">record_matches_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#record_matches_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.record_matches_split" title="Link to this definition">¶</a></dt>
<dd><p>Return True if a record is compatible with a requested <code class="docutils literal notranslate"><span class="pre">split</span></code> value.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">split_value</span></code> is truthy, records that carry a non-empty <code class="docutils literal notranslate"><span class="pre">split</span></code>
field must match it exactly; records without a split label are kept.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.run_module_main_with_argv">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">run_module_main_with_argv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_main</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#run_module_main_with_argv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.run_module_main_with_argv" title="Link to this definition">¶</a></dt>
<dd><p>Invoke a module-style <code class="docutils literal notranslate"><span class="pre">main</span></code> with a synthetic <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>, preserving
the caller’s arguments.</p>
<p>Shared by RQ-style orchestration modules so they do not need to reimplement
the same wrapper.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.slugify">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">slugify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#slugify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.slugify" title="Link to this definition">¶</a></dt>
<dd><p>Convert an arbitrary string into a filesystem-friendly slug.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.standardize_uncertainty">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">standardize_uncertainty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'uncertainty'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'uncertainty_std'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/utils.html#standardize_uncertainty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.standardize_uncertainty" title="Link to this definition">¶</a></dt>
<dd><p>Proxy to <a class="reference internal" href="src.analysis.common.html#src.analysis.common.uncertainty.standardize_uncertainty" title="src.analysis.common.uncertainty.standardize_uncertainty"><code class="xref py py-func docutils literal notranslate"><span class="pre">src.analysis.common.uncertainty.standardize_uncertainty()</span></code></a>.</p>
<p>Imported lazily to avoid mandatory pandas dependency at module import time.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.standardize_uncertainty_with_stats">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">standardize_uncertainty_with_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'uncertainty'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'uncertainty_std'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/src/analysis/utils.html#standardize_uncertainty_with_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.standardize_uncertainty_with_stats" title="Link to this definition">¶</a></dt>
<dd><p>Proxy to <a class="reference internal" href="src.analysis.common.html#src.analysis.common.uncertainty.standardize_uncertainty_with_stats" title="src.analysis.common.uncertainty.standardize_uncertainty_with_stats"><code class="xref py py-func docutils literal notranslate"><span class="pre">src.analysis.common.uncertainty.standardize_uncertainty_with_stats()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.step_from_rec_or_path">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">step_from_rec_or_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#step_from_rec_or_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.step_from_rec_or_path" title="Link to this definition">¶</a></dt>
<dd><p>Extract an integer training step from a record, falling back to the file
path via <a class="reference internal" href="#src.analysis.utils.nat_step_from_path" title="src.analysis.utils.nat_step_from_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">nat_step_from_path()</span></code></a> when needed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.step_from_record_if_within_bounds">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">step_from_record_if_within_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#step_from_record_if_within_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.step_from_record_if_within_bounds" title="Link to this definition">¶</a></dt>
<dd><p>Combined split / step helper used by entropy-style scripts.</p>
<p>Returns an integer step inferred via <a class="reference internal" href="#src.analysis.utils.step_from_rec_or_path" title="src.analysis.utils.step_from_rec_or_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">step_from_rec_or_path()</span></code></a>
when the record passes an optional <code class="docutils literal notranslate"><span class="pre">split</span></code> filter and lies within
the <code class="docutils literal notranslate"><span class="pre">[min_step,</span> <span class="pre">max_step]</span></code> bounds; otherwise returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.step_within_bounds">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">step_within_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#step_within_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.step_within_bounds" title="Link to this definition">¶</a></dt>
<dd><p>Return True if <code class="docutils literal notranslate"><span class="pre">step</span></code> lies within the optional [min_step, max_step] bounds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.analysis.utils.truthy_flag">
<span class="sig-prename descclassname"><span class="pre">src.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">truthy_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/src/analysis/utils.html#truthy_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.utils.truthy_flag" title="Link to this definition">¶</a></dt>
<dd><p>Return True for common “truthy” encodings (booleans, ints, strings).</p>
</dd></dl>

</section>
<section id="module-src.analysis">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-src.analysis" title="Link to this heading">¶</a></h2>
<p>Analysis package initialization.</p>
<p>This module marks <code class="docutils literal notranslate"><span class="pre">src.analysis</span></code> as a regular package and provides a small
import surface for the main RQ entrypoints and commonly used helpers. Imports
are resolved lazily to avoid side effects (for example, matplotlib style loads)
when only a subset of modules is needed.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="src.analysis.common.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">src.analysis.common package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="src.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">src package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">src.analysis package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-src.analysis.aha_utils">src.analysis.aha_utils module</a><ul>
<li><a class="reference internal" href="#src.analysis.aha_utils.aha_native"><code class="docutils literal notranslate"><span class="pre">aha_native()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.aha_utils.any_keys_true"><code class="docutils literal notranslate"><span class="pre">any_keys_true()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.aha_utils.cue_gate_for_llm"><code class="docutils literal notranslate"><span class="pre">cue_gate_for_llm()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.annotate_progress">src.analysis.annotate_progress module</a><ul>
<li><a class="reference internal" href="#src.analysis.annotate_progress.count_progress"><code class="docutils literal notranslate"><span class="pre">count_progress()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.annotate_progress.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.annotate_progress.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.cue_delta_accuracy">src.analysis.cue_delta_accuracy module</a><ul>
<li><a class="reference internal" href="#src.analysis.cue_delta_accuracy.cue_delta_accuracy"><code class="docutils literal notranslate"><span class="pre">cue_delta_accuracy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.cue_delta_accuracy.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.cue_delta_accuracy.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.cue_entropy_regression">src.analysis.cue_entropy_regression module</a><ul>
<li><a class="reference internal" href="#src.analysis.cue_entropy_regression.cleanup_temp_path"><code class="docutils literal notranslate"><span class="pre">cleanup_temp_path()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.cue_entropy_regression.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.cue_entropy_regression.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.entropy">src.analysis.entropy module</a><ul>
<li><a class="reference internal" href="#src.analysis.entropy.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy.ttest_ind"><code class="docutils literal notranslate"><span class="pre">ttest_ind()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.entropy_bin_regression">src.analysis.entropy_bin_regression module</a><ul>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs"><code class="docutils literal notranslate"><span class="pre">BinContrastPlotInputs</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.ame_false"><code class="docutils literal notranslate"><span class="pre">BinContrastPlotInputs.ame_false</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.ame_none"><code class="docutils literal notranslate"><span class="pre">BinContrastPlotInputs.ame_none</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.out_pdf"><code class="docutils literal notranslate"><span class="pre">BinContrastPlotInputs.out_pdf</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.out_png"><code class="docutils literal notranslate"><span class="pre">BinContrastPlotInputs.out_png</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.BinContrastPlotInputs.title"><code class="docutils literal notranslate"><span class="pre">BinContrastPlotInputs.title</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.DomainRunContext"><code class="docutils literal notranslate"><span class="pre">DomainRunContext</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.DomainRunContext.domain"><code class="docutils literal notranslate"><span class="pre">DomainRunContext.domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.DomainRunContext.entropy_mode"><code class="docutils literal notranslate"><span class="pre">DomainRunContext.entropy_mode</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.DomainRunContext.out_dir"><code class="docutils literal notranslate"><span class="pre">DomainRunContext.out_dir</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.DomainRunContext.slug_mode"><code class="docutils literal notranslate"><span class="pre">DomainRunContext.slug_mode</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig"><code class="docutils literal notranslate"><span class="pre">RowBuildConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig.carpark_op"><code class="docutils literal notranslate"><span class="pre">RowBuildConfig.carpark_op</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig.carpark_thr"><code class="docutils literal notranslate"><span class="pre">RowBuildConfig.carpark_thr</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig.gpt_mode"><code class="docutils literal notranslate"><span class="pre">RowBuildConfig.gpt_mode</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig.max_step"><code class="docutils literal notranslate"><span class="pre">RowBuildConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.RowBuildConfig.min_step"><code class="docutils literal notranslate"><span class="pre">RowBuildConfig.min_step</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.apply_binning_cut"><code class="docutils literal notranslate"><span class="pre">apply_binning_cut()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.apply_equal_n_binning"><code class="docutils literal notranslate"><span class="pre">apply_equal_n_binning()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.both_get"><code class="docutils literal notranslate"><span class="pre">both_get()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.build_rows"><code class="docutils literal notranslate"><span class="pre">build_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.compute_bin_ame"><code class="docutils literal notranslate"><span class="pre">compute_bin_ame()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.compute_edges"><code class="docutils literal notranslate"><span class="pre">compute_edges()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.compute_shift_at_1"><code class="docutils literal notranslate"><span class="pre">compute_shift_at_1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.domain_from_path"><code class="docutils literal notranslate"><span class="pre">domain_from_path()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.entropy_from_pass1"><code class="docutils literal notranslate"><span class="pre">entropy_from_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.fit_clustered_glm"><code class="docutils literal notranslate"><span class="pre">fit_clustered_glm()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.get_problem"><code class="docutils literal notranslate"><span class="pre">get_problem()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.get_sample"><code class="docutils literal notranslate"><span class="pre">get_sample()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.label_interval"><code class="docutils literal notranslate"><span class="pre">label_interval()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.parse_comma_list"><code class="docutils literal notranslate"><span class="pre">parse_comma_list()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.parse_fixed_bins"><code class="docutils literal notranslate"><span class="pre">parse_fixed_bins()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.plot_bin_contrasts"><code class="docutils literal notranslate"><span class="pre">plot_bin_contrasts()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.prune_subset"><code class="docutils literal notranslate"><span class="pre">prune_subset()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.entropy_bin_regression.scan_files"><code class="docutils literal notranslate"><span class="pre">scan_files()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.export_cue_variants">src.analysis.export_cue_variants module</a><ul>
<li><a class="reference internal" href="#src.analysis.export_cue_variants.build_argparser"><code class="docutils literal notranslate"><span class="pre">build_argparser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.export_cue_variants.export_cue_variants"><code class="docutils literal notranslate"><span class="pre">export_cue_variants()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.export_cue_variants.iter_flat_rows"><code class="docutils literal notranslate"><span class="pre">iter_flat_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.export_cue_variants.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_1">src.analysis.figure_1 module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_1.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2">src.analysis.figure_2 module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_accuracy">src.analysis.figure_2_accuracy module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracyPlotConfig"><code class="docutils literal notranslate"><span class="pre">AccuracyPlotConfig</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.accuracy"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData.accuracy</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.centers"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData.centers</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.lower_bounds"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData.lower_bounds</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.num_correct"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData.num_correct</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.num_total"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData.num_total</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesData.upper_bounds"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesData.upper_bounds</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesSpec</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec.color"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesSpec.color</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec.label"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesSpec.label</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.AccuracySeriesSpec.mask"><code class="docutils literal notranslate"><span class="pre">AccuracySeriesSpec.mask</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.per_bin_accuracy"><code class="docutils literal notranslate"><span class="pre">per_bin_accuracy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_accuracy.plot_accuracy_by_bin_overlay"><code class="docutils literal notranslate"><span class="pre">plot_accuracy_by_bin_overlay()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_data">src.analysis.figure_2_data module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_data.compute_correct_hist"><code class="docutils literal notranslate"><span class="pre">compute_correct_hist()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_data.density_from_hist"><code class="docutils literal notranslate"><span class="pre">density_from_hist()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_data.load_pass1_rows"><code class="docutils literal notranslate"><span class="pre">load_pass1_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_data.make_edges_from_std"><code class="docutils literal notranslate"><span class="pre">make_edges_from_std()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_data.wilson_ci"><code class="docutils literal notranslate"><span class="pre">wilson_ci()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_density">src.analysis.figure_2_density module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_density.DensityPlotConfig"><code class="docutils literal notranslate"><span class="pre">DensityPlotConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_density.DensityPlotConfig.smooth_bins"><code class="docutils literal notranslate"><span class="pre">DensityPlotConfig.smooth_bins</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_density.FourHistConfig"><code class="docutils literal notranslate"><span class="pre">FourHistConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_density.FourHistConfig.edges"><code class="docutils literal notranslate"><span class="pre">FourHistConfig.edges</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_density.plot_correct_incorrect_by_type"><code class="docutils literal notranslate"><span class="pre">plot_correct_incorrect_by_type()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_density.plot_four_correct_hists"><code class="docutils literal notranslate"><span class="pre">plot_four_correct_hists()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_density.plot_overlaid_densities"><code class="docutils literal notranslate"><span class="pre">plot_overlaid_densities()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_helpers">src.analysis.figure_2_helpers module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_helpers.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_helpers.run_uncertainty_figures"><code class="docutils literal notranslate"><span class="pre">run_uncertainty_figures()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_plotting_base">src.analysis.figure_2_plotting_base module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.a4_orientation"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.a4_orientation</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.a4_pdf"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.a4_pdf</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.out_pdf"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.out_pdf</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.out_png"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.out_png</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.FigureSaveConfig.title_suffix"><code class="docutils literal notranslate"><span class="pre">FigureSaveConfig.title_suffix</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.add_lower_center_legend"><code class="docutils literal notranslate"><span class="pre">add_lower_center_legend()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_plotting_base.save_figure_outputs"><code class="docutils literal notranslate"><span class="pre">save_figure_outputs()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_regression">src.analysis.figure_2_regression module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext.aha_column"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext.aha_column</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext.base_df"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext.base_df</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext.bucket_column"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext.bucket_column</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext.bucket_levels"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext.bucket_levels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext.model"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext.model</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.BucketRegressionContext.res"><code class="docutils literal notranslate"><span class="pre">BucketRegressionContext.res</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionOutputConfig"><code class="docutils literal notranslate"><span class="pre">RegressionOutputConfig</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta.bucket_labels"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta.bucket_labels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta.bucket_levels"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta.bucket_levels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta.colors"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta.colors</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta.dataset"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta.dataset</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta.model_name"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta.model_name</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPanelMeta.title"><code class="docutils literal notranslate"><span class="pre">RegressionPanelMeta.title</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig.dataset"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig.dataset</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig.frame"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig.frame</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig.model_name"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig.model_name</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig.num_bootstrap_samples"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig.num_bootstrap_samples</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig.output"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig.output</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.RegressionPlotConfig.ppx_bucket_column"><code class="docutils literal notranslate"><span class="pre">RegressionPlotConfig.ppx_bucket_column</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.VariantPlotContext"><code class="docutils literal notranslate"><span class="pre">VariantPlotContext</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.VariantPlotContext.bucket_labels"><code class="docutils literal notranslate"><span class="pre">VariantPlotContext.bucket_labels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.VariantPlotContext.bucket_levels"><code class="docutils literal notranslate"><span class="pre">VariantPlotContext.bucket_levels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.VariantPlotContext.config"><code class="docutils literal notranslate"><span class="pre">VariantPlotContext.config</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.VariantPlotContext.prepared_frame"><code class="docutils literal notranslate"><span class="pre">VariantPlotContext.prepared_frame</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.VariantPlotContext.rows_for_csv"><code class="docutils literal notranslate"><span class="pre">VariantPlotContext.rows_for_csv</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.fit_glm_interaction"><code class="docutils literal notranslate"><span class="pre">fit_glm_interaction()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.plot_regression_curves"><code class="docutils literal notranslate"><span class="pre">plot_regression_curves()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.figure_2_regression.predict_margins_by_bucket"><code class="docutils literal notranslate"><span class="pre">predict_margins_by_bucket()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.figure_2_uncertainty">src.analysis.figure_2_uncertainty module</a><ul>
<li><a class="reference internal" href="#src.analysis.figure_2_uncertainty.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.final_plot">src.analysis.final_plot module</a><ul>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
<li><a class="reference internal" href="#outputs">Outputs</a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.BinLayout"><code class="docutils literal notranslate"><span class="pre">BinLayout</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.final_plot.BinLayout.intervals"><code class="docutils literal notranslate"><span class="pre">BinLayout.intervals</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.BinLayout.tick_labels"><code class="docutils literal notranslate"><span class="pre">BinLayout.tick_labels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.BinLayout.x_positions"><code class="docutils literal notranslate"><span class="pre">BinLayout.x_positions</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.final_plot.CarparkEvalConfig"><code class="docutils literal notranslate"><span class="pre">CarparkEvalConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.final_plot.CarparkEvalConfig.carpark_op"><code class="docutils literal notranslate"><span class="pre">CarparkEvalConfig.carpark_op</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.CarparkEvalConfig.carpark_thr"><code class="docutils literal notranslate"><span class="pre">CarparkEvalConfig.carpark_thr</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.CarparkEvalConfig.max_step"><code class="docutils literal notranslate"><span class="pre">CarparkEvalConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.CarparkEvalConfig.min_step"><code class="docutils literal notranslate"><span class="pre">CarparkEvalConfig.min_step</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.final_plot.FigureOutputConfig"><code class="docutils literal notranslate"><span class="pre">FigureOutputConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.final_plot.FigureOutputConfig.dpi"><code class="docutils literal notranslate"><span class="pre">FigureOutputConfig.dpi</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.FigureOutputConfig.out_pdf"><code class="docutils literal notranslate"><span class="pre">FigureOutputConfig.out_pdf</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.FigureOutputConfig.out_png"><code class="docutils literal notranslate"><span class="pre">FigureOutputConfig.out_png</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.FigureOutputConfig.title_suffix"><code class="docutils literal notranslate"><span class="pre">FigureOutputConfig.title_suffix</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.final_plot.example_key"><code class="docutils literal notranslate"><span class="pre">example_key()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.load_dataframe"><code class="docutils literal notranslate"><span class="pre">load_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.pass2_triggered"><code class="docutils literal notranslate"><span class="pre">pass2_triggered()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.plot_figure"><code class="docutils literal notranslate"><span class="pre">plot_figure()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.final_plot.summarize_for_figure"><code class="docutils literal notranslate"><span class="pre">summarize_for_figure()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.final_plot_uncertainty_gate">src.analysis.final_plot_uncertainty_gate module</a><ul>
<li><a class="reference internal" href="#src.analysis.final_plot_uncertainty_gate.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.flips">src.analysis.flips module</a><ul>
<li><a class="reference internal" href="#src.analysis.flips.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.forced_aha_effect">src.analysis.forced_aha_effect module</a></li>
<li><a class="reference internal" href="#module-src.analysis.forced_aha_effect_impl">src.analysis.forced_aha_effect_impl module</a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.McNemarCounts"><code class="docutils literal notranslate"><span class="pre">McNemarCounts</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.both_correct"><code class="docutils literal notranslate"><span class="pre">McNemarCounts.both_correct</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.both_wrong"><code class="docutils literal notranslate"><span class="pre">McNemarCounts.both_wrong</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.p_value"><code class="docutils literal notranslate"><span class="pre">McNemarCounts.p_value</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.wins_pass1"><code class="docutils literal notranslate"><span class="pre">McNemarCounts.wins_pass1</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.McNemarCounts.wins_pass2"><code class="docutils literal notranslate"><span class="pre">McNemarCounts.wins_pass2</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts"><code class="docutils literal notranslate"><span class="pre">PlotArtifacts</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.clusters"><code class="docutils literal notranslate"><span class="pre">PlotArtifacts.clusters</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.out_dir"><code class="docutils literal notranslate"><span class="pre">PlotArtifacts.out_dir</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.pairs"><code class="docutils literal notranslate"><span class="pre">PlotArtifacts.pairs</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.step_df"><code class="docutils literal notranslate"><span class="pre">PlotArtifacts.step_df</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.PlotArtifacts.summary_rows"><code class="docutils literal notranslate"><span class="pre">PlotArtifacts.summary_rows</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.SampleRowContext"><code class="docutils literal notranslate"><span class="pre">SampleRowContext</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.SampleRowContext.entropy_field"><code class="docutils literal notranslate"><span class="pre">SampleRowContext.entropy_field</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.SampleRowContext.step_from_name"><code class="docutils literal notranslate"><span class="pre">SampleRowContext.step_from_name</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.SampleRowContext.variant"><code class="docutils literal notranslate"><span class="pre">SampleRowContext.variant</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.build_clusters"><code class="docutils literal notranslate"><span class="pre">build_clusters()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.load_samples_from_root"><code class="docutils literal notranslate"><span class="pre">load_samples_from_root()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.load_samples_from_single_root_with_both"><code class="docutils literal notranslate"><span class="pre">load_samples_from_single_root_with_both()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.pair_clusters"><code class="docutils literal notranslate"><span class="pre">pair_clusters()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.pair_samples"><code class="docutils literal notranslate"><span class="pre">pair_samples()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.rng"><code class="docutils literal notranslate"><span class="pre">rng()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_effect_impl.verdict_line"><code class="docutils literal notranslate"><span class="pre">verdict_line()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.forced_aha_plotting">src.analysis.forced_aha_plotting module</a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.BucketSeries"><code class="docutils literal notranslate"><span class="pre">BucketSeries</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.BucketSeries.delta"><code class="docutils literal notranslate"><span class="pre">BucketSeries.delta</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.BucketSeries.lower"><code class="docutils literal notranslate"><span class="pre">BucketSeries.lower</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.BucketSeries.upper"><code class="docutils literal notranslate"><span class="pre">BucketSeries.upper</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.ConversionSegment"><code class="docutils literal notranslate"><span class="pre">ConversionSegment</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.ConversionSegment.color"><code class="docutils literal notranslate"><span class="pre">ConversionSegment.color</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.ConversionSegment.count"><code class="docutils literal notranslate"><span class="pre">ConversionSegment.count</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.ConversionSegment.label"><code class="docutils literal notranslate"><span class="pre">ConversionSegment.label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.color"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar.color</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.error_lower"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar.error_lower</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.error_upper"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar.error_upper</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.height"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar.height</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.label"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar.label</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaBar.p_value"><code class="docutils literal notranslate"><span class="pre">OverallDeltaBar.p_value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig"><code class="docutils literal notranslate"><span class="pre">OverallDeltaConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig.n_boot"><code class="docutils literal notranslate"><span class="pre">OverallDeltaConfig.n_boot</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig.palette"><code class="docutils literal notranslate"><span class="pre">OverallDeltaConfig.palette</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaConfig.seed"><code class="docutils literal notranslate"><span class="pre">OverallDeltaConfig.seed</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs"><code class="docutils literal notranslate"><span class="pre">OverallDeltaInputs</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs.clusters_df"><code class="docutils literal notranslate"><span class="pre">OverallDeltaInputs.clusters_df</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs.pairs_df"><code class="docutils literal notranslate"><span class="pre">OverallDeltaInputs.pairs_df</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.OverallDeltaInputs.summary_rows"><code class="docutils literal notranslate"><span class="pre">OverallDeltaInputs.summary_rows</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig"><code class="docutils literal notranslate"><span class="pre">SeriesPlotConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.darken"><code class="docutils literal notranslate"><span class="pre">SeriesPlotConfig.darken</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.n_boot"><code class="docutils literal notranslate"><span class="pre">SeriesPlotConfig.n_boot</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.out_dir"><code class="docutils literal notranslate"><span class="pre">SeriesPlotConfig.out_dir</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.palette_name"><code class="docutils literal notranslate"><span class="pre">SeriesPlotConfig.palette_name</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.SeriesPlotConfig.seed"><code class="docutils literal notranslate"><span class="pre">SeriesPlotConfig.seed</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseColors"><code class="docutils literal notranslate"><span class="pre">StepwiseColors</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseColors.any_correct"><code class="docutils literal notranslate"><span class="pre">StepwiseColors.any_correct</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseColors.mean"><code class="docutils literal notranslate"><span class="pre">StepwiseColors.mean</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseColors.sample"><code class="docutils literal notranslate"><span class="pre">StepwiseColors.sample</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseSeries"><code class="docutils literal notranslate"><span class="pre">StepwiseSeries</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseSeries.delta"><code class="docutils literal notranslate"><span class="pre">StepwiseSeries.delta</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseSeries.lower"><code class="docutils literal notranslate"><span class="pre">StepwiseSeries.lower</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseSeries.steps"><code class="docutils literal notranslate"><span class="pre">StepwiseSeries.steps</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.StepwiseSeries.upper"><code class="docutils literal notranslate"><span class="pre">StepwiseSeries.upper</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_conversion_waterfall"><code class="docutils literal notranslate"><span class="pre">plot_conversion_waterfall()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_headroom_scatter"><code class="docutils literal notranslate"><span class="pre">plot_headroom_scatter()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_overall_deltas"><code class="docutils literal notranslate"><span class="pre">plot_overall_deltas()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_overview_side_by_side"><code class="docutils literal notranslate"><span class="pre">plot_overview_side_by_side()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_stepwise_overlay"><code class="docutils literal notranslate"><span class="pre">plot_stepwise_overlay()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_uncertainty_and_stepwise"><code class="docutils literal notranslate"><span class="pre">plot_uncertainty_and_stepwise()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.plot_uncertainty_buckets"><code class="docutils literal notranslate"><span class="pre">plot_uncertainty_buckets()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_plotting.savefig"><code class="docutils literal notranslate"><span class="pre">savefig()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.forced_aha_sampling">src.analysis.forced_aha_sampling module</a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_sampling.prepare_forced_aha_samples"><code class="docutils literal notranslate"><span class="pre">prepare_forced_aha_samples()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.forced_aha_shared">src.analysis.forced_aha_shared module</a><ul>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.extract_correct_flag"><code class="docutils literal notranslate"><span class="pre">extract_correct_flag()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.extract_entropy"><code class="docutils literal notranslate"><span class="pre">extract_entropy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.extract_sample_idx"><code class="docutils literal notranslate"><span class="pre">extract_sample_idx()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.first_nonempty"><code class="docutils literal notranslate"><span class="pre">first_nonempty()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.mcnemar_from_pairs"><code class="docutils literal notranslate"><span class="pre">mcnemar_from_pairs()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.mcnemar_pvalue_table"><code class="docutils literal notranslate"><span class="pre">mcnemar_pvalue_table()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.paired_t_and_wilcoxon"><code class="docutils literal notranslate"><span class="pre">paired_t_and_wilcoxon()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.pass_with_correctness"><code class="docutils literal notranslate"><span class="pre">pass_with_correctness()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.select_pass_object"><code class="docutils literal notranslate"><span class="pre">select_pass_object()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.summarize_cluster_any"><code class="docutils literal notranslate"><span class="pre">summarize_cluster_any()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.summarize_cluster_mean"><code class="docutils literal notranslate"><span class="pre">summarize_cluster_mean()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.forced_aha_shared.summarize_sample_level"><code class="docutils literal notranslate"><span class="pre">summarize_sample_level()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.graph_1">src.analysis.graph_1 module</a><ul>
<li><a class="reference internal" href="#raw-shift-effect-per-step-scatter-only-no-trend-lines-no-legend">Raw shift effect per step (scatter only; no trend lines, no legend)</a></li>
<li><a class="reference internal" href="#id1">Outputs</a></li>
<li><a class="reference internal" href="#plot-units">Plot units</a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig"><code class="docutils literal notranslate"><span class="pre">OverlayFigureConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig.dpi"><code class="docutils literal notranslate"><span class="pre">OverlayFigureConfig.dpi</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig.height_scale"><code class="docutils literal notranslate"><span class="pre">OverlayFigureConfig.height_scale</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig.marker_size"><code class="docutils literal notranslate"><span class="pre">OverlayFigureConfig.marker_size</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig.title"><code class="docutils literal notranslate"><span class="pre">OverlayFigureConfig.title</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.OverlayFigureConfig.width_in"><code class="docutils literal notranslate"><span class="pre">OverlayFigureConfig.width_in</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_1.PanelFigureConfig"><code class="docutils literal notranslate"><span class="pre">PanelFigureConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_1.PanelFigureConfig.dpi"><code class="docutils literal notranslate"><span class="pre">PanelFigureConfig.dpi</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.PanelFigureConfig.height_scale"><code class="docutils literal notranslate"><span class="pre">PanelFigureConfig.height_scale</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.PanelFigureConfig.marker_size"><code class="docutils literal notranslate"><span class="pre">PanelFigureConfig.marker_size</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.PanelFigureConfig.width_in"><code class="docutils literal notranslate"><span class="pre">PanelFigureConfig.width_in</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig"><code class="docutils literal notranslate"><span class="pre">PlotUnitsConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig.y_scale"><code class="docutils literal notranslate"><span class="pre">PlotUnitsConfig.y_scale</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig.ylabel"><code class="docutils literal notranslate"><span class="pre">PlotUnitsConfig.ylabel</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig.ylim"><code class="docutils literal notranslate"><span class="pre">PlotUnitsConfig.ylim</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.PlotUnitsConfig.yticks"><code class="docutils literal notranslate"><span class="pre">PlotUnitsConfig.yticks</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_1.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.per_step_raw_effect"><code class="docutils literal notranslate"><span class="pre">per_step_raw_effect()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.plot_overlay_all"><code class="docutils literal notranslate"><span class="pre">plot_overlay_all()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_1.plot_panels"><code class="docutils literal notranslate"><span class="pre">plot_panels()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.graph_2">src.analysis.graph_2 module</a><ul>
<li><a class="reference internal" href="#entropy-bucket-accuracy-histograms-aha-vs-no-aha">Entropy-bucket accuracy histograms (Aha! vs No-Aha)</a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.RecordContext"><code class="docutils literal notranslate"><span class="pre">RecordContext</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_2.RecordContext.domain"><code class="docutils literal notranslate"><span class="pre">RecordContext.domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.RecordContext.path"><code class="docutils literal notranslate"><span class="pre">RecordContext.path</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.RecordContext.step_from_name"><code class="docutils literal notranslate"><span class="pre">RecordContext.step_from_name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_2.RowLoadConfig"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_2.RowLoadConfig.gpt_keys"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.gpt_keys</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.RowLoadConfig.gpt_subset_native"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.gpt_subset_native</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.RowLoadConfig.max_step"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.RowLoadConfig.min_step"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.min_step</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_2.aggregate_bins"><code class="docutils literal notranslate"><span class="pre">aggregate_bins()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.make_bins"><code class="docutils literal notranslate"><span class="pre">make_bins()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_2.plot_domain_panels"><code class="docutils literal notranslate"><span class="pre">plot_domain_panels()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.graph_3">src.analysis.graph_3 module</a><ul>
<li><a class="reference internal" href="#src.analysis.graph_3.graph_3"><code class="docutils literal notranslate"><span class="pre">graph_3()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3.graph_3_impl"><code class="docutils literal notranslate"><span class="pre">graph_3_impl()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.graph_3_impl">src.analysis.graph_3_impl module</a><ul>
<li><a class="reference internal" href="#graph-3-py-pass1-only-per-metric-variants-accuracy-reasoning-shift-counts">graph_3.py  (PASS1 ONLY, per-metric variants; accuracy + Reasoning Shift counts)</a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.args"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.args</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.color_aha"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.color_aha</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.color_noaha"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.color_noaha</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.domains"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.domains</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.edges_by_domain"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.edges_by_domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.per_domain"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.per_domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyFigureConfig.x_label"><code class="docutils literal notranslate"><span class="pre">AccuracyFigureConfig.x_label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.args"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.args</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.domains"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.domains</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.edges_by_domain"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.edges_by_domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.file_tag"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.file_tag</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.metric"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.metric</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.overall_edges"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.overall_edges</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.AccuracyTablesConfig.per_domain"><code class="docutils literal notranslate"><span class="pre">AccuracyTablesConfig.per_domain</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.BinInputs"><code class="docutils literal notranslate"><span class="pre">BinInputs</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.BinInputs.aha_flags"><code class="docutils literal notranslate"><span class="pre">BinInputs.aha_flags</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.BinInputs.correctness"><code class="docutils literal notranslate"><span class="pre">BinInputs.correctness</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.BinInputs.edges"><code class="docutils literal notranslate"><span class="pre">BinInputs.edges</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.BinInputs.entropies"><code class="docutils literal notranslate"><span class="pre">BinInputs.entropies</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig.args"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig.args</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig.color_aha"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig.color_aha</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig.domains"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig.domains</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig.edges_by_domain"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig.edges_by_domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig.per_domain"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig.per_domain</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.CountsFigureConfig.x_label"><code class="docutils literal notranslate"><span class="pre">CountsFigureConfig.x_label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.binned_accuracy"><code class="docutils literal notranslate"><span class="pre">binned_accuracy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.binned_aha_counts"><code class="docutils literal notranslate"><span class="pre">binned_aha_counts()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.carpark_correct_pass1"><code class="docutils literal notranslate"><span class="pre">carpark_correct_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.compute_bin_table"><code class="docutils literal notranslate"><span class="pre">compute_bin_table()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.compute_edges"><code class="docutils literal notranslate"><span class="pre">compute_edges()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.detect_aha_pass1"><code class="docutils literal notranslate"><span class="pre">detect_aha_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.expand_paths"><code class="docutils literal notranslate"><span class="pre">expand_paths()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.extract_pass1_answer_entropy"><code class="docutils literal notranslate"><span class="pre">extract_pass1_answer_entropy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.extract_pass1_answer_plus"><code class="docutils literal notranslate"><span class="pre">extract_pass1_answer_plus()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.extract_pass1_think_entropy"><code class="docutils literal notranslate"><span class="pre">extract_pass1_think_entropy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.extract_step"><code class="docutils literal notranslate"><span class="pre">extract_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.general_correct_pass1"><code class="docutils literal notranslate"><span class="pre">general_correct_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.graph_3_impl"><code class="docutils literal notranslate"><span class="pre">graph_3_impl()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.ignored"><code class="docutils literal notranslate"><span class="pre">ignored()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.iter_jsonl_files_many"><code class="docutils literal notranslate"><span class="pre">iter_jsonl_files_many()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.load_rows_from_roots_metric"><code class="docutils literal notranslate"><span class="pre">load_rows_from_roots_metric()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.minimal_axes"><code class="docutils literal notranslate"><span class="pre">minimal_axes()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.render_metric_accuracy"><code class="docutils literal notranslate"><span class="pre">render_metric_accuracy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.render_metric_counts"><code class="docutils literal notranslate"><span class="pre">render_metric_counts()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.save_all_formats"><code class="docutils literal notranslate"><span class="pre">save_all_formats()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_impl.temp_match"><code class="docutils literal notranslate"><span class="pre">temp_match()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.graph_3_stacked">src.analysis.graph_3_stacked module</a><ul>
<li><a class="reference internal" href="#graph-3-stacked-py-pass1-only">graph_3_stacked.py (PASS1 ONLY)</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.BinnedHistogram"><code class="docutils literal notranslate"><span class="pre">BinnedHistogram</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.BinnedHistogram.bin_width"><code class="docutils literal notranslate"><span class="pre">BinnedHistogram.bin_width</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.BinnedHistogram.centers"><code class="docutils literal notranslate"><span class="pre">BinnedHistogram.centers</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.BinnedHistogram.counts_aha"><code class="docutils literal notranslate"><span class="pre">BinnedHistogram.counts_aha</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.BinnedHistogram.counts_no_aha"><code class="docutils literal notranslate"><span class="pre">BinnedHistogram.counts_no_aha</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.BinnedHistogram.ylabel"><code class="docutils literal notranslate"><span class="pre">BinnedHistogram.ylabel</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.detect_aha_pass1"><code class="docutils literal notranslate"><span class="pre">detect_aha_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.extract_entropy_pass1"><code class="docutils literal notranslate"><span class="pre">extract_entropy_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.extract_step"><code class="docutils literal notranslate"><span class="pre">extract_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.iter_jsonl_files"><code class="docutils literal notranslate"><span class="pre">iter_jsonl_files()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.load_pass1_entropy_and_aha"><code class="docutils literal notranslate"><span class="pre">load_pass1_entropy_and_aha()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_3_stacked.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.graph_4">src.analysis.graph_4 module</a><ul>
<li><a class="reference internal" href="#what-it-does">What it does</a></li>
<li><a class="reference internal" href="#id2">Outputs</a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.AggregationConfig"><code class="docutils literal notranslate"><span class="pre">AggregationConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_4.AggregationConfig.comparison_op"><code class="docutils literal notranslate"><span class="pre">AggregationConfig.comparison_op</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.AggregationConfig.domain_name"><code class="docutils literal notranslate"><span class="pre">AggregationConfig.domain_name</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.AggregationConfig.max_step"><code class="docutils literal notranslate"><span class="pre">AggregationConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.AggregationConfig.min_step"><code class="docutils literal notranslate"><span class="pre">AggregationConfig.min_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.AggregationConfig.threshold"><code class="docutils literal notranslate"><span class="pre">AggregationConfig.threshold</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_4.DomainPlotConfig"><code class="docutils literal notranslate"><span class="pre">DomainPlotConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.graph_4.DomainPlotConfig.colors"><code class="docutils literal notranslate"><span class="pre">DomainPlotConfig.colors</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.DomainPlotConfig.labels"><code class="docutils literal notranslate"><span class="pre">DomainPlotConfig.labels</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.DomainPlotConfig.rng"><code class="docutils literal notranslate"><span class="pre">DomainPlotConfig.rng</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.graph_4.bootstrap_ci"><code class="docutils literal notranslate"><span class="pre">bootstrap_ci()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.carpark_correct"><code class="docutils literal notranslate"><span class="pre">carpark_correct()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.expand_dirs"><code class="docutils literal notranslate"><span class="pre">expand_dirs()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.extract_step"><code class="docutils literal notranslate"><span class="pre">extract_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.general_correct"><code class="docutils literal notranslate"><span class="pre">general_correct()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.group_key_for"><code class="docutils literal notranslate"><span class="pre">group_key_for()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.iter_jsonl"><code class="docutils literal notranslate"><span class="pre">iter_jsonl()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.load_per_problem"><code class="docutils literal notranslate"><span class="pre">load_per_problem()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.minimal_axes"><code class="docutils literal notranslate"><span class="pre">minimal_axes()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.pass_correct_for_domain"><code class="docutils literal notranslate"><span class="pre">pass_correct_for_domain()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.graph_4.plot_pass2_effects"><code class="docutils literal notranslate"><span class="pre">plot_pass2_effects()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h1_analysis">src.analysis.h1_analysis module</a><ul>
<li><a class="reference internal" href="#id3">Outputs</a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.build_problem_step"><code class="docutils literal notranslate"><span class="pre">build_problem_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.compute_group_accuracy_tables"><code class="docutils literal notranslate"><span class="pre">compute_group_accuracy_tables()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.fit_glm"><code class="docutils literal notranslate"><span class="pre">fit_glm()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.load_samples"><code class="docutils literal notranslate"><span class="pre">load_samples()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.mark_formal"><code class="docutils literal notranslate"><span class="pre">mark_formal()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.scan_files"><code class="docutils literal notranslate"><span class="pre">scan_files()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h1_analysis.write_a4_summary_pdf"><code class="docutils literal notranslate"><span class="pre">write_a4_summary_pdf()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h2_analysis">src.analysis.h2_analysis module</a><ul>
<li><a class="reference internal" href="#h2-are-aha-moments-important-during-different-stages-of-training">H2: Are Aha! Moments Important During Different Stages of Training?</a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis.run_pipeline"><code class="docutils literal notranslate"><span class="pre">run_pipeline()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h2_analysis_glm">src.analysis.h2_analysis_glm module</a><ul>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.ame_grid"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.ame_grid</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.bootstrap_ame"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.bootstrap_ame</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.fdr_alpha"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.fdr_alpha</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.interaction"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.interaction</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.out_dir"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.out_dir</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.penalty"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.penalty</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.StepwiseGlmConfig.ridge_l2"><code class="docutils literal notranslate"><span class="pre">StepwiseGlmConfig.ridge_l2</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.compute_pooled_step_effects"><code class="docutils literal notranslate"><span class="pre">compute_pooled_step_effects()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_glm.fit_stepwise_glms"><code class="docutils literal notranslate"><span class="pre">fit_stepwise_glms()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h2_analysis_loader">src.analysis.h2_analysis_loader module</a><ul>
<li><a class="reference internal" href="#src.analysis.h2_analysis_loader.coerce_bool"><code class="docutils literal notranslate"><span class="pre">coerce_bool()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_loader.load_pass1_rows"><code class="docutils literal notranslate"><span class="pre">load_pass1_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_loader.maybe_temp_from_path"><code class="docutils literal notranslate"><span class="pre">maybe_temp_from_path()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_analysis_loader.nat_step_from_path"><code class="docutils literal notranslate"><span class="pre">nat_step_from_path()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h2_plotting">src.analysis.h2_plotting module</a><ul>
<li><a class="reference internal" href="#src.analysis.h2_plotting.lineplot"><code class="docutils literal notranslate"><span class="pre">lineplot()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_plotting.make_all3_uncertainty_buckets_figure"><code class="docutils literal notranslate"><span class="pre">make_all3_uncertainty_buckets_figure()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_plotting.plot_ame_with_ci"><code class="docutils literal notranslate"><span class="pre">plot_ame_with_ci()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_plotting.plot_diag_panel"><code class="docutils literal notranslate"><span class="pre">plot_diag_panel()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_plotting.plot_uncertainty_hist_100bins"><code class="docutils literal notranslate"><span class="pre">plot_uncertainty_hist_100bins()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h2_temp_aha_eval">src.analysis.h2_temp_aha_eval module</a><ul>
<li><a class="reference internal" href="#h2-temperature-x-aha-analysis-stages-of-training-three-aha-definitions">H2: Temperature x Aha! analysis (+ stages of training, + three Aha definitions)</a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.assign_stage"><code class="docutils literal notranslate"><span class="pre">assign_stage()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.attach_formal_sample_level"><code class="docutils literal notranslate"><span class="pre">attach_formal_sample_level()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.compute_group_acc"><code class="docutils literal notranslate"><span class="pre">compute_group_acc()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.compute_stage_aha_counts"><code class="docutils literal notranslate"><span class="pre">compute_stage_aha_counts()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.compute_stage_group_acc"><code class="docutils literal notranslate"><span class="pre">compute_stage_group_acc()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.evaluate_for_aha_mode"><code class="docutils literal notranslate"><span class="pre">evaluate_for_aha_mode()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.fit_glm_binomial"><code class="docutils literal notranslate"><span class="pre">fit_glm_binomial()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.fit_glm_stage_interaction"><code class="docutils literal notranslate"><span class="pre">fit_glm_stage_interaction()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.load_samples"><code class="docutils literal notranslate"><span class="pre">load_samples()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h2_temp_aha_eval.restrict_to_overlap"><code class="docutils literal notranslate"><span class="pre">restrict_to_overlap()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h3_analysis">src.analysis.h3_analysis module</a><ul>
<li><a class="reference internal" href="#id4">Inputs</a></li>
<li><a class="reference internal" href="#what-this-script-builds">What this script builds</a></li>
<li><a class="reference internal" href="#cli">CLI</a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.fit_bucket_glm"><code class="docutils literal notranslate"><span class="pre">fit_bucket_glm()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.fit_pooled_glm"><code class="docutils literal notranslate"><span class="pre">fit_pooled_glm()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.load_pairs"><code class="docutils literal notranslate"><span class="pre">load_pairs()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.pairs_to_long"><code class="docutils literal notranslate"><span class="pre">pairs_to_long()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.plot_acc_by_bucket"><code class="docutils literal notranslate"><span class="pre">plot_acc_by_bucket()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_analysis.plot_ame_by_bucket"><code class="docutils literal notranslate"><span class="pre">plot_ame_by_bucket()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h3_uncertainty_buckets">src.analysis.h3_uncertainty_buckets module</a><ul>
<li><a class="reference internal" href="#uncertainty-measure">Uncertainty measure</a></li>
<li><a class="reference internal" href="#what-this-script-does">What this script does</a></li>
<li><a class="reference internal" href="#id7">Outputs</a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.build_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.maybe_plot_results"><code class="docutils literal notranslate"><span class="pre">maybe_plot_results()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.parse_bucket_edges"><code class="docutils literal notranslate"><span class="pre">parse_bucket_edges()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.prepare_pass1_dataframe"><code class="docutils literal notranslate"><span class="pre">prepare_pass1_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.run_glm_variants"><code class="docutils literal notranslate"><span class="pre">run_glm_variants()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.run_pipeline"><code class="docutils literal notranslate"><span class="pre">run_pipeline()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.run_reasking_analysis"><code class="docutils literal notranslate"><span class="pre">run_reasking_analysis()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h3_uncertainty_buckets.summarize_outputs"><code class="docutils literal notranslate"><span class="pre">summarize_outputs()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h4_analysis">src.analysis.h4_analysis module</a><ul>
<li><a class="reference internal" href="#src.analysis.h4_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.h4_analysis_impl">src.analysis.h4_analysis_impl module</a><ul>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.get_correct"><code class="docutils literal notranslate"><span class="pre">get_correct()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.get_entropy"><code class="docutils literal notranslate"><span class="pre">get_entropy()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.is_artificial_recheck"><code class="docutils literal notranslate"><span class="pre">is_artificial_recheck()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.load_pairs"><code class="docutils literal notranslate"><span class="pre">load_pairs()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.plot_accuracy_by_step"><code class="docutils literal notranslate"><span class="pre">plot_accuracy_by_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.plot_delta_correct_scatter"><code class="docutils literal notranslate"><span class="pre">plot_delta_correct_scatter()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.plot_entropy_by_step"><code class="docutils literal notranslate"><span class="pre">plot_entropy_by_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.plot_entropy_hists"><code class="docutils literal notranslate"><span class="pre">plot_entropy_hists()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.plot_heatmap_step_entropy_improve"><code class="docutils literal notranslate"><span class="pre">plot_heatmap_step_entropy_improve()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.h4_analysis_impl.scan_files"><code class="docutils literal notranslate"><span class="pre">scan_files()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.heatmap_1">src.analysis.heatmap_1 module</a><ul>
<li><a class="reference internal" href="#aha-prevalence-heatmap-1-2-3-0">Aha! Prevalence Heatmap (δ1 × δ2; δ3 = ε&gt;0)</a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.PerDomainPlotConfig"><code class="docutils literal notranslate"><span class="pre">PerDomainPlotConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.heatmap_1.PerDomainPlotConfig.cmap_name"><code class="docutils literal notranslate"><span class="pre">PerDomainPlotConfig.cmap_name</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.PerDomainPlotConfig.delta_values"><code class="docutils literal notranslate"><span class="pre">PerDomainPlotConfig.delta_values</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.PerDomainPlotConfig.label_map"><code class="docutils literal notranslate"><span class="pre">PerDomainPlotConfig.label_map</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.PerDomainPlotConfig.long_rows"><code class="docutils literal notranslate"><span class="pre">PerDomainPlotConfig.long_rows</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.PerDomainPlotConfig.out_dir"><code class="docutils literal notranslate"><span class="pre">PerDomainPlotConfig.out_dir</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.count_ahas"><code class="docutils literal notranslate"><span class="pre">count_ahas()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.frac8_label"><code class="docutils literal notranslate"><span class="pre">frac8_label()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.get_rendered_size"><code class="docutils literal notranslate"><span class="pre">get_rendered_size()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.make_step_level"><code class="docutils literal notranslate"><span class="pre">make_step_level()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.plot_heatmap"><code class="docutils literal notranslate"><span class="pre">plot_heatmap()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.set_rendered_width"><code class="docutils literal notranslate"><span class="pre">set_rendered_width()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.heatmap_1.sweep_grid"><code class="docutils literal notranslate"><span class="pre">sweep_grid()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.io">src.analysis.io module</a><ul>
<li><a class="reference internal" href="#src.analysis.io.build_files_by_domain"><code class="docutils literal notranslate"><span class="pre">build_files_by_domain()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.build_files_by_domain_for_args"><code class="docutils literal notranslate"><span class="pre">build_files_by_domain_for_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.build_jsonl_files_by_domain"><code class="docutils literal notranslate"><span class="pre">build_jsonl_files_by_domain()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.build_standard_domain_roots"><code class="docutils literal notranslate"><span class="pre">build_standard_domain_roots()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.collect_jsonl_files_for_domains"><code class="docutils literal notranslate"><span class="pre">collect_jsonl_files_for_domains()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.iter_pass1_samples_by_domain"><code class="docutils literal notranslate"><span class="pre">iter_pass1_samples_by_domain()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.iter_records_from_file"><code class="docutils literal notranslate"><span class="pre">iter_records_from_file()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.scan_files_step_only"><code class="docutils literal notranslate"><span class="pre">scan_files_step_only()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.scan_files_with_steps_or_meta"><code class="docutils literal notranslate"><span class="pre">scan_files_with_steps_or_meta()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.io.scan_jsonl_files"><code class="docutils literal notranslate"><span class="pre">scan_jsonl_files()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.labels">src.analysis.labels module</a><ul>
<li><a class="reference internal" href="#src.analysis.labels.aha_gpt"><code class="docutils literal notranslate"><span class="pre">aha_gpt()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.labels.aha_gpt_broad"><code class="docutils literal notranslate"><span class="pre">aha_gpt_broad()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.labels.aha_gpt_canonical"><code class="docutils literal notranslate"><span class="pre">aha_gpt_canonical()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.labels.aha_gpt_for_rec"><code class="docutils literal notranslate"><span class="pre">aha_gpt_for_rec()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.labels.aha_words"><code class="docutils literal notranslate"><span class="pre">aha_words()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.math_plots">src.analysis.math_plots module</a><ul>
<li><a class="reference internal" href="#src.analysis.math_plots.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.math_plots_impl">src.analysis.math_plots_impl module</a><ul>
<li><a class="reference internal" href="#src.analysis.math_plots_impl.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.math_plots_impl.make_plots"><code class="docutils literal notranslate"><span class="pre">make_plots()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.metrics">src.analysis.metrics module</a><ul>
<li><a class="reference internal" href="#src.analysis.metrics.add_step_std_column"><code class="docutils literal notranslate"><span class="pre">add_step_std_column()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.carpark_success_from_soft_reward"><code class="docutils literal notranslate"><span class="pre">carpark_success_from_soft_reward()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.cond_counts"><code class="docutils literal notranslate"><span class="pre">cond_counts()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.extract_correct"><code class="docutils literal notranslate"><span class="pre">extract_correct()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.find_correct_in_obj"><code class="docutils literal notranslate"><span class="pre">find_correct_in_obj()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.glm_cov_spec"><code class="docutils literal notranslate"><span class="pre">glm_cov_spec()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.glm_fit_with_covariance"><code class="docutils literal notranslate"><span class="pre">glm_fit_with_covariance()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.lazy_import_statsmodels"><code class="docutils literal notranslate"><span class="pre">lazy_import_statsmodels()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.make_carpark_success_fn"><code class="docutils literal notranslate"><span class="pre">make_carpark_success_fn()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.predict_formula"><code class="docutils literal notranslate"><span class="pre">predict_formula()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.shift_conditional_counts"><code class="docutils literal notranslate"><span class="pre">shift_conditional_counts()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.wilson_ci"><code class="docutils literal notranslate"><span class="pre">wilson_ci()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.metrics.write_glm_summary_header"><code class="docutils literal notranslate"><span class="pre">write_glm_summary_header()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.model_discovery">src.analysis.model_discovery module</a><ul>
<li><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig"><code class="docutils literal notranslate"><span class="pre">DiscoveryConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig.low_alias"><code class="docutils literal notranslate"><span class="pre">DiscoveryConfig.low_alias</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig.temperatures"><code class="docutils literal notranslate"><span class="pre">DiscoveryConfig.temperatures</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig.verbose"><code class="docutils literal notranslate"><span class="pre">DiscoveryConfig.verbose</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig.wanted_domains"><code class="docutils literal notranslate"><span class="pre">DiscoveryConfig.wanted_domains</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.model_discovery.DiscoveryConfig.wanted_models"><code class="docutils literal notranslate"><span class="pre">DiscoveryConfig.wanted_models</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.model_discovery.discover_roots_7b8b"><code class="docutils literal notranslate"><span class="pre">discover_roots_7b8b()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.plotting">src.analysis.plotting module</a><ul>
<li><a class="reference internal" href="#src.analysis.plotting.a4_size_inches"><code class="docutils literal notranslate"><span class="pre">a4_size_inches()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.plotting.apply_default_style"><code class="docutils literal notranslate"><span class="pre">apply_default_style()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.plotting.apply_entropy_plot_style"><code class="docutils literal notranslate"><span class="pre">apply_entropy_plot_style()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.plotting.apply_paper_font_style"><code class="docutils literal notranslate"><span class="pre">apply_paper_font_style()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.plotting.save_figure"><code class="docutils literal notranslate"><span class="pre">save_figure()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.plotting_styles">src.analysis.plotting_styles module</a><ul>
<li><a class="reference internal" href="#src.analysis.plotting_styles.cmap_colors"><code class="docutils literal notranslate"><span class="pre">cmap_colors()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.plotting_styles.darken_colors"><code class="docutils literal notranslate"><span class="pre">darken_colors()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.plotting_styles.parse_color_overrides"><code class="docutils literal notranslate"><span class="pre">parse_color_overrides()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.rq1_analysis">src.analysis.rq1_analysis module</a><ul>
<li><a class="reference internal" href="#rq1-do-reasoning-shifts-raise-model-accuracy">RQ1: Do reasoning shifts raise model accuracy?</a><ul>
<li><a class="reference internal" href="#typical-usage-from-the-repo-root">Typical usage (from the repo root)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.rq1_analysis.build_argparser"><code class="docutils literal notranslate"><span class="pre">build_argparser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.rq1_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.rq2_analysis">src.analysis.rq2_analysis module</a><ul>
<li><a class="reference internal" href="#rq2-training-stage-and-temperature-effects">RQ2: Training Stage and Temperature Effects</a><ul>
<li><a class="reference internal" href="#typical-usage-per-domain-root">Typical usage (per domain/root)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.rq2_analysis.build_argparser"><code class="docutils literal notranslate"><span class="pre">build_argparser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.rq2_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.rq3_analysis">src.analysis.rq3_analysis module</a><ul>
<li><a class="reference internal" href="#rq3-uncertainty-and-intervention-effects">RQ3: Uncertainty and Intervention Effects</a><ul>
<li><a class="reference internal" href="#id8">Typical usage (per domain/root)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.rq3_analysis.build_argparser"><code class="docutils literal notranslate"><span class="pre">build_argparser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.rq3_analysis.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.script_utils">src.analysis.script_utils module</a><ul>
<li><a class="reference internal" href="#src.analysis.script_utils.ensure_script_context"><code class="docutils literal notranslate"><span class="pre">ensure_script_context()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.shift_summary">src.analysis.shift_summary module</a><ul>
<li><a class="reference internal" href="#id11">Usage</a></li>
<li><a class="reference internal" href="#src.analysis.shift_summary.build_argparser"><code class="docutils literal notranslate"><span class="pre">build_argparser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.shift_summary.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.shift_summary.summarize_root"><code class="docutils literal notranslate"><span class="pre">summarize_root()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.table_1">src.analysis.table_1 module</a><ul>
<li><a class="reference internal" href="#aha-conditionals-domain-level-robust-to-llama-style-rows">Aha Conditionals (Domain-level) — robust to Llama-style rows</a></li>
<li><a class="reference internal" href="#key-robustness-fixes">Key robustness fixes</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig"><code class="docutils literal notranslate"><span class="pre">GptAhaConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig.allow_judge_cues_non_xword"><code class="docutils literal notranslate"><span class="pre">GptAhaConfig.allow_judge_cues_non_xword</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig.broad_counts_marker_lists"><code class="docutils literal notranslate"><span class="pre">GptAhaConfig.broad_counts_marker_lists</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig.gpt_keys"><code class="docutils literal notranslate"><span class="pre">GptAhaConfig.gpt_keys</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.GptAhaConfig.gpt_subset_native"><code class="docutils literal notranslate"><span class="pre">GptAhaConfig.gpt_subset_native</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig"><code class="docutils literal notranslate"><span class="pre">LoadRowsConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig.carpark_success_fn"><code class="docutils literal notranslate"><span class="pre">LoadRowsConfig.carpark_success_fn</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig.debug"><code class="docutils literal notranslate"><span class="pre">LoadRowsConfig.debug</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig.gpt_config"><code class="docutils literal notranslate"><span class="pre">LoadRowsConfig.gpt_config</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig.max_step"><code class="docutils literal notranslate"><span class="pre">LoadRowsConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.LoadRowsConfig.min_step"><code class="docutils literal notranslate"><span class="pre">LoadRowsConfig.min_step</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.table_1.agg_domain_conditionals"><code class="docutils literal notranslate"><span class="pre">agg_domain_conditionals()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.table_1.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.temp_graph">src.analysis.temp_graph module</a><ul>
<li><a class="reference internal" href="#src.analysis.temp_graph.PlotIOConfig"><code class="docutils literal notranslate"><span class="pre">PlotIOConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.temp_graph.PlotIOConfig.dpi"><code class="docutils literal notranslate"><span class="pre">PlotIOConfig.dpi</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temp_graph.PlotIOConfig.pdf_path"><code class="docutils literal notranslate"><span class="pre">PlotIOConfig.pdf_path</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temp_graph.PlotIOConfig.png_path"><code class="docutils literal notranslate"><span class="pre">PlotIOConfig.png_path</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.temp_graph.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temp_graph.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temp_graph.make_plot"><code class="docutils literal notranslate"><span class="pre">make_plot()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temp_graph.per_temp_delta"><code class="docutils literal notranslate"><span class="pre">per_temp_delta()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.temperature_effects">src.analysis.temperature_effects module</a><ul>
<li><a class="reference internal" href="#temperature-effects-py-parallel-updated-to-support-math2-7b-joint-plotting">temperature_effects.py  (parallel; updated to support Math2/7B &amp; joint plotting)</a></li>
<li><a class="reference internal" href="#new-in-this-version">New in this version</a></li>
<li><a class="reference internal" href="#parallelism">Parallelism</a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext"><code class="docutils literal notranslate"><span class="pre">AnalysisContext</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.args"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.args</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.carpark_op"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.carpark_op</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.carpark_thr"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.carpark_thr</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.gpt_keys"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.gpt_keys</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.gpt_subset_native"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.gpt_subset_native</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.max_step_eff"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.max_step_eff</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.AnalysisContext.skip_set"><code class="docutils literal notranslate"><span class="pre">AnalysisContext.skip_set</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig"><code class="docutils literal notranslate"><span class="pre">ParallelConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.carpark_op"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.carpark_op</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.carpark_thr"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.carpark_thr</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.chunksize"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.chunksize</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.gpt_keys"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.gpt_keys</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.gpt_subset_native"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.gpt_subset_native</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.max_step"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.min_step"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.min_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.parallel_mode"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.parallel_mode</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.temp_value"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.temp_value</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ParallelConfig.workers"><code class="docutils literal notranslate"><span class="pre">ParallelConfig.workers</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig"><code class="docutils literal notranslate"><span class="pre">PlotConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.dpi"><code class="docutils literal notranslate"><span class="pre">PlotConfig.dpi</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.label_map"><code class="docutils literal notranslate"><span class="pre">PlotConfig.label_map</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.out_pdf"><code class="docutils literal notranslate"><span class="pre">PlotConfig.out_pdf</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.out_png"><code class="docutils literal notranslate"><span class="pre">PlotConfig.out_png</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.pertemp_df"><code class="docutils literal notranslate"><span class="pre">PlotConfig.pertemp_df</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.title"><code class="docutils literal notranslate"><span class="pre">PlotConfig.title</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.PlotConfig.x_temps_sorted"><code class="docutils literal notranslate"><span class="pre">PlotConfig.x_temps_sorted</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.ame_glm_temp"><code class="docutils literal notranslate"><span class="pre">ame_glm_temp()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.load_rows_parallel"><code class="docutils literal notranslate"><span class="pre">load_rows_parallel()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.make_plot"><code class="docutils literal notranslate"><span class="pre">make_plot()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.temperature_effects.per_temp_delta"><code class="docutils literal notranslate"><span class="pre">per_temp_delta()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.temperature_effects_cli">src.analysis.temperature_effects_cli module</a><ul>
<li><a class="reference internal" href="#src.analysis.temperature_effects_cli.build_temperature_effects_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_temperature_effects_arg_parser()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.uncertainty_bucket_effects">src.analysis.uncertainty_bucket_effects module</a></li>
<li><a class="reference internal" href="#module-src.analysis.uncertainty_bucket_effects_impl">src.analysis.uncertainty_bucket_effects_impl module</a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig"><code class="docutils literal notranslate"><span class="pre">BootstrapConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig.draws"><code class="docutils literal notranslate"><span class="pre">BootstrapConfig.draws</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BootstrapConfig.seed"><code class="docutils literal notranslate"><span class="pre">BootstrapConfig.seed</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths"><code class="docutils literal notranslate"><span class="pre">BucketOutputPaths</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.aha_csv"><code class="docutils literal notranslate"><span class="pre">BucketOutputPaths.aha_csv</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.combined_csv"><code class="docutils literal notranslate"><span class="pre">BucketOutputPaths.combined_csv</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.effects_csv"><code class="docutils literal notranslate"><span class="pre">BucketOutputPaths.effects_csv</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.BucketOutputPaths.odds_csv"><code class="docutils literal notranslate"><span class="pre">BucketOutputPaths.odds_csv</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig"><code class="docutils literal notranslate"><span class="pre">RootDiscoveryConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.low_alias"><code class="docutils literal notranslate"><span class="pre">RootDiscoveryConfig.low_alias</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.temps"><code class="docutils literal notranslate"><span class="pre">RootDiscoveryConfig.temps</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.verbose"><code class="docutils literal notranslate"><span class="pre">RootDiscoveryConfig.verbose</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.want_domains"><code class="docutils literal notranslate"><span class="pre">RootDiscoveryConfig.want_domains</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RootDiscoveryConfig.want_models"><code class="docutils literal notranslate"><span class="pre">RootDiscoveryConfig.want_models</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.carpark_op"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.carpark_op</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.carpark_threshold"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.carpark_threshold</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.combined_mode"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.combined_mode</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.gpt_mode"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.gpt_mode</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.model_label"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.model_label</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.temp"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.temp</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RowLoadConfig.verbose"><code class="docutils literal notranslate"><span class="pre">RowLoadConfig.verbose</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.args"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.args</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.combined_mode"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.combined_mode</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.max_step"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.max_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.metric"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.metric</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.min_step"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.min_step</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.model_label"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.model_label</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.RunForModelConfig.roots_for_model"><code class="docutils literal notranslate"><span class="pre">RunForModelConfig.roots_for_model</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts"><code class="docutils literal notranslate"><span class="pre">ShiftBucketCounts</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.correct_no_shift"><code class="docutils literal notranslate"><span class="pre">ShiftBucketCounts.correct_no_shift</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.correct_shift"><code class="docutils literal notranslate"><span class="pre">ShiftBucketCounts.correct_shift</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.no_shift"><code class="docutils literal notranslate"><span class="pre">ShiftBucketCounts.no_shift</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.shift"><code class="docutils literal notranslate"><span class="pre">ShiftBucketCounts.shift</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.ShiftBucketCounts.total"><code class="docutils literal notranslate"><span class="pre">ShiftBucketCounts.total</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.aggregate_combined"><code class="docutils literal notranslate"><span class="pre">aggregate_combined()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.assign_bins"><code class="docutils literal notranslate"><span class="pre">assign_bins()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.assign_bins_equal_count"><code class="docutils literal notranslate"><span class="pre">assign_bins_equal_count()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.assign_bins_fixed"><code class="docutils literal notranslate"><span class="pre">assign_bins_fixed()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.build_edges"><code class="docutils literal notranslate"><span class="pre">build_edges()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.discover_roots_7b8b"><code class="docutils literal notranslate"><span class="pre">discover_roots_7b8b()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.get_pid"><code class="docutils literal notranslate"><span class="pre">get_pid()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.glm_ame_bucket"><code class="docutils literal notranslate"><span class="pre">glm_ame_bucket()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.newcombe_diff_ci"><code class="docutils literal notranslate"><span class="pre">newcombe_diff_ci()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.print_anova_quick"><code class="docutils literal notranslate"><span class="pre">print_anova_quick()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.run_anova_and_cmh"><code class="docutils literal notranslate"><span class="pre">run_anova_and_cmh()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.run_for_model"><code class="docutils literal notranslate"><span class="pre">run_for_model()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.run_model_regressions"><code class="docutils literal notranslate"><span class="pre">run_model_regressions()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.uncertainty_bucket_effects_impl.scan_step_jsonls"><code class="docutils literal notranslate"><span class="pre">scan_step_jsonls()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis.utils">src.analysis.utils module</a><ul>
<li><a class="reference internal" href="#src.analysis.utils.FormalThresholds"><code class="docutils literal notranslate"><span class="pre">FormalThresholds</span></code></a><ul>
<li><a class="reference internal" href="#src.analysis.utils.FormalThresholds.delta1"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.delta1</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.FormalThresholds.delta2"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.delta2</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.FormalThresholds.delta3"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.delta3</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.FormalThresholds.min_prior_steps"><code class="docutils literal notranslate"><span class="pre">FormalThresholds.min_prior_steps</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#src.analysis.utils.add_carpark_threshold_args"><code class="docutils literal notranslate"><span class="pre">add_carpark_threshold_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_common_plot_args"><code class="docutils literal notranslate"><span class="pre">add_common_plot_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_domain_root_args"><code class="docutils literal notranslate"><span class="pre">add_domain_root_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_formal_threshold_args"><code class="docutils literal notranslate"><span class="pre">add_formal_threshold_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_gpt_label_policy_args"><code class="docutils literal notranslate"><span class="pre">add_gpt_label_policy_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_gpt_mode_arg"><code class="docutils literal notranslate"><span class="pre">add_gpt_mode_arg()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_gpt_step_and_carpark_args"><code class="docutils literal notranslate"><span class="pre">add_gpt_step_and_carpark_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_mixed_results_root_and_domain_args"><code class="docutils literal notranslate"><span class="pre">add_mixed_results_root_and_domain_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_optional_results_root_and_split_args"><code class="docutils literal notranslate"><span class="pre">add_optional_results_root_and_split_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_results_root_and_split_args"><code class="docutils literal notranslate"><span class="pre">add_results_root_and_split_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_results_root_split_and_output_args"><code class="docutils literal notranslate"><span class="pre">add_results_root_split_and_output_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_run_rq2_flag"><code class="docutils literal notranslate"><span class="pre">add_run_rq2_flag()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_split_and_gpt_mode_args"><code class="docutils literal notranslate"><span class="pre">add_split_and_gpt_mode_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_split_and_out_dir_args"><code class="docutils literal notranslate"><span class="pre">add_split_and_out_dir_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_split_arg"><code class="docutils literal notranslate"><span class="pre">add_split_arg()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_standard_domain_root_args"><code class="docutils literal notranslate"><span class="pre">add_standard_domain_root_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_temp_scan_args"><code class="docutils literal notranslate"><span class="pre">add_temp_scan_args()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.add_uncertainty_field_arg"><code class="docutils literal notranslate"><span class="pre">add_uncertainty_field_arg()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.apply_formal_marking"><code class="docutils literal notranslate"><span class="pre">apply_formal_marking()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.both_get"><code class="docutils literal notranslate"><span class="pre">both_get()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.build_mixed_root_arg_parser"><code class="docutils literal notranslate"><span class="pre">build_mixed_root_arg_parser()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.build_results_root_argv"><code class="docutils literal notranslate"><span class="pre">build_results_root_argv()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.build_roots_by_temp_from_templates"><code class="docutils literal notranslate"><span class="pre">build_roots_by_temp_from_templates()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.canon_equal"><code class="docutils literal notranslate"><span class="pre">canon_equal()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.choose_uncertainty"><code class="docutils literal notranslate"><span class="pre">choose_uncertainty()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.coerce_bool"><code class="docutils literal notranslate"><span class="pre">coerce_bool()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.coerce_float"><code class="docutils literal notranslate"><span class="pre">coerce_float()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.combined_entropy_from_pass1"><code class="docutils literal notranslate"><span class="pre">combined_entropy_from_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.entropy_from_pass1"><code class="docutils literal notranslate"><span class="pre">entropy_from_pass1()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.extract_pass1_and_step"><code class="docutils literal notranslate"><span class="pre">extract_pass1_and_step()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.first_nonempty_str"><code class="docutils literal notranslate"><span class="pre">first_nonempty_str()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.formal_flags_from_series"><code class="docutils literal notranslate"><span class="pre">formal_flags_from_series()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.formal_flags_with_gain"><code class="docutils literal notranslate"><span class="pre">formal_flags_with_gain()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.formal_prior_ok"><code class="docutils literal notranslate"><span class="pre">formal_prior_ok()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.get_aha_gpt_flag"><code class="docutils literal notranslate"><span class="pre">get_aha_gpt_flag()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.get_problem_id"><code class="docutils literal notranslate"><span class="pre">get_problem_id()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.gpt_keys_for_mode"><code class="docutils literal notranslate"><span class="pre">gpt_keys_for_mode()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.lighten_hex"><code class="docutils literal notranslate"><span class="pre">lighten_hex()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.load_legacy_main_from_path"><code class="docutils literal notranslate"><span class="pre">load_legacy_main_from_path()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.nat_step_from_path"><code class="docutils literal notranslate"><span class="pre">nat_step_from_path()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.parse_passes_argument"><code class="docutils literal notranslate"><span class="pre">parse_passes_argument()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.parse_temp_from_dir"><code class="docutils literal notranslate"><span class="pre">parse_temp_from_dir()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.problem_key_from_record"><code class="docutils literal notranslate"><span class="pre">problem_key_from_record()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.record_matches_split"><code class="docutils literal notranslate"><span class="pre">record_matches_split()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.run_module_main_with_argv"><code class="docutils literal notranslate"><span class="pre">run_module_main_with_argv()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.slugify"><code class="docutils literal notranslate"><span class="pre">slugify()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.standardize_uncertainty"><code class="docutils literal notranslate"><span class="pre">standardize_uncertainty()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.standardize_uncertainty_with_stats"><code class="docutils literal notranslate"><span class="pre">standardize_uncertainty_with_stats()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.step_from_rec_or_path"><code class="docutils literal notranslate"><span class="pre">step_from_rec_or_path()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.step_from_record_if_within_bounds"><code class="docutils literal notranslate"><span class="pre">step_from_record_if_within_bounds()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.step_within_bounds"><code class="docutils literal notranslate"><span class="pre">step_within_bounds()</span></code></a></li>
<li><a class="reference internal" href="#src.analysis.utils.truthy_flag"><code class="docutils literal notranslate"><span class="pre">truthy_flag()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.analysis">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>