Problem/Clue (if available):
Triangle $ABC$ is isosceles, with $AB=AC$ and altitude $AM=11.$ Suppose that there is a point $D$ on $\overline{AM}$ with $AD=10$ and $\angle BDC=3\angle BAC.$  Find the perimeter of triangle $ABC.$

[asy]
unitsize(0.4 cm);

pair A, B, C, D, M;

A = (0,11);
D = (0,1);
B = (-11/2,0);
C = (11/2,0);
M = (B + C)/2;

draw(A--B--C--cycle);
draw(A--M);
draw(B--D--C);

label("$A$", A, N);
label("$B$", B, SW);
label("$C$", C, SE);
label("$D$", D, NW);
label("$M$", M, S);
[/asy]

PASS-1 <think> (truncated if long):
Given: Triangle $ABC$ is isosceles, $AB=AC$, altitude $AM=11$, $AD=10$, $\angle BDC=3\angle BAC$.
Goal: Find the perimeter of triangle $ABC$.
Method: Apply trigonometric ratios, angle bisector theorem.
1. Let $\angle BAC = \theta$, then $\angle BDC = 3\theta$.
2. By the angle bisector theorem, $\frac{BD}{DC} = \frac{AB}{AC} = 1$.
3. Since $\triangle BDC$ is a right triangle, we can use trigonometric ratios to find $BC$.
4. $\tan 3\theta = \frac{10}{BC} \Rightarrow BC = \frac{10}{\tan 3\theta}$.
5. Since $\triangle ABC$ is isosceles, $AB = AC = \frac{BC}{\cos \theta}$.
6. We can use the double angle formula for tangent to find $\tan \theta$.
7. $\tan 2\theta = \frac{2\tan \theta}{1 - \tan^2 \theta} = \frac{2\sqrt{11^2 - 10^2}}{11 - 10\sqrt{11^2 - 10^2}} = \frac{21}{10}$
8. $\tan \theta = \frac{21}{10\sqrt{11^2 - 10^2}} = \frac{21}{10\sqrt{121-100}} = \frac{21}{10\sqrt{21}} = \frac{21}{10\cdot \sqrt{21}} \cdot \frac{\sqrt{21}}{\sqrt{21}} = \frac{21\sqrt{21}}{210} = \frac{\sqrt{21}}{10}$
9. $BC = \frac{10}{\tan 3\theta} = \frac{10}{\frac{3\tan \theta - \tan^3 \theta}{1 - 3\tan^2 \theta}} = \frac{10(1 - 3\tan^2 \theta)}{3\tan \theta - \tan^3 \theta} = \frac{10(1 - 3\cdot (\frac{\sqrt{21}}{10})^2)}{3\cdot \frac{\sqrt{21}}{10} - (\frac{\sqrt{21}}{10})^3} = \frac{10(1 - \frac{63}{100})}{\frac{3\sqrt{21}}{10} - \frac{21\sqrt{21}}{1000}} = \frac{10(\frac{100-63}{100})}{\frac{300\sqrt{21}-21\sqrt{21}}{1000}} = \frac{10(\frac{37}{100})}{\frac{279\sqrt{21}}{1000}} = \frac{37}{100} \cdot \frac{1000}{279\sqrt{21}} = \frac{3700}{279\sqrt{21}} \cdot \frac{\sqrt{21}}{\sqrt{21}} = \frac{3700\sqrt{21}}{279\cdot 21} = \frac{3700\sqrt{21}}{5853}$
10. $AB = AC = \frac{BC}{\cos \theta} = \frac{\frac{3700\sqrt{21}}{5853}}

Heuristic cue candidates (may be empty): (none)
first_marker_pos: -1

Return ONLY a compact JSON object with keys:
- shift_in_reasoning: true|false
- confidence: "low"|"medium"|"high"
- markers_found: string[]       (verbatim lexical cues you relied on)
- first_marker_index: integer   (character offset into <think>, -1 if absent)
- before_excerpt: string        (<=120 chars ending right before the first marker)
- after_excerpt: string         (<=140 chars starting at the first marker)
- explanation_short: string     (<=140 chars justification)


[UNPARSEABLE]
```json
{
  "shift_in_reasoning": false,
  "confidence": "high",
  "markers_found": [],
  "first_marker_index": -1,
  "before_excerpt": "Given: Triangle $ABC$ is isosceles, $AB=AC$, altitude $AM=11$, $AD=10$, $\angle BDC=3\angle BAC$. Goal: Find the perimeter of triangle $ABC",
  "after_excerpt": "Method: Apply trigonometric ratios, angle bisector theorem. 1. Let $\angle BAC = \\theta$, then $\angle BDC = 3\\theta$. 2. By the angle bis",
  "explanation_short": "No explicit cue or material revision is present; reasoning progresses methodically without corrections or shifts."
}
```